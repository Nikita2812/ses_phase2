function Pf(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();function Ff(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nu={exports:{}},Ha={},bu={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vs=Symbol.for("react.element"),Lf=Symbol.for("react.portal"),Of=Symbol.for("react.fragment"),Df=Symbol.for("react.strict_mode"),Af=Symbol.for("react.profiler"),If=Symbol.for("react.provider"),Mf=Symbol.for("react.context"),zf=Symbol.for("react.forward_ref"),Bf=Symbol.for("react.suspense"),Uf=Symbol.for("react.memo"),Wf=Symbol.for("react.lazy"),Tc=Symbol.iterator;function Hf(e){return e===null||typeof e!="object"?null:(e=Tc&&e[Tc]||e["@@iterator"],typeof e=="function"?e:null)}var ku={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Su=Object.assign,Cu={};function vr(e,t,n){this.props=e,this.context=t,this.refs=Cu,this.updater=n||ku}vr.prototype.isReactComponent={};vr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Eu(){}Eu.prototype=vr.prototype;function ro(e,t,n){this.props=e,this.context=t,this.refs=Cu,this.updater=n||ku}var so=ro.prototype=new Eu;so.constructor=ro;Su(so,vr.prototype);so.isPureReactComponent=!0;var $c=Array.isArray,Ru=Object.prototype.hasOwnProperty,ao={current:null},Tu={key:!0,ref:!0,__self:!0,__source:!0};function $u(e,t,n){var s,a={},i=null,l=null;if(t!=null)for(s in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Ru.call(t,s)&&!Tu.hasOwnProperty(s)&&(a[s]=t[s]);var o=arguments.length-2;if(o===1)a.children=n;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in o=e.defaultProps,o)a[s]===void 0&&(a[s]=o[s]);return{$$typeof:vs,type:e,key:i,ref:l,props:a,_owner:ao.current}}function qf(e,t){return{$$typeof:vs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function io(e){return typeof e=="object"&&e!==null&&e.$$typeof===vs}function Vf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Pc=/\/+/g;function gi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Vf(""+e.key):t.toString(36)}function Zs(e,t,n,s,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case vs:case Lf:l=!0}}if(l)return l=e,a=a(l),e=s===""?"."+gi(l,0):s,$c(a)?(n="",e!=null&&(n=e.replace(Pc,"$&/")+"/"),Zs(a,t,n,"",function(d){return d})):a!=null&&(io(a)&&(a=qf(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(Pc,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=s===""?".":s+":",$c(e))for(var o=0;o<e.length;o++){i=e[o];var c=s+gi(i,o);l+=Zs(i,t,n,c,a)}else if(c=Hf(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=s+gi(i,o++),l+=Zs(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Ts(e,t,n){if(e==null)return e;var s=[],a=0;return Zs(e,s,"","",function(i){return t.call(n,i,a++)}),s}function Qf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ie={current:null},ea={transition:null},Jf={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:ea,ReactCurrentOwner:ao};function Pu(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Ts,forEach:function(e,t,n){Ts(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ts(e,function(){t++}),t},toArray:function(e){return Ts(e,function(t){return t})||[]},only:function(e){if(!io(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=vr;G.Fragment=Of;G.Profiler=Af;G.PureComponent=ro;G.StrictMode=Df;G.Suspense=Bf;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jf;G.act=Pu;G.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=Su({},e.props),a=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=ao.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Ru.call(t,c)&&!Tu.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];s.children=o}return{$$typeof:vs,type:e.type,key:a,ref:i,props:s,_owner:l}};G.createContext=function(e){return e={$$typeof:Mf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:If,_context:e},e.Consumer=e};G.createElement=$u;G.createFactory=function(e){var t=$u.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:zf,render:e}};G.isValidElement=io;G.lazy=function(e){return{$$typeof:Wf,_payload:{_status:-1,_result:e},_init:Qf}};G.memo=function(e,t){return{$$typeof:Uf,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=ea.transition;ea.transition={};try{e()}finally{ea.transition=t}};G.unstable_act=Pu;G.useCallback=function(e,t){return Ie.current.useCallback(e,t)};G.useContext=function(e){return Ie.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return Ie.current.useDeferredValue(e)};G.useEffect=function(e,t){return Ie.current.useEffect(e,t)};G.useId=function(){return Ie.current.useId()};G.useImperativeHandle=function(e,t,n){return Ie.current.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return Ie.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return Ie.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return Ie.current.useMemo(e,t)};G.useReducer=function(e,t,n){return Ie.current.useReducer(e,t,n)};G.useRef=function(e){return Ie.current.useRef(e)};G.useState=function(e){return Ie.current.useState(e)};G.useSyncExternalStore=function(e,t,n){return Ie.current.useSyncExternalStore(e,t,n)};G.useTransition=function(){return Ie.current.useTransition()};G.version="18.3.1";bu.exports=G;var y=bu.exports;const Ct=Ff(y),Kf=Pf({__proto__:null,default:Ct},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf=y,Yf=Symbol.for("react.element"),Xf=Symbol.for("react.fragment"),Zf=Object.prototype.hasOwnProperty,eh=Gf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,th={key:!0,ref:!0,__self:!0,__source:!0};function Fu(e,t,n){var s,a={},i=null,l=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(s in t)Zf.call(t,s)&&!th.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)a[s]===void 0&&(a[s]=t[s]);return{$$typeof:Yf,type:e,key:i,ref:l,props:a,_owner:eh.current}}Ha.Fragment=Xf;Ha.jsx=Fu;Ha.jsxs=Fu;Nu.exports=Ha;var r=Nu.exports,el={},Lu={exports:{}},et={},Ou={exports:{}},Du={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,S){var E=M.length;M.push(S);e:for(;0<E;){var F=E-1>>>1,C=M[F];if(0<a(C,S))M[F]=S,M[E]=C,E=F;else break e}}function n(M){return M.length===0?null:M[0]}function s(M){if(M.length===0)return null;var S=M[0],E=M.pop();if(E!==S){M[0]=E;e:for(var F=0,C=M.length,$=C>>>1;F<$;){var P=2*(F+1)-1,_=M[P],U=P+1,le=M[U];if(0>a(_,E))U<C&&0>a(le,_)?(M[F]=le,M[U]=E,F=U):(M[F]=_,M[P]=E,F=P);else if(U<C&&0>a(le,E))M[F]=le,M[U]=E,F=U;else break e}}return S}function a(M,S){var E=M.sortIndex-S.sortIndex;return E!==0?E:M.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,m=null,f=3,j=!1,x=!1,b=!1,N=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(M){for(var S=n(d);S!==null;){if(S.callback===null)s(d);else if(S.startTime<=M)s(d),S.sortIndex=S.expirationTime,t(c,S);else break;S=n(d)}}function k(M){if(b=!1,g(M),!x)if(n(c)!==null)x=!0,te(v);else{var S=n(d);S!==null&&ne(k,S.startTime-M)}}function v(M,S){x=!1,b&&(b=!1,h(A),A=-1),j=!0;var E=f;try{for(g(S),m=n(c);m!==null&&(!(m.expirationTime>S)||M&&!W());){var F=m.callback;if(typeof F=="function"){m.callback=null,f=m.priorityLevel;var C=F(m.expirationTime<=S);S=e.unstable_now(),typeof C=="function"?m.callback=C:m===n(c)&&s(c),g(S)}else s(c);m=n(c)}if(m!==null)var $=!0;else{var P=n(d);P!==null&&ne(k,P.startTime-S),$=!1}return $}finally{m=null,f=E,j=!1}}var R=!1,L=null,A=-1,O=5,w=-1;function W(){return!(e.unstable_now()-w<O)}function V(){if(L!==null){var M=e.unstable_now();w=M;var S=!0;try{S=L(!0,M)}finally{S?Y():(R=!1,L=null)}}else R=!1}var Y;if(typeof p=="function")Y=function(){p(V)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,ve=K.port2;K.port1.onmessage=V,Y=function(){ve.postMessage(null)}}else Y=function(){N(V,0)};function te(M){L=M,R||(R=!0,Y())}function ne(M,S){A=N(function(){M(e.unstable_now())},S)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){x||j||(x=!0,te(v))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(M){switch(f){case 1:case 2:case 3:var S=3;break;default:S=f}var E=f;f=S;try{return M()}finally{f=E}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,S){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var E=f;f=M;try{return S()}finally{f=E}},e.unstable_scheduleCallback=function(M,S,E){var F=e.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?F+E:F):E=F,M){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=E+C,M={id:u++,callback:S,priorityLevel:M,startTime:E,expirationTime:C,sortIndex:-1},E>F?(M.sortIndex=E,t(d,M),n(c)===null&&M===n(d)&&(b?(h(A),A=-1):b=!0,ne(k,E-F))):(M.sortIndex=C,t(c,M),x||j||(x=!0,te(v))),M},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(M){var S=f;return function(){var E=f;f=S;try{return M.apply(this,arguments)}finally{f=E}}}})(Du);Ou.exports=Du;var nh=Ou.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rh=y,Ze=nh;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Au=new Set,Xr={};function Un(e,t){cr(e,t),cr(e+"Capture",t)}function cr(e,t){for(Xr[e]=t,e=0;e<t.length;e++)Au.add(t[e])}var Bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tl=Object.prototype.hasOwnProperty,sh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fc={},Lc={};function ah(e){return tl.call(Lc,e)?!0:tl.call(Fc,e)?!1:sh.test(e)?Lc[e]=!0:(Fc[e]=!0,!1)}function ih(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function lh(e,t,n,s){if(t===null||typeof t>"u"||ih(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Me(e,t,n,s,a,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ee[e]=new Me(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ee[t]=new Me(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ee[e]=new Me(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ee[e]=new Me(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ee[e]=new Me(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ee[e]=new Me(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ee[e]=new Me(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ee[e]=new Me(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ee[e]=new Me(e,5,!1,e.toLowerCase(),null,!1,!1)});var lo=/[\-:]([a-z])/g;function oo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(lo,oo);Ee[t]=new Me(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(lo,oo);Ee[t]=new Me(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(lo,oo);Ee[t]=new Me(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ee[e]=new Me(e,1,!1,e.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new Me("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ee[e]=new Me(e,1,!1,e.toLowerCase(),null,!0,!0)});function co(e,t,n,s){var a=Ee.hasOwnProperty(t)?Ee[t]:null;(a!==null?a.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(lh(t,n,a,s)&&(n=null),s||a===null?ah(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,s=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var Qt=rh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$s=Symbol.for("react.element"),qn=Symbol.for("react.portal"),Vn=Symbol.for("react.fragment"),uo=Symbol.for("react.strict_mode"),nl=Symbol.for("react.profiler"),Iu=Symbol.for("react.provider"),Mu=Symbol.for("react.context"),mo=Symbol.for("react.forward_ref"),rl=Symbol.for("react.suspense"),sl=Symbol.for("react.suspense_list"),po=Symbol.for("react.memo"),Kt=Symbol.for("react.lazy"),zu=Symbol.for("react.offscreen"),Oc=Symbol.iterator;function Cr(e){return e===null||typeof e!="object"?null:(e=Oc&&e[Oc]||e["@@iterator"],typeof e=="function"?e:null)}var me=Object.assign,yi;function Ir(e){if(yi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);yi=t&&t[1]||""}return`
`+yi+e}var vi=!1;function ji(e,t){if(!e||vi)return"";vi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var s=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){s=d}e.call(t.prototype)}else{try{throw Error()}catch(d){s=d}e()}}catch(d){if(d&&s&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),i=s.stack.split(`
`),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(l!==1||o!==1)do if(l--,o--,0>o||a[l]!==i[o]){var c=`
`+a[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{vi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ir(e):""}function oh(e){switch(e.tag){case 5:return Ir(e.type);case 16:return Ir("Lazy");case 13:return Ir("Suspense");case 19:return Ir("SuspenseList");case 0:case 2:case 15:return e=ji(e.type,!1),e;case 11:return e=ji(e.type.render,!1),e;case 1:return e=ji(e.type,!0),e;default:return""}}function al(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Vn:return"Fragment";case qn:return"Portal";case nl:return"Profiler";case uo:return"StrictMode";case rl:return"Suspense";case sl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Mu:return(e.displayName||"Context")+".Consumer";case Iu:return(e._context.displayName||"Context")+".Provider";case mo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case po:return t=e.displayName||null,t!==null?t:al(e.type)||"Memo";case Kt:t=e._payload,e=e._init;try{return al(e(t))}catch{}}return null}function ch(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return al(t);case 8:return t===uo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dh(e){var t=Bu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){s=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(l){s=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ps(e){e._valueTracker||(e._valueTracker=dh(e))}function Uu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Bu(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function ha(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function il(e,t){var n=t.checked;return me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Dc(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=gn(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Wu(e,t){t=t.checked,t!=null&&co(e,"checked",t,!1)}function ll(e,t){Wu(e,t);var n=gn(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ol(e,t.type,n):t.hasOwnProperty("defaultValue")&&ol(e,t.type,gn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ac(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ol(e,t,n){(t!=="number"||ha(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Mr=Array.isArray;function rr(e,t,n,s){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+gn(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function cl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ic(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(Mr(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:gn(n)}}function Hu(e,t){var n=gn(t.value),s=gn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function Mc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function qu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?qu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fs,Vu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fs=Fs||document.createElement("div"),Fs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Wr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uh=["Webkit","ms","Moz","O"];Object.keys(Wr).forEach(function(e){uh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Wr[t]=Wr[e]})});function Qu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Wr.hasOwnProperty(e)&&Wr[e]?(""+t).trim():t+"px"}function Ju(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,a=Qu(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,a):e[n]=a}}var mh=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ul(e,t){if(t){if(mh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function ml(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pl=null;function fo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fl=null,sr=null,ar=null;function zc(e){if(e=ws(e)){if(typeof fl!="function")throw Error(D(280));var t=e.stateNode;t&&(t=Ka(t),fl(e.stateNode,e.type,t))}}function Ku(e){sr?ar?ar.push(e):ar=[e]:sr=e}function Gu(){if(sr){var e=sr,t=ar;if(ar=sr=null,zc(e),t)for(e=0;e<t.length;e++)zc(t[e])}}function Yu(e,t){return e(t)}function Xu(){}var _i=!1;function Zu(e,t,n){if(_i)return e(t,n);_i=!0;try{return Yu(e,t,n)}finally{_i=!1,(sr!==null||ar!==null)&&(Xu(),Gu())}}function es(e,t){var n=e.stateNode;if(n===null)return null;var s=Ka(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var hl=!1;if(Bt)try{var Er={};Object.defineProperty(Er,"passive",{get:function(){hl=!0}}),window.addEventListener("test",Er,Er),window.removeEventListener("test",Er,Er)}catch{hl=!1}function ph(e,t,n,s,a,i,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var Hr=!1,xa=null,ga=!1,xl=null,fh={onError:function(e){Hr=!0,xa=e}};function hh(e,t,n,s,a,i,l,o,c){Hr=!1,xa=null,ph.apply(fh,arguments)}function xh(e,t,n,s,a,i,l,o,c){if(hh.apply(this,arguments),Hr){if(Hr){var d=xa;Hr=!1,xa=null}else throw Error(D(198));ga||(ga=!0,xl=d)}}function Wn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function em(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Bc(e){if(Wn(e)!==e)throw Error(D(188))}function gh(e){var t=e.alternate;if(!t){if(t=Wn(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,s=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Bc(a),e;if(i===s)return Bc(a),t;i=i.sibling}throw Error(D(188))}if(n.return!==s.return)n=a,s=i;else{for(var l=!1,o=a.child;o;){if(o===n){l=!0,n=a,s=i;break}if(o===s){l=!0,s=a,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,s=a;break}if(o===s){l=!0,s=i,n=a;break}o=o.sibling}if(!l)throw Error(D(189))}}if(n.alternate!==s)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function tm(e){return e=gh(e),e!==null?nm(e):null}function nm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nm(e);if(t!==null)return t;e=e.sibling}return null}var rm=Ze.unstable_scheduleCallback,Uc=Ze.unstable_cancelCallback,yh=Ze.unstable_shouldYield,vh=Ze.unstable_requestPaint,he=Ze.unstable_now,jh=Ze.unstable_getCurrentPriorityLevel,ho=Ze.unstable_ImmediatePriority,sm=Ze.unstable_UserBlockingPriority,ya=Ze.unstable_NormalPriority,_h=Ze.unstable_LowPriority,am=Ze.unstable_IdlePriority,qa=null,Et=null;function wh(e){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(qa,e,void 0,(e.current.flags&128)===128)}catch{}}var ht=Math.clz32?Math.clz32:kh,Nh=Math.log,bh=Math.LN2;function kh(e){return e>>>=0,e===0?32:31-(Nh(e)/bh|0)|0}var Ls=64,Os=4194304;function zr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function va(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,a=e.suspendedLanes,i=e.pingedLanes,l=n&268435455;if(l!==0){var o=l&~a;o!==0?s=zr(o):(i&=l,i!==0&&(s=zr(i)))}else l=n&~a,l!==0?s=zr(l):i!==0&&(s=zr(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&a)&&(a=s&-s,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-ht(t),a=1<<n,s|=e[n],t&=~a;return s}function Sh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ch(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-ht(i),o=1<<l,c=a[l];c===-1?(!(o&n)||o&s)&&(a[l]=Sh(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function gl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function im(){var e=Ls;return Ls<<=1,!(Ls&4194240)&&(Ls=64),e}function wi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function js(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ht(t),e[t]=n}function Eh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-ht(n),i=1<<a;t[a]=0,s[a]=-1,e[a]=-1,n&=~i}}function xo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-ht(n),a=1<<s;a&t|e[s]&t&&(e[s]|=t),n&=~a}}var ee=0;function lm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var om,go,cm,dm,um,yl=!1,Ds=[],sn=null,an=null,ln=null,ts=new Map,ns=new Map,Yt=[],Rh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wc(e,t){switch(e){case"focusin":case"focusout":sn=null;break;case"dragenter":case"dragleave":an=null;break;case"mouseover":case"mouseout":ln=null;break;case"pointerover":case"pointerout":ts.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ns.delete(t.pointerId)}}function Rr(e,t,n,s,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:i,targetContainers:[a]},t!==null&&(t=ws(t),t!==null&&go(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Th(e,t,n,s,a){switch(t){case"focusin":return sn=Rr(sn,e,t,n,s,a),!0;case"dragenter":return an=Rr(an,e,t,n,s,a),!0;case"mouseover":return ln=Rr(ln,e,t,n,s,a),!0;case"pointerover":var i=a.pointerId;return ts.set(i,Rr(ts.get(i)||null,e,t,n,s,a)),!0;case"gotpointercapture":return i=a.pointerId,ns.set(i,Rr(ns.get(i)||null,e,t,n,s,a)),!0}return!1}function mm(e){var t=En(e.target);if(t!==null){var n=Wn(t);if(n!==null){if(t=n.tag,t===13){if(t=em(n),t!==null){e.blockedOn=t,um(e.priority,function(){cm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ta(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=vl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);pl=s,n.target.dispatchEvent(s),pl=null}else return t=ws(n),t!==null&&go(t),e.blockedOn=n,!1;t.shift()}return!0}function Hc(e,t,n){ta(e)&&n.delete(t)}function $h(){yl=!1,sn!==null&&ta(sn)&&(sn=null),an!==null&&ta(an)&&(an=null),ln!==null&&ta(ln)&&(ln=null),ts.forEach(Hc),ns.forEach(Hc)}function Tr(e,t){e.blockedOn===t&&(e.blockedOn=null,yl||(yl=!0,Ze.unstable_scheduleCallback(Ze.unstable_NormalPriority,$h)))}function rs(e){function t(a){return Tr(a,e)}if(0<Ds.length){Tr(Ds[0],e);for(var n=1;n<Ds.length;n++){var s=Ds[n];s.blockedOn===e&&(s.blockedOn=null)}}for(sn!==null&&Tr(sn,e),an!==null&&Tr(an,e),ln!==null&&Tr(ln,e),ts.forEach(t),ns.forEach(t),n=0;n<Yt.length;n++)s=Yt[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Yt.length&&(n=Yt[0],n.blockedOn===null);)mm(n),n.blockedOn===null&&Yt.shift()}var ir=Qt.ReactCurrentBatchConfig,ja=!0;function Ph(e,t,n,s){var a=ee,i=ir.transition;ir.transition=null;try{ee=1,yo(e,t,n,s)}finally{ee=a,ir.transition=i}}function Fh(e,t,n,s){var a=ee,i=ir.transition;ir.transition=null;try{ee=4,yo(e,t,n,s)}finally{ee=a,ir.transition=i}}function yo(e,t,n,s){if(ja){var a=vl(e,t,n,s);if(a===null)Pi(e,t,s,_a,n),Wc(e,s);else if(Th(a,e,t,n,s))s.stopPropagation();else if(Wc(e,s),t&4&&-1<Rh.indexOf(e)){for(;a!==null;){var i=ws(a);if(i!==null&&om(i),i=vl(e,t,n,s),i===null&&Pi(e,t,s,_a,n),i===a)break;a=i}a!==null&&s.stopPropagation()}else Pi(e,t,s,null,n)}}var _a=null;function vl(e,t,n,s){if(_a=null,e=fo(s),e=En(e),e!==null)if(t=Wn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=em(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return _a=e,null}function pm(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jh()){case ho:return 1;case sm:return 4;case ya:case _h:return 16;case am:return 536870912;default:return 16}default:return 16}}var en=null,vo=null,na=null;function fm(){if(na)return na;var e,t=vo,n=t.length,s,a="value"in en?en.value:en.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var l=n-e;for(s=1;s<=l&&t[n-s]===a[i-s];s++);return na=a.slice(e,1<s?1-s:void 0)}function ra(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function As(){return!0}function qc(){return!1}function tt(e){function t(n,s,a,i,l){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?As:qc,this.isPropagationStopped=qc,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),t}var jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jo=tt(jr),_s=me({},jr,{view:0,detail:0}),Lh=tt(_s),Ni,bi,$r,Va=me({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_o,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$r&&($r&&e.type==="mousemove"?(Ni=e.screenX-$r.screenX,bi=e.screenY-$r.screenY):bi=Ni=0,$r=e),Ni)},movementY:function(e){return"movementY"in e?e.movementY:bi}}),Vc=tt(Va),Oh=me({},Va,{dataTransfer:0}),Dh=tt(Oh),Ah=me({},_s,{relatedTarget:0}),ki=tt(Ah),Ih=me({},jr,{animationName:0,elapsedTime:0,pseudoElement:0}),Mh=tt(Ih),zh=me({},jr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Bh=tt(zh),Uh=me({},jr,{data:0}),Qc=tt(Uh),Wh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qh[e])?!!t[e]:!1}function _o(){return Vh}var Qh=me({},_s,{key:function(e){if(e.key){var t=Wh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ra(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Hh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_o,charCode:function(e){return e.type==="keypress"?ra(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ra(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jh=tt(Qh),Kh=me({},Va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jc=tt(Kh),Gh=me({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_o}),Yh=tt(Gh),Xh=me({},jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zh=tt(Xh),ex=me({},Va,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tx=tt(ex),nx=[9,13,27,32],wo=Bt&&"CompositionEvent"in window,qr=null;Bt&&"documentMode"in document&&(qr=document.documentMode);var rx=Bt&&"TextEvent"in window&&!qr,hm=Bt&&(!wo||qr&&8<qr&&11>=qr),Kc=" ",Gc=!1;function xm(e,t){switch(e){case"keyup":return nx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qn=!1;function sx(e,t){switch(e){case"compositionend":return gm(t);case"keypress":return t.which!==32?null:(Gc=!0,Kc);case"textInput":return e=t.data,e===Kc&&Gc?null:e;default:return null}}function ax(e,t){if(Qn)return e==="compositionend"||!wo&&xm(e,t)?(e=fm(),na=vo=en=null,Qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hm&&t.locale!=="ko"?null:t.data;default:return null}}var ix={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ix[e.type]:t==="textarea"}function ym(e,t,n,s){Ku(s),t=wa(t,"onChange"),0<t.length&&(n=new jo("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var Vr=null,ss=null;function lx(e){Rm(e,0)}function Qa(e){var t=Gn(e);if(Uu(t))return e}function ox(e,t){if(e==="change")return t}var vm=!1;if(Bt){var Si;if(Bt){var Ci="oninput"in document;if(!Ci){var Xc=document.createElement("div");Xc.setAttribute("oninput","return;"),Ci=typeof Xc.oninput=="function"}Si=Ci}else Si=!1;vm=Si&&(!document.documentMode||9<document.documentMode)}function Zc(){Vr&&(Vr.detachEvent("onpropertychange",jm),ss=Vr=null)}function jm(e){if(e.propertyName==="value"&&Qa(ss)){var t=[];ym(t,ss,e,fo(e)),Zu(lx,t)}}function cx(e,t,n){e==="focusin"?(Zc(),Vr=t,ss=n,Vr.attachEvent("onpropertychange",jm)):e==="focusout"&&Zc()}function dx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qa(ss)}function ux(e,t){if(e==="click")return Qa(t)}function mx(e,t){if(e==="input"||e==="change")return Qa(t)}function px(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vt=typeof Object.is=="function"?Object.is:px;function as(e,t){if(vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!tl.call(t,a)||!vt(e[a],t[a]))return!1}return!0}function ed(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function td(e,t){var n=ed(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ed(n)}}function _m(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_m(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function wm(){for(var e=window,t=ha();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ha(e.document)}return t}function No(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fx(e){var t=wm(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&_m(n.ownerDocument.documentElement,n)){if(s!==null&&No(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(s.start,a);s=s.end===void 0?i:Math.min(s.end,a),!e.extend&&i>s&&(a=s,s=i,i=a),a=td(n,i);var l=td(n,s);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hx=Bt&&"documentMode"in document&&11>=document.documentMode,Jn=null,jl=null,Qr=null,_l=!1;function nd(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_l||Jn==null||Jn!==ha(s)||(s=Jn,"selectionStart"in s&&No(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Qr&&as(Qr,s)||(Qr=s,s=wa(jl,"onSelect"),0<s.length&&(t=new jo("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Jn)))}function Is(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Kn={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionend:Is("Transition","TransitionEnd")},Ei={},Nm={};Bt&&(Nm=document.createElement("div").style,"AnimationEvent"in window||(delete Kn.animationend.animation,delete Kn.animationiteration.animation,delete Kn.animationstart.animation),"TransitionEvent"in window||delete Kn.transitionend.transition);function Ja(e){if(Ei[e])return Ei[e];if(!Kn[e])return e;var t=Kn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Nm)return Ei[e]=t[n];return e}var bm=Ja("animationend"),km=Ja("animationiteration"),Sm=Ja("animationstart"),Cm=Ja("transitionend"),Em=new Map,rd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vn(e,t){Em.set(e,t),Un(t,[e])}for(var Ri=0;Ri<rd.length;Ri++){var Ti=rd[Ri],xx=Ti.toLowerCase(),gx=Ti[0].toUpperCase()+Ti.slice(1);vn(xx,"on"+gx)}vn(bm,"onAnimationEnd");vn(km,"onAnimationIteration");vn(Sm,"onAnimationStart");vn("dblclick","onDoubleClick");vn("focusin","onFocus");vn("focusout","onBlur");vn(Cm,"onTransitionEnd");cr("onMouseEnter",["mouseout","mouseover"]);cr("onMouseLeave",["mouseout","mouseover"]);cr("onPointerEnter",["pointerout","pointerover"]);cr("onPointerLeave",["pointerout","pointerover"]);Un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Un("onBeforeInput",["compositionend","keypress","textInput","paste"]);Un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Br));function sd(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,xh(s,t,void 0,e),e.currentTarget=null}function Rm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var l=s.length-1;0<=l;l--){var o=s[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==i&&a.isPropagationStopped())break e;sd(a,o,d),i=c}else for(l=0;l<s.length;l++){if(o=s[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==i&&a.isPropagationStopped())break e;sd(a,o,d),i=c}}}if(ga)throw e=xl,ga=!1,xl=null,e}function se(e,t){var n=t[Sl];n===void 0&&(n=t[Sl]=new Set);var s=e+"__bubble";n.has(s)||(Tm(t,e,2,!1),n.add(s))}function $i(e,t,n){var s=0;t&&(s|=4),Tm(n,e,s,t)}var Ms="_reactListening"+Math.random().toString(36).slice(2);function is(e){if(!e[Ms]){e[Ms]=!0,Au.forEach(function(n){n!=="selectionchange"&&(yx.has(n)||$i(n,!1,e),$i(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ms]||(t[Ms]=!0,$i("selectionchange",!1,t))}}function Tm(e,t,n,s){switch(pm(t)){case 1:var a=Ph;break;case 4:a=Fh;break;default:a=yo}n=a.bind(null,t,n,e),a=void 0,!hl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Pi(e,t,n,s,a){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var l=s.tag;if(l===3||l===4){var o=s.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(l===4)for(l=s.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;l=l.return}for(;o!==null;){if(l=En(o),l===null)return;if(c=l.tag,c===5||c===6){s=i=l;continue e}o=o.parentNode}}s=s.return}Zu(function(){var d=i,u=fo(n),m=[];e:{var f=Em.get(e);if(f!==void 0){var j=jo,x=e;switch(e){case"keypress":if(ra(n)===0)break e;case"keydown":case"keyup":j=Jh;break;case"focusin":x="focus",j=ki;break;case"focusout":x="blur",j=ki;break;case"beforeblur":case"afterblur":j=ki;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Dh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=Yh;break;case bm:case km:case Sm:j=Mh;break;case Cm:j=Zh;break;case"scroll":j=Lh;break;case"wheel":j=tx;break;case"copy":case"cut":case"paste":j=Bh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Jc}var b=(t&4)!==0,N=!b&&e==="scroll",h=b?f!==null?f+"Capture":null:f;b=[];for(var p=d,g;p!==null;){g=p;var k=g.stateNode;if(g.tag===5&&k!==null&&(g=k,h!==null&&(k=es(p,h),k!=null&&b.push(ls(p,k,g)))),N)break;p=p.return}0<b.length&&(f=new j(f,x,null,n,u),m.push({event:f,listeners:b}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",f&&n!==pl&&(x=n.relatedTarget||n.fromElement)&&(En(x)||x[Ut]))break e;if((j||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,j?(x=n.relatedTarget||n.toElement,j=d,x=x?En(x):null,x!==null&&(N=Wn(x),x!==N||x.tag!==5&&x.tag!==6)&&(x=null)):(j=null,x=d),j!==x)){if(b=Vc,k="onMouseLeave",h="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(b=Jc,k="onPointerLeave",h="onPointerEnter",p="pointer"),N=j==null?f:Gn(j),g=x==null?f:Gn(x),f=new b(k,p+"leave",j,n,u),f.target=N,f.relatedTarget=g,k=null,En(u)===d&&(b=new b(h,p+"enter",x,n,u),b.target=g,b.relatedTarget=N,k=b),N=k,j&&x)t:{for(b=j,h=x,p=0,g=b;g;g=Hn(g))p++;for(g=0,k=h;k;k=Hn(k))g++;for(;0<p-g;)b=Hn(b),p--;for(;0<g-p;)h=Hn(h),g--;for(;p--;){if(b===h||h!==null&&b===h.alternate)break t;b=Hn(b),h=Hn(h)}b=null}else b=null;j!==null&&ad(m,f,j,b,!1),x!==null&&N!==null&&ad(m,N,x,b,!0)}}e:{if(f=d?Gn(d):window,j=f.nodeName&&f.nodeName.toLowerCase(),j==="select"||j==="input"&&f.type==="file")var v=ox;else if(Yc(f))if(vm)v=mx;else{v=dx;var R=cx}else(j=f.nodeName)&&j.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(v=ux);if(v&&(v=v(e,d))){ym(m,v,n,u);break e}R&&R(e,f,d),e==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&ol(f,"number",f.value)}switch(R=d?Gn(d):window,e){case"focusin":(Yc(R)||R.contentEditable==="true")&&(Jn=R,jl=d,Qr=null);break;case"focusout":Qr=jl=Jn=null;break;case"mousedown":_l=!0;break;case"contextmenu":case"mouseup":case"dragend":_l=!1,nd(m,n,u);break;case"selectionchange":if(hx)break;case"keydown":case"keyup":nd(m,n,u)}var L;if(wo)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Qn?xm(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(hm&&n.locale!=="ko"&&(Qn||A!=="onCompositionStart"?A==="onCompositionEnd"&&Qn&&(L=fm()):(en=u,vo="value"in en?en.value:en.textContent,Qn=!0)),R=wa(d,A),0<R.length&&(A=new Qc(A,e,null,n,u),m.push({event:A,listeners:R}),L?A.data=L:(L=gm(n),L!==null&&(A.data=L)))),(L=rx?sx(e,n):ax(e,n))&&(d=wa(d,"onBeforeInput"),0<d.length&&(u=new Qc("onBeforeInput","beforeinput",null,n,u),m.push({event:u,listeners:d}),u.data=L))}Rm(m,t)})}function ls(e,t,n){return{instance:e,listener:t,currentTarget:n}}function wa(e,t){for(var n=t+"Capture",s=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=es(e,n),i!=null&&s.unshift(ls(e,i,a)),i=es(e,t),i!=null&&s.push(ls(e,i,a))),e=e.return}return s}function Hn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ad(e,t,n,s,a){for(var i=t._reactName,l=[];n!==null&&n!==s;){var o=n,c=o.alternate,d=o.stateNode;if(c!==null&&c===s)break;o.tag===5&&d!==null&&(o=d,a?(c=es(n,i),c!=null&&l.unshift(ls(n,c,o))):a||(c=es(n,i),c!=null&&l.push(ls(n,c,o)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var vx=/\r\n?/g,jx=/\u0000|\uFFFD/g;function id(e){return(typeof e=="string"?e:""+e).replace(vx,`
`).replace(jx,"")}function zs(e,t,n){if(t=id(t),id(e)!==t&&n)throw Error(D(425))}function Na(){}var wl=null,Nl=null;function bl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var kl=typeof setTimeout=="function"?setTimeout:void 0,_x=typeof clearTimeout=="function"?clearTimeout:void 0,ld=typeof Promise=="function"?Promise:void 0,wx=typeof queueMicrotask=="function"?queueMicrotask:typeof ld<"u"?function(e){return ld.resolve(null).then(e).catch(Nx)}:kl;function Nx(e){setTimeout(function(){throw e})}function Fi(e,t){var n=t,s=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(s===0){e.removeChild(a),rs(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=a}while(n);rs(t)}function on(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function od(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var _r=Math.random().toString(36).slice(2),kt="__reactFiber$"+_r,os="__reactProps$"+_r,Ut="__reactContainer$"+_r,Sl="__reactEvents$"+_r,bx="__reactListeners$"+_r,kx="__reactHandles$"+_r;function En(e){var t=e[kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ut]||n[kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=od(e);e!==null;){if(n=e[kt])return n;e=od(e)}return t}e=n,n=e.parentNode}return null}function ws(e){return e=e[kt]||e[Ut],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function Ka(e){return e[os]||null}var Cl=[],Yn=-1;function jn(e){return{current:e}}function ie(e){0>Yn||(e.current=Cl[Yn],Cl[Yn]=null,Yn--)}function re(e,t){Yn++,Cl[Yn]=e.current,e.current=t}var yn={},Fe=jn(yn),qe=jn(!1),On=yn;function dr(e,t){var n=e.type.contextTypes;if(!n)return yn;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ve(e){return e=e.childContextTypes,e!=null}function ba(){ie(qe),ie(Fe)}function cd(e,t,n){if(Fe.current!==yn)throw Error(D(168));re(Fe,t),re(qe,n)}function $m(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var a in s)if(!(a in t))throw Error(D(108,ch(e)||"Unknown",a));return me({},n,s)}function ka(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||yn,On=Fe.current,re(Fe,e),re(qe,qe.current),!0}function dd(e,t,n){var s=e.stateNode;if(!s)throw Error(D(169));n?(e=$m(e,t,On),s.__reactInternalMemoizedMergedChildContext=e,ie(qe),ie(Fe),re(Fe,e)):ie(qe),re(qe,n)}var Ot=null,Ga=!1,Li=!1;function Pm(e){Ot===null?Ot=[e]:Ot.push(e)}function Sx(e){Ga=!0,Pm(e)}function _n(){if(!Li&&Ot!==null){Li=!0;var e=0,t=ee;try{var n=Ot;for(ee=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}Ot=null,Ga=!1}catch(a){throw Ot!==null&&(Ot=Ot.slice(e+1)),rm(ho,_n),a}finally{ee=t,Li=!1}}return null}var Xn=[],Zn=0,Sa=null,Ca=0,rt=[],st=0,Dn=null,Dt=1,At="";function Sn(e,t){Xn[Zn++]=Ca,Xn[Zn++]=Sa,Sa=e,Ca=t}function Fm(e,t,n){rt[st++]=Dt,rt[st++]=At,rt[st++]=Dn,Dn=e;var s=Dt;e=At;var a=32-ht(s)-1;s&=~(1<<a),n+=1;var i=32-ht(t)+a;if(30<i){var l=a-a%5;i=(s&(1<<l)-1).toString(32),s>>=l,a-=l,Dt=1<<32-ht(t)+a|n<<a|s,At=i+e}else Dt=1<<i|n<<a|s,At=e}function bo(e){e.return!==null&&(Sn(e,1),Fm(e,1,0))}function ko(e){for(;e===Sa;)Sa=Xn[--Zn],Xn[Zn]=null,Ca=Xn[--Zn],Xn[Zn]=null;for(;e===Dn;)Dn=rt[--st],rt[st]=null,At=rt[--st],rt[st]=null,Dt=rt[--st],rt[st]=null}var Xe=null,Ye=null,ce=!1,ft=null;function Lm(e,t){var n=it(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ud(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Xe=e,Ye=on(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Xe=e,Ye=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Dn!==null?{id:Dt,overflow:At}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=it(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Xe=e,Ye=null,!0):!1;default:return!1}}function El(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Rl(e){if(ce){var t=Ye;if(t){var n=t;if(!ud(e,t)){if(El(e))throw Error(D(418));t=on(n.nextSibling);var s=Xe;t&&ud(e,t)?Lm(s,n):(e.flags=e.flags&-4097|2,ce=!1,Xe=e)}}else{if(El(e))throw Error(D(418));e.flags=e.flags&-4097|2,ce=!1,Xe=e}}}function md(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Xe=e}function Bs(e){if(e!==Xe)return!1;if(!ce)return md(e),ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bl(e.type,e.memoizedProps)),t&&(t=Ye)){if(El(e))throw Om(),Error(D(418));for(;t;)Lm(e,t),t=on(t.nextSibling)}if(md(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ye=on(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ye=null}}else Ye=Xe?on(e.stateNode.nextSibling):null;return!0}function Om(){for(var e=Ye;e;)e=on(e.nextSibling)}function ur(){Ye=Xe=null,ce=!1}function So(e){ft===null?ft=[e]:ft.push(e)}var Cx=Qt.ReactCurrentBatchConfig;function Pr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var s=n.stateNode}if(!s)throw Error(D(147,e));var a=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var o=a.refs;l===null?delete o[i]:o[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function Us(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pd(e){var t=e._init;return t(e._payload)}function Dm(e){function t(h,p){if(e){var g=h.deletions;g===null?(h.deletions=[p],h.flags|=16):g.push(p)}}function n(h,p){if(!e)return null;for(;p!==null;)t(h,p),p=p.sibling;return null}function s(h,p){for(h=new Map;p!==null;)p.key!==null?h.set(p.key,p):h.set(p.index,p),p=p.sibling;return h}function a(h,p){return h=mn(h,p),h.index=0,h.sibling=null,h}function i(h,p,g){return h.index=g,e?(g=h.alternate,g!==null?(g=g.index,g<p?(h.flags|=2,p):g):(h.flags|=2,p)):(h.flags|=1048576,p)}function l(h){return e&&h.alternate===null&&(h.flags|=2),h}function o(h,p,g,k){return p===null||p.tag!==6?(p=Bi(g,h.mode,k),p.return=h,p):(p=a(p,g),p.return=h,p)}function c(h,p,g,k){var v=g.type;return v===Vn?u(h,p,g.props.children,k,g.key):p!==null&&(p.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===Kt&&pd(v)===p.type)?(k=a(p,g.props),k.ref=Pr(h,p,g),k.return=h,k):(k=da(g.type,g.key,g.props,null,h.mode,k),k.ref=Pr(h,p,g),k.return=h,k)}function d(h,p,g,k){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Ui(g,h.mode,k),p.return=h,p):(p=a(p,g.children||[]),p.return=h,p)}function u(h,p,g,k,v){return p===null||p.tag!==7?(p=Fn(g,h.mode,k,v),p.return=h,p):(p=a(p,g),p.return=h,p)}function m(h,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Bi(""+p,h.mode,g),p.return=h,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case $s:return g=da(p.type,p.key,p.props,null,h.mode,g),g.ref=Pr(h,null,p),g.return=h,g;case qn:return p=Ui(p,h.mode,g),p.return=h,p;case Kt:var k=p._init;return m(h,k(p._payload),g)}if(Mr(p)||Cr(p))return p=Fn(p,h.mode,g,null),p.return=h,p;Us(h,p)}return null}function f(h,p,g,k){var v=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return v!==null?null:o(h,p,""+g,k);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case $s:return g.key===v?c(h,p,g,k):null;case qn:return g.key===v?d(h,p,g,k):null;case Kt:return v=g._init,f(h,p,v(g._payload),k)}if(Mr(g)||Cr(g))return v!==null?null:u(h,p,g,k,null);Us(h,g)}return null}function j(h,p,g,k,v){if(typeof k=="string"&&k!==""||typeof k=="number")return h=h.get(g)||null,o(p,h,""+k,v);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case $s:return h=h.get(k.key===null?g:k.key)||null,c(p,h,k,v);case qn:return h=h.get(k.key===null?g:k.key)||null,d(p,h,k,v);case Kt:var R=k._init;return j(h,p,g,R(k._payload),v)}if(Mr(k)||Cr(k))return h=h.get(g)||null,u(p,h,k,v,null);Us(p,k)}return null}function x(h,p,g,k){for(var v=null,R=null,L=p,A=p=0,O=null;L!==null&&A<g.length;A++){L.index>A?(O=L,L=null):O=L.sibling;var w=f(h,L,g[A],k);if(w===null){L===null&&(L=O);break}e&&L&&w.alternate===null&&t(h,L),p=i(w,p,A),R===null?v=w:R.sibling=w,R=w,L=O}if(A===g.length)return n(h,L),ce&&Sn(h,A),v;if(L===null){for(;A<g.length;A++)L=m(h,g[A],k),L!==null&&(p=i(L,p,A),R===null?v=L:R.sibling=L,R=L);return ce&&Sn(h,A),v}for(L=s(h,L);A<g.length;A++)O=j(L,h,A,g[A],k),O!==null&&(e&&O.alternate!==null&&L.delete(O.key===null?A:O.key),p=i(O,p,A),R===null?v=O:R.sibling=O,R=O);return e&&L.forEach(function(W){return t(h,W)}),ce&&Sn(h,A),v}function b(h,p,g,k){var v=Cr(g);if(typeof v!="function")throw Error(D(150));if(g=v.call(g),g==null)throw Error(D(151));for(var R=v=null,L=p,A=p=0,O=null,w=g.next();L!==null&&!w.done;A++,w=g.next()){L.index>A?(O=L,L=null):O=L.sibling;var W=f(h,L,w.value,k);if(W===null){L===null&&(L=O);break}e&&L&&W.alternate===null&&t(h,L),p=i(W,p,A),R===null?v=W:R.sibling=W,R=W,L=O}if(w.done)return n(h,L),ce&&Sn(h,A),v;if(L===null){for(;!w.done;A++,w=g.next())w=m(h,w.value,k),w!==null&&(p=i(w,p,A),R===null?v=w:R.sibling=w,R=w);return ce&&Sn(h,A),v}for(L=s(h,L);!w.done;A++,w=g.next())w=j(L,h,A,w.value,k),w!==null&&(e&&w.alternate!==null&&L.delete(w.key===null?A:w.key),p=i(w,p,A),R===null?v=w:R.sibling=w,R=w);return e&&L.forEach(function(V){return t(h,V)}),ce&&Sn(h,A),v}function N(h,p,g,k){if(typeof g=="object"&&g!==null&&g.type===Vn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case $s:e:{for(var v=g.key,R=p;R!==null;){if(R.key===v){if(v=g.type,v===Vn){if(R.tag===7){n(h,R.sibling),p=a(R,g.props.children),p.return=h,h=p;break e}}else if(R.elementType===v||typeof v=="object"&&v!==null&&v.$$typeof===Kt&&pd(v)===R.type){n(h,R.sibling),p=a(R,g.props),p.ref=Pr(h,R,g),p.return=h,h=p;break e}n(h,R);break}else t(h,R);R=R.sibling}g.type===Vn?(p=Fn(g.props.children,h.mode,k,g.key),p.return=h,h=p):(k=da(g.type,g.key,g.props,null,h.mode,k),k.ref=Pr(h,p,g),k.return=h,h=k)}return l(h);case qn:e:{for(R=g.key;p!==null;){if(p.key===R)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(h,p.sibling),p=a(p,g.children||[]),p.return=h,h=p;break e}else{n(h,p);break}else t(h,p);p=p.sibling}p=Ui(g,h.mode,k),p.return=h,h=p}return l(h);case Kt:return R=g._init,N(h,p,R(g._payload),k)}if(Mr(g))return x(h,p,g,k);if(Cr(g))return b(h,p,g,k);Us(h,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(h,p.sibling),p=a(p,g),p.return=h,h=p):(n(h,p),p=Bi(g,h.mode,k),p.return=h,h=p),l(h)):n(h,p)}return N}var mr=Dm(!0),Am=Dm(!1),Ea=jn(null),Ra=null,er=null,Co=null;function Eo(){Co=er=Ra=null}function Ro(e){var t=Ea.current;ie(Ea),e._currentValue=t}function Tl(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function lr(e,t){Ra=e,Co=er=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function ct(e){var t=e._currentValue;if(Co!==e)if(e={context:e,memoizedValue:t,next:null},er===null){if(Ra===null)throw Error(D(308));er=e,Ra.dependencies={lanes:0,firstContext:e}}else er=er.next=e;return t}var Rn=null;function To(e){Rn===null?Rn=[e]:Rn.push(e)}function Im(e,t,n,s){var a=t.interleaved;return a===null?(n.next=n,To(t)):(n.next=a.next,a.next=n),t.interleaved=n,Wt(e,s)}function Wt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Gt=!1;function $o(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cn(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,Z&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,Wt(e,n)}return a=s.interleaved,a===null?(t.next=t,To(s)):(t.next=a.next,a.next=t),s.interleaved=t,Wt(e,n)}function sa(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,xo(e,n)}}function fd(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ta(e,t,n,s){var a=e.updateQueue;Gt=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(i!==null){var m=a.baseState;l=0,u=d=c=null,o=i;do{var f=o.lane,j=o.eventTime;if((s&f)===f){u!==null&&(u=u.next={eventTime:j,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=e,b=o;switch(f=t,j=n,b.tag){case 1:if(x=b.payload,typeof x=="function"){m=x.call(j,m,f);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,f=typeof x=="function"?x.call(j,m,f):x,f==null)break e;m=me({},m,f);break e;case 2:Gt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=a.effects,f===null?a.effects=[o]:f.push(o))}else j={eventTime:j,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=j,c=m):u=u.next=j,l|=f;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;f=o,o=f.next,f.next=null,a.lastBaseUpdate=f,a.shared.pending=null}}while(!0);if(u===null&&(c=m),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);In|=l,e.lanes=l,e.memoizedState=m}}function hd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],a=s.callback;if(a!==null){if(s.callback=null,s=n,typeof a!="function")throw Error(D(191,a));a.call(s)}}}var Ns={},Rt=jn(Ns),cs=jn(Ns),ds=jn(Ns);function Tn(e){if(e===Ns)throw Error(D(174));return e}function Po(e,t){switch(re(ds,t),re(cs,e),re(Rt,Ns),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:dl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=dl(t,e)}ie(Rt),re(Rt,t)}function pr(){ie(Rt),ie(cs),ie(ds)}function zm(e){Tn(ds.current);var t=Tn(Rt.current),n=dl(t,e.type);t!==n&&(re(cs,e),re(Rt,n))}function Fo(e){cs.current===e&&(ie(Rt),ie(cs))}var de=jn(0);function $a(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Oi=[];function Lo(){for(var e=0;e<Oi.length;e++)Oi[e]._workInProgressVersionPrimary=null;Oi.length=0}var aa=Qt.ReactCurrentDispatcher,Di=Qt.ReactCurrentBatchConfig,An=0,ue=null,je=null,we=null,Pa=!1,Jr=!1,us=0,Ex=0;function Re(){throw Error(D(321))}function Oo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!vt(e[n],t[n]))return!1;return!0}function Do(e,t,n,s,a,i){if(An=i,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,aa.current=e===null||e.memoizedState===null?Px:Fx,e=n(s,a),Jr){i=0;do{if(Jr=!1,us=0,25<=i)throw Error(D(301));i+=1,we=je=null,t.updateQueue=null,aa.current=Lx,e=n(s,a)}while(Jr)}if(aa.current=Fa,t=je!==null&&je.next!==null,An=0,we=je=ue=null,Pa=!1,t)throw Error(D(300));return e}function Ao(){var e=us!==0;return us=0,e}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?ue.memoizedState=we=e:we=we.next=e,we}function dt(){if(je===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=we===null?ue.memoizedState:we.next;if(t!==null)we=t,je=e;else{if(e===null)throw Error(D(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},we===null?ue.memoizedState=we=e:we=we.next=e}return we}function ms(e,t){return typeof t=="function"?t(e):t}function Ai(e){var t=dt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var s=je,a=s.baseQueue,i=n.pending;if(i!==null){if(a!==null){var l=a.next;a.next=i.next,i.next=l}s.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,s=s.baseState;var o=l=null,c=null,d=i;do{var u=d.lane;if((An&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),s=d.hasEagerState?d.eagerState:e(s,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=m,l=s):c=c.next=m,ue.lanes|=u,In|=u}d=d.next}while(d!==null&&d!==i);c===null?l=s:c.next=o,vt(s,t.memoizedState)||(We=!0),t.memoizedState=s,t.baseState=l,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){a=e;do i=a.lane,ue.lanes|=i,In|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ii(e){var t=dt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var l=a=a.next;do i=e(i,l.action),l=l.next;while(l!==a);vt(i,t.memoizedState)||(We=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,s]}function Bm(){}function Um(e,t){var n=ue,s=dt(),a=t(),i=!vt(s.memoizedState,a);if(i&&(s.memoizedState=a,We=!0),s=s.queue,Io(qm.bind(null,n,s,e),[e]),s.getSnapshot!==t||i||we!==null&&we.memoizedState.tag&1){if(n.flags|=2048,ps(9,Hm.bind(null,n,s,a,t),void 0,null),be===null)throw Error(D(349));An&30||Wm(n,t,a)}return a}function Wm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Hm(e,t,n,s){t.value=n,t.getSnapshot=s,Vm(t)&&Qm(e)}function qm(e,t,n){return n(function(){Vm(t)&&Qm(e)})}function Vm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!vt(e,n)}catch{return!0}}function Qm(e){var t=Wt(e,1);t!==null&&xt(t,e,1,-1)}function xd(e){var t=bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:e},t.queue=e,e=e.dispatch=$x.bind(null,ue,e),[t.memoizedState,e]}function ps(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Jm(){return dt().memoizedState}function ia(e,t,n,s){var a=bt();ue.flags|=e,a.memoizedState=ps(1|t,n,void 0,s===void 0?null:s)}function Ya(e,t,n,s){var a=dt();s=s===void 0?null:s;var i=void 0;if(je!==null){var l=je.memoizedState;if(i=l.destroy,s!==null&&Oo(s,l.deps)){a.memoizedState=ps(t,n,i,s);return}}ue.flags|=e,a.memoizedState=ps(1|t,n,i,s)}function gd(e,t){return ia(8390656,8,e,t)}function Io(e,t){return Ya(2048,8,e,t)}function Km(e,t){return Ya(4,2,e,t)}function Gm(e,t){return Ya(4,4,e,t)}function Ym(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xm(e,t,n){return n=n!=null?n.concat([e]):null,Ya(4,4,Ym.bind(null,t,e),n)}function Mo(){}function Zm(e,t){var n=dt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Oo(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function ep(e,t){var n=dt();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Oo(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function tp(e,t,n){return An&21?(vt(n,t)||(n=im(),ue.lanes|=n,In|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=n)}function Rx(e,t){var n=ee;ee=n!==0&&4>n?n:4,e(!0);var s=Di.transition;Di.transition={};try{e(!1),t()}finally{ee=n,Di.transition=s}}function np(){return dt().memoizedState}function Tx(e,t,n){var s=un(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},rp(e))sp(t,n);else if(n=Im(e,t,n,s),n!==null){var a=Ae();xt(n,e,s,a),ap(n,t,s)}}function $x(e,t,n){var s=un(e),a={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(rp(e))sp(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,o=i(l,n);if(a.hasEagerState=!0,a.eagerState=o,vt(o,l)){var c=t.interleaved;c===null?(a.next=a,To(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=Im(e,t,a,s),n!==null&&(a=Ae(),xt(n,e,s,a),ap(n,t,s))}}function rp(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function sp(e,t){Jr=Pa=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ap(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,xo(e,n)}}var Fa={readContext:ct,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useInsertionEffect:Re,useLayoutEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useMutableSource:Re,useSyncExternalStore:Re,useId:Re,unstable_isNewReconciler:!1},Px={readContext:ct,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:gd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ia(4194308,4,Ym.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ia(4194308,4,e,t)},useInsertionEffect:function(e,t){return ia(4,2,e,t)},useMemo:function(e,t){var n=bt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=bt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Tx.bind(null,ue,e),[s.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:xd,useDebugValue:Mo,useDeferredValue:function(e){return bt().memoizedState=e},useTransition:function(){var e=xd(!1),t=e[0];return e=Rx.bind(null,e[1]),bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=ue,a=bt();if(ce){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),be===null)throw Error(D(349));An&30||Wm(s,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,gd(qm.bind(null,s,i,e),[e]),s.flags|=2048,ps(9,Hm.bind(null,s,i,n,t),void 0,null),n},useId:function(){var e=bt(),t=be.identifierPrefix;if(ce){var n=At,s=Dt;n=(s&~(1<<32-ht(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=us++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ex++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fx={readContext:ct,useCallback:Zm,useContext:ct,useEffect:Io,useImperativeHandle:Xm,useInsertionEffect:Km,useLayoutEffect:Gm,useMemo:ep,useReducer:Ai,useRef:Jm,useState:function(){return Ai(ms)},useDebugValue:Mo,useDeferredValue:function(e){var t=dt();return tp(t,je.memoizedState,e)},useTransition:function(){var e=Ai(ms)[0],t=dt().memoizedState;return[e,t]},useMutableSource:Bm,useSyncExternalStore:Um,useId:np,unstable_isNewReconciler:!1},Lx={readContext:ct,useCallback:Zm,useContext:ct,useEffect:Io,useImperativeHandle:Xm,useInsertionEffect:Km,useLayoutEffect:Gm,useMemo:ep,useReducer:Ii,useRef:Jm,useState:function(){return Ii(ms)},useDebugValue:Mo,useDeferredValue:function(e){var t=dt();return je===null?t.memoizedState=e:tp(t,je.memoizedState,e)},useTransition:function(){var e=Ii(ms)[0],t=dt().memoizedState;return[e,t]},useMutableSource:Bm,useSyncExternalStore:Um,useId:np,unstable_isNewReconciler:!1};function mt(e,t){if(e&&e.defaultProps){t=me({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function $l(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:me({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Xa={isMounted:function(e){return(e=e._reactInternals)?Wn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Ae(),a=un(e),i=Mt(s,a);i.payload=t,n!=null&&(i.callback=n),t=cn(e,i,a),t!==null&&(xt(t,e,a,s),sa(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Ae(),a=un(e),i=Mt(s,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=cn(e,i,a),t!==null&&(xt(t,e,a,s),sa(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ae(),s=un(e),a=Mt(n,s);a.tag=2,t!=null&&(a.callback=t),t=cn(e,a,s),t!==null&&(xt(t,e,s,n),sa(t,e,s))}};function yd(e,t,n,s,a,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,l):t.prototype&&t.prototype.isPureReactComponent?!as(n,s)||!as(a,i):!0}function ip(e,t,n){var s=!1,a=yn,i=t.contextType;return typeof i=="object"&&i!==null?i=ct(i):(a=Ve(t)?On:Fe.current,s=t.contextTypes,i=(s=s!=null)?dr(e,a):yn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Xa,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function vd(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Xa.enqueueReplaceState(t,t.state,null)}function Pl(e,t,n,s){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},$o(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=ct(i):(i=Ve(t)?On:Fe.current,a.context=dr(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&($l(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Xa.enqueueReplaceState(a,a.state,null),Ta(e,n,a,s),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function fr(e,t){try{var n="",s=t;do n+=oh(s),s=s.return;while(s);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Mi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Fl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ox=typeof WeakMap=="function"?WeakMap:Map;function lp(e,t,n){n=Mt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Oa||(Oa=!0,Wl=s),Fl(e,t)},n}function op(e,t,n){n=Mt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var a=t.value;n.payload=function(){return s(a)},n.callback=function(){Fl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Fl(e,t),typeof s!="function"&&(dn===null?dn=new Set([this]):dn.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function jd(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new Ox;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(n)||(a.add(n),e=Kx.bind(null,e,t,n),t.then(e,e))}function _d(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function wd(e,t,n,s,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Mt(-1,1),t.tag=2,cn(n,t,1))),n.lanes|=1),e)}var Dx=Qt.ReactCurrentOwner,We=!1;function De(e,t,n,s){t.child=e===null?Am(t,null,n,s):mr(t,e.child,n,s)}function Nd(e,t,n,s,a){n=n.render;var i=t.ref;return lr(t,a),s=Do(e,t,n,s,i,a),n=Ao(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ht(e,t,a)):(ce&&n&&bo(t),t.flags|=1,De(e,t,s,a),t.child)}function bd(e,t,n,s,a){if(e===null){var i=n.type;return typeof i=="function"&&!Qo(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,cp(e,t,i,s,a)):(e=da(n.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:as,n(l,s)&&e.ref===t.ref)return Ht(e,t,a)}return t.flags|=1,e=mn(i,s),e.ref=t.ref,e.return=t,t.child=e}function cp(e,t,n,s,a){if(e!==null){var i=e.memoizedProps;if(as(i,s)&&e.ref===t.ref)if(We=!1,t.pendingProps=s=i,(e.lanes&a)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,Ht(e,t,a)}return Ll(e,t,n,s,a)}function dp(e,t,n){var s=t.pendingProps,a=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},re(nr,Ge),Ge|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,re(nr,Ge),Ge|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:n,re(nr,Ge),Ge|=s}else i!==null?(s=i.baseLanes|n,t.memoizedState=null):s=n,re(nr,Ge),Ge|=s;return De(e,t,a,n),t.child}function up(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ll(e,t,n,s,a){var i=Ve(n)?On:Fe.current;return i=dr(t,i),lr(t,a),n=Do(e,t,n,s,i,a),s=Ao(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Ht(e,t,a)):(ce&&s&&bo(t),t.flags|=1,De(e,t,n,a),t.child)}function kd(e,t,n,s,a){if(Ve(n)){var i=!0;ka(t)}else i=!1;if(lr(t,a),t.stateNode===null)la(e,t),ip(t,n,s),Pl(t,n,s,a),s=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=ct(d):(d=Ve(n)?On:Fe.current,d=dr(t,d));var u=n.getDerivedStateFromProps,m=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==s||c!==d)&&vd(t,l,s,d),Gt=!1;var f=t.memoizedState;l.state=f,Ta(t,s,l,a),c=t.memoizedState,o!==s||f!==c||qe.current||Gt?(typeof u=="function"&&($l(t,n,u,s),c=t.memoizedState),(o=Gt||yd(t,n,o,s,f,c,d))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),l.props=s,l.state=c,l.context=d,s=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{l=t.stateNode,Mm(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:mt(t.type,o),l.props=d,m=t.pendingProps,f=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=ct(c):(c=Ve(n)?On:Fe.current,c=dr(t,c));var j=n.getDerivedStateFromProps;(u=typeof j=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==m||f!==c)&&vd(t,l,s,c),Gt=!1,f=t.memoizedState,l.state=f,Ta(t,s,l,a);var x=t.memoizedState;o!==m||f!==x||qe.current||Gt?(typeof j=="function"&&($l(t,n,j,s),x=t.memoizedState),(d=Gt||yd(t,n,d,s,f,x,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(s,x,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(s,x,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=x),l.props=s,l.state=x,l.context=c,s=d):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return Ol(e,t,n,s,i,a)}function Ol(e,t,n,s,a,i){up(e,t);var l=(t.flags&128)!==0;if(!s&&!l)return a&&dd(t,n,!1),Ht(e,t,i);s=t.stateNode,Dx.current=t;var o=l&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&l?(t.child=mr(t,e.child,null,i),t.child=mr(t,null,o,i)):De(e,t,o,i),t.memoizedState=s.state,a&&dd(t,n,!0),t.child}function mp(e){var t=e.stateNode;t.pendingContext?cd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&cd(e,t.context,!1),Po(e,t.containerInfo)}function Sd(e,t,n,s,a){return ur(),So(a),t.flags|=256,De(e,t,n,s),t.child}var Dl={dehydrated:null,treeContext:null,retryLane:0};function Al(e){return{baseLanes:e,cachePool:null,transitions:null}}function pp(e,t,n){var s=t.pendingProps,a=de.current,i=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),re(de,a&1),e===null)return Rl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=s.children,e=s.fallback,i?(s=t.mode,i=t.child,l={mode:"hidden",children:l},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=ti(l,s,0,null),e=Fn(e,s,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Al(n),t.memoizedState=Dl,e):zo(t,l));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return Ax(e,t,l,s,o,a,n);if(i){i=s.fallback,l=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:s.children};return!(l&1)&&t.child!==a?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=mn(a,c),s.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=mn(o,i):(i=Fn(i,l,n,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,l=e.child.memoizedState,l=l===null?Al(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~n,t.memoizedState=Dl,s}return i=e.child,e=i.sibling,s=mn(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function zo(e,t){return t=ti({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ws(e,t,n,s){return s!==null&&So(s),mr(t,e.child,null,n),e=zo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ax(e,t,n,s,a,i,l){if(n)return t.flags&256?(t.flags&=-257,s=Mi(Error(D(422))),Ws(e,t,l,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,a=t.mode,s=ti({mode:"visible",children:s.children},a,0,null),i=Fn(i,a,l,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&mr(t,e.child,null,l),t.child.memoizedState=Al(l),t.memoizedState=Dl,i);if(!(t.mode&1))return Ws(e,t,l,null);if(a.data==="$!"){if(s=a.nextSibling&&a.nextSibling.dataset,s)var o=s.dgst;return s=o,i=Error(D(419)),s=Mi(i,s,void 0),Ws(e,t,l,s)}if(o=(l&e.childLanes)!==0,We||o){if(s=be,s!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(s.suspendedLanes|l)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Wt(e,a),xt(s,e,a,-1))}return Vo(),s=Mi(Error(D(421))),Ws(e,t,l,s)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Gx.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Ye=on(a.nextSibling),Xe=t,ce=!0,ft=null,e!==null&&(rt[st++]=Dt,rt[st++]=At,rt[st++]=Dn,Dt=e.id,At=e.overflow,Dn=t),t=zo(t,s.children),t.flags|=4096,t)}function Cd(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Tl(e.return,t,n)}function zi(e,t,n,s,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=n,i.tailMode=a)}function fp(e,t,n){var s=t.pendingProps,a=s.revealOrder,i=s.tail;if(De(e,t,s.children,n),s=de.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cd(e,n,t);else if(e.tag===19)Cd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(re(de,s),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&$a(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),zi(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&$a(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}zi(t,!0,n,null,i);break;case"together":zi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function la(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ht(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),In|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=mn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=mn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ix(e,t,n){switch(t.tag){case 3:mp(t),ur();break;case 5:zm(t);break;case 1:Ve(t.type)&&ka(t);break;case 4:Po(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,a=t.memoizedProps.value;re(Ea,s._currentValue),s._currentValue=a;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(re(de,de.current&1),t.flags|=128,null):n&t.child.childLanes?pp(e,t,n):(re(de,de.current&1),e=Ht(e,t,n),e!==null?e.sibling:null);re(de,de.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return fp(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),re(de,de.current),s)break;return null;case 22:case 23:return t.lanes=0,dp(e,t,n)}return Ht(e,t,n)}var hp,Il,xp,gp;hp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Il=function(){};xp=function(e,t,n,s){var a=e.memoizedProps;if(a!==s){e=t.stateNode,Tn(Rt.current);var i=null;switch(n){case"input":a=il(e,a),s=il(e,s),i=[];break;case"select":a=me({},a,{value:void 0}),s=me({},s,{value:void 0}),i=[];break;case"textarea":a=cl(e,a),s=cl(e,s),i=[];break;default:typeof a.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Na)}ul(n,s);var l;n=null;for(d in a)if(!s.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Xr.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in s){var c=s[d];if(o=a!=null?a[d]:void 0,s.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Xr.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&se("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};gp=function(e,t,n,s){n!==s&&(t.flags|=4)};function Fr(e,t){if(!ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Te(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&14680064,s|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function Mx(e,t,n){var s=t.pendingProps;switch(ko(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(t),null;case 1:return Ve(t.type)&&ba(),Te(t),null;case 3:return s=t.stateNode,pr(),ie(qe),ie(Fe),Lo(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Bs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ft!==null&&(Vl(ft),ft=null))),Il(e,t),Te(t),null;case 5:Fo(t);var a=Tn(ds.current);if(n=t.type,e!==null&&t.stateNode!=null)xp(e,t,n,s,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(D(166));return Te(t),null}if(e=Tn(Rt.current),Bs(t)){s=t.stateNode,n=t.type;var i=t.memoizedProps;switch(s[kt]=t,s[os]=i,e=(t.mode&1)!==0,n){case"dialog":se("cancel",s),se("close",s);break;case"iframe":case"object":case"embed":se("load",s);break;case"video":case"audio":for(a=0;a<Br.length;a++)se(Br[a],s);break;case"source":se("error",s);break;case"img":case"image":case"link":se("error",s),se("load",s);break;case"details":se("toggle",s);break;case"input":Dc(s,i),se("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},se("invalid",s);break;case"textarea":Ic(s,i),se("invalid",s)}ul(n,i),a=null;for(var l in i)if(i.hasOwnProperty(l)){var o=i[l];l==="children"?typeof o=="string"?s.textContent!==o&&(i.suppressHydrationWarning!==!0&&zs(s.textContent,o,e),a=["children",o]):typeof o=="number"&&s.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&zs(s.textContent,o,e),a=["children",""+o]):Xr.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&se("scroll",s)}switch(n){case"input":Ps(s),Ac(s,i,!0);break;case"textarea":Ps(s),Mc(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=Na)}s=a,t.updateQueue=s,s!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=qu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=l.createElement(n,{is:s.is}):(e=l.createElement(n),n==="select"&&(l=e,s.multiple?l.multiple=!0:s.size&&(l.size=s.size))):e=l.createElementNS(e,n),e[kt]=t,e[os]=s,hp(e,t,!1,!1),t.stateNode=e;e:{switch(l=ml(n,s),n){case"dialog":se("cancel",e),se("close",e),a=s;break;case"iframe":case"object":case"embed":se("load",e),a=s;break;case"video":case"audio":for(a=0;a<Br.length;a++)se(Br[a],e);a=s;break;case"source":se("error",e),a=s;break;case"img":case"image":case"link":se("error",e),se("load",e),a=s;break;case"details":se("toggle",e),a=s;break;case"input":Dc(e,s),a=il(e,s),se("invalid",e);break;case"option":a=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},a=me({},s,{value:void 0}),se("invalid",e);break;case"textarea":Ic(e,s),a=cl(e,s),se("invalid",e);break;default:a=s}ul(n,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?Ju(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Vu(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Zr(e,c):typeof c=="number"&&Zr(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Xr.hasOwnProperty(i)?c!=null&&i==="onScroll"&&se("scroll",e):c!=null&&co(e,i,c,l))}switch(n){case"input":Ps(e),Ac(e,s,!1);break;case"textarea":Ps(e),Mc(e);break;case"option":s.value!=null&&e.setAttribute("value",""+gn(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?rr(e,!!s.multiple,i,!1):s.defaultValue!=null&&rr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Na)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Te(t),null;case 6:if(e&&t.stateNode!=null)gp(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(D(166));if(n=Tn(ds.current),Tn(Rt.current),Bs(t)){if(s=t.stateNode,n=t.memoizedProps,s[kt]=t,(i=s.nodeValue!==n)&&(e=Xe,e!==null))switch(e.tag){case 3:zs(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zs(s.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[kt]=t,t.stateNode=s}return Te(t),null;case 13:if(ie(de),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ce&&Ye!==null&&t.mode&1&&!(t.flags&128))Om(),ur(),t.flags|=98560,i=!1;else if(i=Bs(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(D(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[kt]=t}else ur(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Te(t),i=!1}else ft!==null&&(Vl(ft),ft=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||de.current&1?_e===0&&(_e=3):Vo())),t.updateQueue!==null&&(t.flags|=4),Te(t),null);case 4:return pr(),Il(e,t),e===null&&is(t.stateNode.containerInfo),Te(t),null;case 10:return Ro(t.type._context),Te(t),null;case 17:return Ve(t.type)&&ba(),Te(t),null;case 19:if(ie(de),i=t.memoizedState,i===null)return Te(t),null;if(s=(t.flags&128)!==0,l=i.rendering,l===null)if(s)Fr(i,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=$a(e),l!==null){for(t.flags|=128,Fr(i,!1),s=l.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)i=n,e=s,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return re(de,de.current&1|2),t.child}e=e.sibling}i.tail!==null&&he()>hr&&(t.flags|=128,s=!0,Fr(i,!1),t.lanes=4194304)}else{if(!s)if(e=$a(l),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Fr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!ce)return Te(t),null}else 2*he()-i.renderingStartTime>hr&&n!==1073741824&&(t.flags|=128,s=!0,Fr(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(n=i.last,n!==null?n.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=he(),t.sibling=null,n=de.current,re(de,s?n&1|2:n&1),t):(Te(t),null);case 22:case 23:return qo(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ge&1073741824&&(Te(t),t.subtreeFlags&6&&(t.flags|=8192)):Te(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function zx(e,t){switch(ko(t),t.tag){case 1:return Ve(t.type)&&ba(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pr(),ie(qe),ie(Fe),Lo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fo(t),null;case 13:if(ie(de),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));ur()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(de),null;case 4:return pr(),null;case 10:return Ro(t.type._context),null;case 22:case 23:return qo(),null;case 24:return null;default:return null}}var Hs=!1,$e=!1,Bx=typeof WeakSet=="function"?WeakSet:Set,B=null;function tr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){pe(e,t,s)}else n.current=null}function Ml(e,t,n){try{n()}catch(s){pe(e,t,s)}}var Ed=!1;function Ux(e,t){if(wl=ja,e=wm(),No(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,o=-1,c=-1,d=0,u=0,m=e,f=null;t:for(;;){for(var j;m!==n||a!==0&&m.nodeType!==3||(o=l+a),m!==i||s!==0&&m.nodeType!==3||(c=l+s),m.nodeType===3&&(l+=m.nodeValue.length),(j=m.firstChild)!==null;)f=m,m=j;for(;;){if(m===e)break t;if(f===n&&++d===a&&(o=l),f===i&&++u===s&&(c=l),(j=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=j}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nl={focusedElem:e,selectionRange:n},ja=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var b=x.memoizedProps,N=x.memoizedState,h=t.stateNode,p=h.getSnapshotBeforeUpdate(t.elementType===t.type?b:mt(t.type,b),N);h.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(k){pe(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return x=Ed,Ed=!1,x}function Kr(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Ml(t,n,i)}a=a.next}while(a!==s)}}function Za(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function zl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function yp(e){var t=e.alternate;t!==null&&(e.alternate=null,yp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[kt],delete t[os],delete t[Sl],delete t[bx],delete t[kx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vp(e){return e.tag===5||e.tag===3||e.tag===4}function Rd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bl(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Na));else if(s!==4&&(e=e.child,e!==null))for(Bl(e,t,n),e=e.sibling;e!==null;)Bl(e,t,n),e=e.sibling}function Ul(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Ul(e,t,n),e=e.sibling;e!==null;)Ul(e,t,n),e=e.sibling}var ke=null,pt=!1;function Jt(e,t,n){for(n=n.child;n!==null;)jp(e,t,n),n=n.sibling}function jp(e,t,n){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(qa,n)}catch{}switch(n.tag){case 5:$e||tr(n,t);case 6:var s=ke,a=pt;ke=null,Jt(e,t,n),ke=s,pt=a,ke!==null&&(pt?(e=ke,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ke.removeChild(n.stateNode));break;case 18:ke!==null&&(pt?(e=ke,n=n.stateNode,e.nodeType===8?Fi(e.parentNode,n):e.nodeType===1&&Fi(e,n),rs(e)):Fi(ke,n.stateNode));break;case 4:s=ke,a=pt,ke=n.stateNode.containerInfo,pt=!0,Jt(e,t,n),ke=s,pt=a;break;case 0:case 11:case 14:case 15:if(!$e&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){a=s=s.next;do{var i=a,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Ml(n,t,l),a=a.next}while(a!==s)}Jt(e,t,n);break;case 1:if(!$e&&(tr(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(o){pe(n,t,o)}Jt(e,t,n);break;case 21:Jt(e,t,n);break;case 22:n.mode&1?($e=(s=$e)||n.memoizedState!==null,Jt(e,t,n),$e=s):Jt(e,t,n);break;default:Jt(e,t,n)}}function Td(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Bx),t.forEach(function(s){var a=Yx.bind(null,e,s);n.has(s)||(n.add(s),s.then(a,a))})}}function ut(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s];try{var i=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:ke=o.stateNode,pt=!1;break e;case 3:ke=o.stateNode.containerInfo,pt=!0;break e;case 4:ke=o.stateNode.containerInfo,pt=!0;break e}o=o.return}if(ke===null)throw Error(D(160));jp(i,l,a),ke=null,pt=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){pe(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_p(t,e),t=t.sibling}function _p(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ut(t,e),wt(e),s&4){try{Kr(3,e,e.return),Za(3,e)}catch(b){pe(e,e.return,b)}try{Kr(5,e,e.return)}catch(b){pe(e,e.return,b)}}break;case 1:ut(t,e),wt(e),s&512&&n!==null&&tr(n,n.return);break;case 5:if(ut(t,e),wt(e),s&512&&n!==null&&tr(n,n.return),e.flags&32){var a=e.stateNode;try{Zr(a,"")}catch(b){pe(e,e.return,b)}}if(s&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,l=n!==null?n.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Wu(a,i),ml(o,l);var d=ml(o,i);for(l=0;l<c.length;l+=2){var u=c[l],m=c[l+1];u==="style"?Ju(a,m):u==="dangerouslySetInnerHTML"?Vu(a,m):u==="children"?Zr(a,m):co(a,u,m,d)}switch(o){case"input":ll(a,i);break;case"textarea":Hu(a,i);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var j=i.value;j!=null?rr(a,!!i.multiple,j,!1):f!==!!i.multiple&&(i.defaultValue!=null?rr(a,!!i.multiple,i.defaultValue,!0):rr(a,!!i.multiple,i.multiple?[]:"",!1))}a[os]=i}catch(b){pe(e,e.return,b)}}break;case 6:if(ut(t,e),wt(e),s&4){if(e.stateNode===null)throw Error(D(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(b){pe(e,e.return,b)}}break;case 3:if(ut(t,e),wt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{rs(t.containerInfo)}catch(b){pe(e,e.return,b)}break;case 4:ut(t,e),wt(e);break;case 13:ut(t,e),wt(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Wo=he())),s&4&&Td(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?($e=(d=$e)||u,ut(t,e),$e=d):ut(t,e),wt(e),s&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(B=e,u=e.child;u!==null;){for(m=B=u;B!==null;){switch(f=B,j=f.child,f.tag){case 0:case 11:case 14:case 15:Kr(4,f,f.return);break;case 1:tr(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){s=f,n=f.return;try{t=s,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(b){pe(s,n,b)}}break;case 5:tr(f,f.return);break;case 22:if(f.memoizedState!==null){Pd(m);continue}}j!==null?(j.return=f,B=j):Pd(m)}u=u.sibling}e:for(u=null,m=e;;){if(m.tag===5){if(u===null){u=m;try{a=m.stateNode,d?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=m.stateNode,c=m.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Qu("display",l))}catch(b){pe(e,e.return,b)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(b){pe(e,e.return,b)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ut(t,e),wt(e),s&4&&Td(e);break;case 21:break;default:ut(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(vp(n)){var s=n;break e}n=n.return}throw Error(D(160))}switch(s.tag){case 5:var a=s.stateNode;s.flags&32&&(Zr(a,""),s.flags&=-33);var i=Rd(e);Ul(e,i,a);break;case 3:case 4:var l=s.stateNode.containerInfo,o=Rd(e);Bl(e,o,l);break;default:throw Error(D(161))}}catch(c){pe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Wx(e,t,n){B=e,wp(e)}function wp(e,t,n){for(var s=(e.mode&1)!==0;B!==null;){var a=B,i=a.child;if(a.tag===22&&s){var l=a.memoizedState!==null||Hs;if(!l){var o=a.alternate,c=o!==null&&o.memoizedState!==null||$e;o=Hs;var d=$e;if(Hs=l,($e=c)&&!d)for(B=a;B!==null;)l=B,c=l.child,l.tag===22&&l.memoizedState!==null?Fd(a):c!==null?(c.return=l,B=c):Fd(a);for(;i!==null;)B=i,wp(i),i=i.sibling;B=a,Hs=o,$e=d}$d(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,B=i):$d(e)}}function $d(e){for(;B!==null;){var t=B;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$e||Za(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!$e)if(n===null)s.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:mt(t.type,n.memoizedProps);s.componentDidUpdate(a,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&hd(t,i,s);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}hd(t,l,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&rs(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}$e||t.flags&512&&zl(t)}catch(f){pe(t,t.return,f)}}if(t===e){B=null;break}if(n=t.sibling,n!==null){n.return=t.return,B=n;break}B=t.return}}function Pd(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var n=t.sibling;if(n!==null){n.return=t.return,B=n;break}B=t.return}}function Fd(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Za(4,t)}catch(c){pe(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var a=t.return;try{s.componentDidMount()}catch(c){pe(t,a,c)}}var i=t.return;try{zl(t)}catch(c){pe(t,i,c)}break;case 5:var l=t.return;try{zl(t)}catch(c){pe(t,l,c)}}}catch(c){pe(t,t.return,c)}if(t===e){B=null;break}var o=t.sibling;if(o!==null){o.return=t.return,B=o;break}B=t.return}}var Hx=Math.ceil,La=Qt.ReactCurrentDispatcher,Bo=Qt.ReactCurrentOwner,lt=Qt.ReactCurrentBatchConfig,Z=0,be=null,ge=null,Ce=0,Ge=0,nr=jn(0),_e=0,fs=null,In=0,ei=0,Uo=0,Gr=null,ze=null,Wo=0,hr=1/0,Lt=null,Oa=!1,Wl=null,dn=null,qs=!1,tn=null,Da=0,Yr=0,Hl=null,oa=-1,ca=0;function Ae(){return Z&6?he():oa!==-1?oa:oa=he()}function un(e){return e.mode&1?Z&2&&Ce!==0?Ce&-Ce:Cx.transition!==null?(ca===0&&(ca=im()),ca):(e=ee,e!==0||(e=window.event,e=e===void 0?16:pm(e.type)),e):1}function xt(e,t,n,s){if(50<Yr)throw Yr=0,Hl=null,Error(D(185));js(e,n,s),(!(Z&2)||e!==be)&&(e===be&&(!(Z&2)&&(ei|=n),_e===4&&Xt(e,Ce)),Qe(e,s),n===1&&Z===0&&!(t.mode&1)&&(hr=he()+500,Ga&&_n()))}function Qe(e,t){var n=e.callbackNode;Ch(e,t);var s=va(e,e===be?Ce:0);if(s===0)n!==null&&Uc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Uc(n),t===1)e.tag===0?Sx(Ld.bind(null,e)):Pm(Ld.bind(null,e)),wx(function(){!(Z&6)&&_n()}),n=null;else{switch(lm(s)){case 1:n=ho;break;case 4:n=sm;break;case 16:n=ya;break;case 536870912:n=am;break;default:n=ya}n=Tp(n,Np.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Np(e,t){if(oa=-1,ca=0,Z&6)throw Error(D(327));var n=e.callbackNode;if(or()&&e.callbackNode!==n)return null;var s=va(e,e===be?Ce:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Aa(e,s);else{t=s;var a=Z;Z|=2;var i=kp();(be!==e||Ce!==t)&&(Lt=null,hr=he()+500,Pn(e,t));do try{Qx();break}catch(o){bp(e,o)}while(!0);Eo(),La.current=i,Z=a,ge!==null?t=0:(be=null,Ce=0,t=_e)}if(t!==0){if(t===2&&(a=gl(e),a!==0&&(s=a,t=ql(e,a))),t===1)throw n=fs,Pn(e,0),Xt(e,s),Qe(e,he()),n;if(t===6)Xt(e,s);else{if(a=e.current.alternate,!(s&30)&&!qx(a)&&(t=Aa(e,s),t===2&&(i=gl(e),i!==0&&(s=i,t=ql(e,i))),t===1))throw n=fs,Pn(e,0),Xt(e,s),Qe(e,he()),n;switch(e.finishedWork=a,e.finishedLanes=s,t){case 0:case 1:throw Error(D(345));case 2:Cn(e,ze,Lt);break;case 3:if(Xt(e,s),(s&130023424)===s&&(t=Wo+500-he(),10<t)){if(va(e,0)!==0)break;if(a=e.suspendedLanes,(a&s)!==s){Ae(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=kl(Cn.bind(null,e,ze,Lt),t);break}Cn(e,ze,Lt);break;case 4:if(Xt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,a=-1;0<s;){var l=31-ht(s);i=1<<l,l=t[l],l>a&&(a=l),s&=~i}if(s=a,s=he()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Hx(s/1960))-s,10<s){e.timeoutHandle=kl(Cn.bind(null,e,ze,Lt),s);break}Cn(e,ze,Lt);break;case 5:Cn(e,ze,Lt);break;default:throw Error(D(329))}}}return Qe(e,he()),e.callbackNode===n?Np.bind(null,e):null}function ql(e,t){var n=Gr;return e.current.memoizedState.isDehydrated&&(Pn(e,t).flags|=256),e=Aa(e,t),e!==2&&(t=ze,ze=n,t!==null&&Vl(t)),e}function Vl(e){ze===null?ze=e:ze.push.apply(ze,e)}function qx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var a=n[s],i=a.getSnapshot;a=a.value;try{if(!vt(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xt(e,t){for(t&=~Uo,t&=~ei,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ht(t),s=1<<n;e[n]=-1,t&=~s}}function Ld(e){if(Z&6)throw Error(D(327));or();var t=va(e,0);if(!(t&1))return Qe(e,he()),null;var n=Aa(e,t);if(e.tag!==0&&n===2){var s=gl(e);s!==0&&(t=s,n=ql(e,s))}if(n===1)throw n=fs,Pn(e,0),Xt(e,t),Qe(e,he()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cn(e,ze,Lt),Qe(e,he()),null}function Ho(e,t){var n=Z;Z|=1;try{return e(t)}finally{Z=n,Z===0&&(hr=he()+500,Ga&&_n())}}function Mn(e){tn!==null&&tn.tag===0&&!(Z&6)&&or();var t=Z;Z|=1;var n=lt.transition,s=ee;try{if(lt.transition=null,ee=1,e)return e()}finally{ee=s,lt.transition=n,Z=t,!(Z&6)&&_n()}}function qo(){Ge=nr.current,ie(nr)}function Pn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,_x(n)),ge!==null)for(n=ge.return;n!==null;){var s=n;switch(ko(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&ba();break;case 3:pr(),ie(qe),ie(Fe),Lo();break;case 5:Fo(s);break;case 4:pr();break;case 13:ie(de);break;case 19:ie(de);break;case 10:Ro(s.type._context);break;case 22:case 23:qo()}n=n.return}if(be=e,ge=e=mn(e.current,null),Ce=Ge=t,_e=0,fs=null,Uo=ei=In=0,ze=Gr=null,Rn!==null){for(t=0;t<Rn.length;t++)if(n=Rn[t],s=n.interleaved,s!==null){n.interleaved=null;var a=s.next,i=n.pending;if(i!==null){var l=i.next;i.next=a,s.next=l}n.pending=s}Rn=null}return e}function bp(e,t){do{var n=ge;try{if(Eo(),aa.current=Fa,Pa){for(var s=ue.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Pa=!1}if(An=0,we=je=ue=null,Jr=!1,us=0,Bo.current=null,n===null||n.return===null){_e=1,fs=t,ge=null;break}e:{var i=e,l=n.return,o=n,c=t;if(t=Ce,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var j=_d(l);if(j!==null){j.flags&=-257,wd(j,l,o,i,t),j.mode&1&&jd(i,d,t),t=j,c=d;var x=t.updateQueue;if(x===null){var b=new Set;b.add(c),t.updateQueue=b}else x.add(c);break e}else{if(!(t&1)){jd(i,d,t),Vo();break e}c=Error(D(426))}}else if(ce&&o.mode&1){var N=_d(l);if(N!==null){!(N.flags&65536)&&(N.flags|=256),wd(N,l,o,i,t),So(fr(c,o));break e}}i=c=fr(c,o),_e!==4&&(_e=2),Gr===null?Gr=[i]:Gr.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=lp(i,c,t);fd(i,h);break e;case 1:o=c;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(dn===null||!dn.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var k=op(i,o,t);fd(i,k);break e}}i=i.return}while(i!==null)}Cp(n)}catch(v){t=v,ge===n&&n!==null&&(ge=n=n.return);continue}break}while(!0)}function kp(){var e=La.current;return La.current=Fa,e===null?Fa:e}function Vo(){(_e===0||_e===3||_e===2)&&(_e=4),be===null||!(In&268435455)&&!(ei&268435455)||Xt(be,Ce)}function Aa(e,t){var n=Z;Z|=2;var s=kp();(be!==e||Ce!==t)&&(Lt=null,Pn(e,t));do try{Vx();break}catch(a){bp(e,a)}while(!0);if(Eo(),Z=n,La.current=s,ge!==null)throw Error(D(261));return be=null,Ce=0,_e}function Vx(){for(;ge!==null;)Sp(ge)}function Qx(){for(;ge!==null&&!yh();)Sp(ge)}function Sp(e){var t=Rp(e.alternate,e,Ge);e.memoizedProps=e.pendingProps,t===null?Cp(e):ge=t,Bo.current=null}function Cp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=zx(n,t),n!==null){n.flags&=32767,ge=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,ge=null;return}}else if(n=Mx(n,t,Ge),n!==null){ge=n;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);_e===0&&(_e=5)}function Cn(e,t,n){var s=ee,a=lt.transition;try{lt.transition=null,ee=1,Jx(e,t,n,s)}finally{lt.transition=a,ee=s}return null}function Jx(e,t,n,s){do or();while(tn!==null);if(Z&6)throw Error(D(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Eh(e,i),e===be&&(ge=be=null,Ce=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qs||(qs=!0,Tp(ya,function(){return or(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=lt.transition,lt.transition=null;var l=ee;ee=1;var o=Z;Z|=4,Bo.current=null,Ux(e,n),_p(n,e),fx(Nl),ja=!!wl,Nl=wl=null,e.current=n,Wx(n),vh(),Z=o,ee=l,lt.transition=i}else e.current=n;if(qs&&(qs=!1,tn=e,Da=a),i=e.pendingLanes,i===0&&(dn=null),wh(n.stateNode),Qe(e,he()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],s(a.value,{componentStack:a.stack,digest:a.digest});if(Oa)throw Oa=!1,e=Wl,Wl=null,e;return Da&1&&e.tag!==0&&or(),i=e.pendingLanes,i&1?e===Hl?Yr++:(Yr=0,Hl=e):Yr=0,_n(),null}function or(){if(tn!==null){var e=lm(Da),t=lt.transition,n=ee;try{if(lt.transition=null,ee=16>e?16:e,tn===null)var s=!1;else{if(e=tn,tn=null,Da=0,Z&6)throw Error(D(331));var a=Z;for(Z|=4,B=e.current;B!==null;){var i=B,l=i.child;if(B.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(B=d;B!==null;){var u=B;switch(u.tag){case 0:case 11:case 15:Kr(8,u,i)}var m=u.child;if(m!==null)m.return=u,B=m;else for(;B!==null;){u=B;var f=u.sibling,j=u.return;if(yp(u),u===d){B=null;break}if(f!==null){f.return=j,B=f;break}B=j}}}var x=i.alternate;if(x!==null){var b=x.child;if(b!==null){x.child=null;do{var N=b.sibling;b.sibling=null,b=N}while(b!==null)}}B=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,B=l;else e:for(;B!==null;){if(i=B,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Kr(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,B=h;break e}B=i.return}}var p=e.current;for(B=p;B!==null;){l=B;var g=l.child;if(l.subtreeFlags&2064&&g!==null)g.return=l,B=g;else e:for(l=p;B!==null;){if(o=B,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Za(9,o)}}catch(v){pe(o,o.return,v)}if(o===l){B=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,B=k;break e}B=o.return}}if(Z=a,_n(),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(qa,e)}catch{}s=!0}return s}finally{ee=n,lt.transition=t}}return!1}function Od(e,t,n){t=fr(n,t),t=lp(e,t,1),e=cn(e,t,1),t=Ae(),e!==null&&(js(e,1,t),Qe(e,t))}function pe(e,t,n){if(e.tag===3)Od(e,e,n);else for(;t!==null;){if(t.tag===3){Od(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(dn===null||!dn.has(s))){e=fr(n,e),e=op(t,e,1),t=cn(t,e,1),e=Ae(),t!==null&&(js(t,1,e),Qe(t,e));break}}t=t.return}}function Kx(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Ae(),e.pingedLanes|=e.suspendedLanes&n,be===e&&(Ce&n)===n&&(_e===4||_e===3&&(Ce&130023424)===Ce&&500>he()-Wo?Pn(e,0):Uo|=n),Qe(e,t)}function Ep(e,t){t===0&&(e.mode&1?(t=Os,Os<<=1,!(Os&130023424)&&(Os=4194304)):t=1);var n=Ae();e=Wt(e,t),e!==null&&(js(e,t,n),Qe(e,n))}function Gx(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ep(e,n)}function Yx(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(D(314))}s!==null&&s.delete(t),Ep(e,n)}var Rp;Rp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||qe.current)We=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return We=!1,Ix(e,t,n);We=!!(e.flags&131072)}else We=!1,ce&&t.flags&1048576&&Fm(t,Ca,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;la(e,t),e=t.pendingProps;var a=dr(t,Fe.current);lr(t,n),a=Do(null,t,s,e,a,n);var i=Ao();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ve(s)?(i=!0,ka(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,$o(t),a.updater=Xa,t.stateNode=a,a._reactInternals=t,Pl(t,s,e,n),t=Ol(null,t,s,!0,i,n)):(t.tag=0,ce&&i&&bo(t),De(null,t,a,n),t=t.child),t;case 16:s=t.elementType;e:{switch(la(e,t),e=t.pendingProps,a=s._init,s=a(s._payload),t.type=s,a=t.tag=Zx(s),e=mt(s,e),a){case 0:t=Ll(null,t,s,e,n);break e;case 1:t=kd(null,t,s,e,n);break e;case 11:t=Nd(null,t,s,e,n);break e;case 14:t=bd(null,t,s,mt(s.type,e),n);break e}throw Error(D(306,s,""))}return t;case 0:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:mt(s,a),Ll(e,t,s,a,n);case 1:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:mt(s,a),kd(e,t,s,a,n);case 3:e:{if(mp(t),e===null)throw Error(D(387));s=t.pendingProps,i=t.memoizedState,a=i.element,Mm(e,t),Ta(t,s,null,n);var l=t.memoizedState;if(s=l.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=fr(Error(D(423)),t),t=Sd(e,t,s,n,a);break e}else if(s!==a){a=fr(Error(D(424)),t),t=Sd(e,t,s,n,a);break e}else for(Ye=on(t.stateNode.containerInfo.firstChild),Xe=t,ce=!0,ft=null,n=Am(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ur(),s===a){t=Ht(e,t,n);break e}De(e,t,s,n)}t=t.child}return t;case 5:return zm(t),e===null&&Rl(t),s=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,l=a.children,bl(s,a)?l=null:i!==null&&bl(s,i)&&(t.flags|=32),up(e,t),De(e,t,l,n),t.child;case 6:return e===null&&Rl(t),null;case 13:return pp(e,t,n);case 4:return Po(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=mr(t,null,s,n):De(e,t,s,n),t.child;case 11:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:mt(s,a),Nd(e,t,s,a,n);case 7:return De(e,t,t.pendingProps,n),t.child;case 8:return De(e,t,t.pendingProps.children,n),t.child;case 12:return De(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,re(Ea,s._currentValue),s._currentValue=l,i!==null)if(vt(i.value,l)){if(i.children===a.children&&!qe.current){t=Ht(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){l=i.child;for(var c=o.firstContext;c!==null;){if(c.context===s){if(i.tag===1){c=Mt(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Tl(i.return,n,t),o.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(D(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),Tl(l,n,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}De(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,s=t.pendingProps.children,lr(t,n),a=ct(a),s=s(a),t.flags|=1,De(e,t,s,n),t.child;case 14:return s=t.type,a=mt(s,t.pendingProps),a=mt(s.type,a),bd(e,t,s,a,n);case 15:return cp(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,a=t.pendingProps,a=t.elementType===s?a:mt(s,a),la(e,t),t.tag=1,Ve(s)?(e=!0,ka(t)):e=!1,lr(t,n),ip(t,s,a),Pl(t,s,a,n),Ol(null,t,s,!0,e,n);case 19:return fp(e,t,n);case 22:return dp(e,t,n)}throw Error(D(156,t.tag))};function Tp(e,t){return rm(e,t)}function Xx(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(e,t,n,s){return new Xx(e,t,n,s)}function Qo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zx(e){if(typeof e=="function")return Qo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===mo)return 11;if(e===po)return 14}return 2}function mn(e,t){var n=e.alternate;return n===null?(n=it(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function da(e,t,n,s,a,i){var l=2;if(s=e,typeof e=="function")Qo(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Vn:return Fn(n.children,a,i,t);case uo:l=8,a|=8;break;case nl:return e=it(12,n,t,a|2),e.elementType=nl,e.lanes=i,e;case rl:return e=it(13,n,t,a),e.elementType=rl,e.lanes=i,e;case sl:return e=it(19,n,t,a),e.elementType=sl,e.lanes=i,e;case zu:return ti(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Iu:l=10;break e;case Mu:l=9;break e;case mo:l=11;break e;case po:l=14;break e;case Kt:l=16,s=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=it(l,n,t,a),t.elementType=e,t.type=s,t.lanes=i,t}function Fn(e,t,n,s){return e=it(7,e,s,t),e.lanes=n,e}function ti(e,t,n,s){return e=it(22,e,s,t),e.elementType=zu,e.lanes=n,e.stateNode={isHidden:!1},e}function Bi(e,t,n){return e=it(6,e,null,t),e.lanes=n,e}function Ui(e,t,n){return t=it(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function e0(e,t,n,s,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wi(0),this.expirationTimes=wi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.identifierPrefix=s,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Jo(e,t,n,s,a,i,l,o,c){return e=new e0(e,t,n,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=it(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$o(i),e}function t0(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qn,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function $p(e){if(!e)return yn;e=e._reactInternals;e:{if(Wn(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ve(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(Ve(n))return $m(e,n,t)}return t}function Pp(e,t,n,s,a,i,l,o,c){return e=Jo(n,s,!0,e,a,i,l,o,c),e.context=$p(null),n=e.current,s=Ae(),a=un(n),i=Mt(s,a),i.callback=t??null,cn(n,i,a),e.current.lanes=a,js(e,a,s),Qe(e,s),e}function ni(e,t,n,s){var a=t.current,i=Ae(),l=un(a);return n=$p(n),t.context===null?t.context=n:t.pendingContext=n,t=Mt(i,l),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=cn(a,t,l),e!==null&&(xt(e,a,l,i),sa(e,a,l)),l}function Ia(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Dd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ko(e,t){Dd(e,t),(e=e.alternate)&&Dd(e,t)}function n0(){return null}var Fp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Go(e){this._internalRoot=e}ri.prototype.render=Go.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));ni(e,t,null,null)};ri.prototype.unmount=Go.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mn(function(){ni(null,e,null,null)}),t[Ut]=null}};function ri(e){this._internalRoot=e}ri.prototype.unstable_scheduleHydration=function(e){if(e){var t=dm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Yt.length&&t!==0&&t<Yt[n].priority;n++);Yt.splice(n,0,e),n===0&&mm(e)}};function Yo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function si(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ad(){}function r0(e,t,n,s,a){if(a){if(typeof s=="function"){var i=s;s=function(){var d=Ia(l);i.call(d)}}var l=Pp(t,s,e,0,null,!1,!1,"",Ad);return e._reactRootContainer=l,e[Ut]=l.current,is(e.nodeType===8?e.parentNode:e),Mn(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof s=="function"){var o=s;s=function(){var d=Ia(c);o.call(d)}}var c=Jo(e,0,!1,null,null,!1,!1,"",Ad);return e._reactRootContainer=c,e[Ut]=c.current,is(e.nodeType===8?e.parentNode:e),Mn(function(){ni(t,c,n,s)}),c}function ai(e,t,n,s,a){var i=n._reactRootContainer;if(i){var l=i;if(typeof a=="function"){var o=a;a=function(){var c=Ia(l);o.call(c)}}ni(t,l,e,a)}else l=r0(n,t,e,a,s);return Ia(l)}om=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=zr(t.pendingLanes);n!==0&&(xo(t,n|1),Qe(t,he()),!(Z&6)&&(hr=he()+500,_n()))}break;case 13:Mn(function(){var s=Wt(e,1);if(s!==null){var a=Ae();xt(s,e,1,a)}}),Ko(e,1)}};go=function(e){if(e.tag===13){var t=Wt(e,134217728);if(t!==null){var n=Ae();xt(t,e,134217728,n)}Ko(e,134217728)}};cm=function(e){if(e.tag===13){var t=un(e),n=Wt(e,t);if(n!==null){var s=Ae();xt(n,e,t,s)}Ko(e,t)}};dm=function(){return ee};um=function(e,t){var n=ee;try{return ee=e,t()}finally{ee=n}};fl=function(e,t,n){switch(t){case"input":if(ll(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var a=Ka(s);if(!a)throw Error(D(90));Uu(s),ll(s,a)}}}break;case"textarea":Hu(e,n);break;case"select":t=n.value,t!=null&&rr(e,!!n.multiple,t,!1)}};Yu=Ho;Xu=Mn;var s0={usingClientEntryPoint:!1,Events:[ws,Gn,Ka,Ku,Gu,Ho]},Lr={findFiberByHostInstance:En,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},a0={bundleType:Lr.bundleType,version:Lr.version,rendererPackageName:Lr.rendererPackageName,rendererConfig:Lr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tm(e),e===null?null:e.stateNode},findFiberByHostInstance:Lr.findFiberByHostInstance||n0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vs.isDisabled&&Vs.supportsFiber)try{qa=Vs.inject(a0),Et=Vs}catch{}}et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s0;et.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yo(t))throw Error(D(200));return t0(e,t,null,n)};et.createRoot=function(e,t){if(!Yo(e))throw Error(D(299));var n=!1,s="",a=Fp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Jo(e,1,!1,null,null,n,!1,s,a),e[Ut]=t.current,is(e.nodeType===8?e.parentNode:e),new Go(t)};et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=tm(t),e=e===null?null:e.stateNode,e};et.flushSync=function(e){return Mn(e)};et.hydrate=function(e,t,n){if(!si(t))throw Error(D(200));return ai(null,e,t,!0,n)};et.hydrateRoot=function(e,t,n){if(!Yo(e))throw Error(D(405));var s=n!=null&&n.hydratedSources||null,a=!1,i="",l=Fp;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Pp(t,null,e,1,n??null,a,!1,i,l),e[Ut]=t.current,is(e),s)for(e=0;e<s.length;e++)n=s[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new ri(t)};et.render=function(e,t,n){if(!si(t))throw Error(D(200));return ai(null,e,t,!1,n)};et.unmountComponentAtNode=function(e){if(!si(e))throw Error(D(40));return e._reactRootContainer?(Mn(function(){ai(null,null,e,!1,function(){e._reactRootContainer=null,e[Ut]=null})}),!0):!1};et.unstable_batchedUpdates=Ho;et.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!si(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return ai(e,t,n,!1,s)};et.version="18.3.1-next-f1338f8080-20240426";function Lp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lp)}catch(e){console.error(e)}}Lp(),Lu.exports=et;var i0=Lu.exports,Id=i0;el.createRoot=Id.createRoot,el.hydrateRoot=Id.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hs(){return hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},hs.apply(this,arguments)}var nn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(nn||(nn={}));const Md="popstate";function l0(e){e===void 0&&(e={});function t(s,a){let{pathname:i,search:l,hash:o}=s.location;return Ql("",{pathname:i,search:l,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Ma(a)}return c0(t,n,null,e)}function xe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Xo(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function o0(){return Math.random().toString(36).substr(2,8)}function zd(e,t){return{usr:e.state,key:e.key,idx:t}}function Ql(e,t,n,s){return n===void 0&&(n=null),hs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?wr(t):t,{state:n,key:t&&t.key||s||o0()})}function Ma(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function wr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function c0(e,t,n,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:i=!1}=s,l=a.history,o=nn.Pop,c=null,d=u();d==null&&(d=0,l.replaceState(hs({},l.state,{idx:d}),""));function u(){return(l.state||{idx:null}).idx}function m(){o=nn.Pop;let N=u(),h=N==null?null:N-d;d=N,c&&c({action:o,location:b.location,delta:h})}function f(N,h){o=nn.Push;let p=Ql(b.location,N,h);d=u()+1;let g=zd(p,d),k=b.createHref(p);try{l.pushState(g,"",k)}catch(v){if(v instanceof DOMException&&v.name==="DataCloneError")throw v;a.location.assign(k)}i&&c&&c({action:o,location:b.location,delta:1})}function j(N,h){o=nn.Replace;let p=Ql(b.location,N,h);d=u();let g=zd(p,d),k=b.createHref(p);l.replaceState(g,"",k),i&&c&&c({action:o,location:b.location,delta:0})}function x(N){let h=a.location.origin!=="null"?a.location.origin:a.location.href,p=typeof N=="string"?N:Ma(N);return p=p.replace(/ $/,"%20"),xe(h,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,h)}let b={get action(){return o},get location(){return e(a,l)},listen(N){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Md,m),c=N,()=>{a.removeEventListener(Md,m),c=null}},createHref(N){return t(a,N)},createURL:x,encodeLocation(N){let h=x(N);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:f,replace:j,go(N){return l.go(N)}};return b}var Bd;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Bd||(Bd={}));function d0(e,t,n){return n===void 0&&(n="/"),u0(e,t,n)}function u0(e,t,n,s){let a=typeof t=="string"?wr(t):t,i=Zo(a.pathname||"/",n);if(i==null)return null;let l=Op(e);m0(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=b0(i);o=_0(l[c],d)}return o}function Op(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let a=(i,l,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(xe(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=pn([s,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(xe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Op(i.children,t,u,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:v0(d,i.index),routesMeta:u})};return e.forEach((i,l)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,l);else for(let c of Dp(i.path))a(i,l,c)}),t}function Dp(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let l=Dp(s.join("/")),o=[];return o.push(...l.map(c=>c===""?i:[i,c].join("/"))),a&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function m0(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:j0(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const p0=/^:[\w-]+$/,f0=3,h0=2,x0=1,g0=10,y0=-2,Ud=e=>e==="*";function v0(e,t){let n=e.split("/"),s=n.length;return n.some(Ud)&&(s+=y0),t&&(s+=h0),n.filter(a=>!Ud(a)).reduce((a,i)=>a+(p0.test(i)?f0:i===""?x0:g0),s)}function j0(e,t){return e.length===t.length&&e.slice(0,-1).every((s,a)=>s===t[a])?e[e.length-1]-t[t.length-1]:0}function _0(e,t,n){let{routesMeta:s}=e,a={},i="/",l=[];for(let o=0;o<s.length;++o){let c=s[o],d=o===s.length-1,u=i==="/"?t:t.slice(i.length)||"/",m=w0({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),f=c.route;if(!m)return null;Object.assign(a,m.params),l.push({params:a,pathname:pn([i,m.pathname]),pathnameBase:R0(pn([i,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(i=pn([i,m.pathnameBase]))}return l}function w0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=N0(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:s.reduce((d,u,m)=>{let{paramName:f,isOptional:j}=u;if(f==="*"){let b=o[m]||"";l=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const x=o[m];return j&&!x?d[f]=void 0:d[f]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:l,pattern:e}}function N0(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Xo(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(s.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),s]}function b0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xo(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Zo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}const k0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,S0=e=>k0.test(e);function C0(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:a=""}=typeof e=="string"?wr(e):e,i;if(n)if(S0(n))i=n;else{if(n.includes("//")){let l=n;n=n.replace(/\/\/+/g,"/"),Xo(!1,"Pathnames cannot have embedded double slashes - normalizing "+(l+" -> "+n))}n.startsWith("/")?i=Wd(n.substring(1),"/"):i=Wd(n,t)}else i=t;return{pathname:i,search:T0(s),hash:$0(a)}}function Wd(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Wi(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function E0(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ec(e,t){let n=E0(e);return t?n.map((s,a)=>a===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function tc(e,t,n,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=wr(e):(a=hs({},e),xe(!a.pathname||!a.pathname.includes("?"),Wi("?","pathname","search",a)),xe(!a.pathname||!a.pathname.includes("#"),Wi("#","pathname","hash",a)),xe(!a.search||!a.search.includes("#"),Wi("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,o;if(l==null)o=n;else{let m=t.length-1;if(!s&&l.startsWith("..")){let f=l.split("/");for(;f[0]==="..";)f.shift(),m-=1;a.pathname=f.join("/")}o=m>=0?t[m]:"/"}let c=C0(a,o),d=l&&l!=="/"&&l.endsWith("/"),u=(i||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const pn=e=>e.join("/").replace(/\/\/+/g,"/"),R0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),T0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,$0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function P0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Ap=["post","put","patch","delete"];new Set(Ap);const F0=["get",...Ap];new Set(F0);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xs(){return xs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xs.apply(this,arguments)}const nc=y.createContext(null),L0=y.createContext(null),wn=y.createContext(null),ii=y.createContext(null),$t=y.createContext({outlet:null,matches:[],isDataRoute:!1}),Ip=y.createContext(null);function O0(e,t){let{relative:n}=t===void 0?{}:t;Nr()||xe(!1);let{basename:s,navigator:a}=y.useContext(wn),{hash:i,pathname:l,search:o}=zp(e,{relative:n}),c=l;return s!=="/"&&(c=l==="/"?s:pn([s,l])),a.createHref({pathname:c,search:o,hash:i})}function Nr(){return y.useContext(ii)!=null}function br(){return Nr()||xe(!1),y.useContext(ii).location}function Mp(e){y.useContext(wn).static||y.useLayoutEffect(e)}function li(){let{isDataRoute:e}=y.useContext($t);return e?Y0():D0()}function D0(){Nr()||xe(!1);let e=y.useContext(nc),{basename:t,future:n,navigator:s}=y.useContext(wn),{matches:a}=y.useContext($t),{pathname:i}=br(),l=JSON.stringify(ec(a,n.v7_relativeSplatPath)),o=y.useRef(!1);return Mp(()=>{o.current=!0}),y.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){s.go(d);return}let m=tc(d,JSON.parse(l),i,u.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:pn([t,m.pathname])),(u.replace?s.replace:s.push)(m,u.state,u)},[t,s,l,i,e])}const A0=y.createContext(null);function I0(e){let t=y.useContext($t).outlet;return t&&y.createElement(A0.Provider,{value:e},t)}function M0(){let{matches:e}=y.useContext($t),t=e[e.length-1];return t?t.params:{}}function zp(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=y.useContext(wn),{matches:a}=y.useContext($t),{pathname:i}=br(),l=JSON.stringify(ec(a,s.v7_relativeSplatPath));return y.useMemo(()=>tc(e,JSON.parse(l),i,n==="path"),[e,l,i,n])}function z0(e,t){return B0(e,t)}function B0(e,t,n,s){Nr()||xe(!1);let{navigator:a}=y.useContext(wn),{matches:i}=y.useContext($t),l=i[i.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let d=br(),u;if(t){var m;let N=typeof t=="string"?wr(t):t;c==="/"||(m=N.pathname)!=null&&m.startsWith(c)||xe(!1),u=N}else u=d;let f=u.pathname||"/",j=f;if(c!=="/"){let N=c.replace(/^\//,"").split("/");j="/"+f.replace(/^\//,"").split("/").slice(N.length).join("/")}let x=d0(e,{pathname:j}),b=V0(x&&x.map(N=>Object.assign({},N,{params:Object.assign({},o,N.params),pathname:pn([c,a.encodeLocation?a.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?c:pn([c,a.encodeLocation?a.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),i,n,s);return t&&b?y.createElement(ii.Provider,{value:{location:xs({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:nn.Pop}},b):b}function U0(){let e=G0(),t=P0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),n?y.createElement("pre",{style:a},n):null,null)}const W0=y.createElement(U0,null);class H0 extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?y.createElement($t.Provider,{value:this.props.routeContext},y.createElement(Ip.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function q0(e){let{routeContext:t,match:n,children:s}=e,a=y.useContext(nc);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),y.createElement($t.Provider,{value:t},s)}function V0(e,t,n,s){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=s)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,o=(a=n)==null?void 0:a.errors;if(o!=null){let u=l.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);u>=0||xe(!1),l=l.slice(0,Math.min(l.length,u+1))}let c=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let u=0;u<l.length;u++){let m=l[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:f,errors:j}=n,x=m.route.loader&&f[m.route.id]===void 0&&(!j||j[m.route.id]===void 0);if(m.route.lazy||x){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((u,m,f)=>{let j,x=!1,b=null,N=null;n&&(j=o&&m.route.id?o[m.route.id]:void 0,b=m.route.errorElement||W0,c&&(d<0&&f===0?(X0("route-fallback"),x=!0,N=null):d===f&&(x=!0,N=m.route.hydrateFallbackElement||null)));let h=t.concat(l.slice(0,f+1)),p=()=>{let g;return j?g=b:x?g=N:m.route.Component?g=y.createElement(m.route.Component,null):m.route.element?g=m.route.element:g=u,y.createElement(q0,{match:m,routeContext:{outlet:u,matches:h,isDataRoute:n!=null},children:g})};return n&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?y.createElement(H0,{location:n.location,revalidation:n.revalidation,component:b,error:j,children:p(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):p()},null)}var Bp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Bp||{}),Up=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Up||{});function Q0(e){let t=y.useContext(nc);return t||xe(!1),t}function J0(e){let t=y.useContext(L0);return t||xe(!1),t}function K0(e){let t=y.useContext($t);return t||xe(!1),t}function Wp(e){let t=K0(),n=t.matches[t.matches.length-1];return n.route.id||xe(!1),n.route.id}function G0(){var e;let t=y.useContext(Ip),n=J0(),s=Wp();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function Y0(){let{router:e}=Q0(Bp.UseNavigateStable),t=Wp(Up.UseNavigateStable),n=y.useRef(!1);return Mp(()=>{n.current=!0}),y.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,xs({fromRouteId:t},i)))},[e,t])}const Hd={};function X0(e,t,n){Hd[e]||(Hd[e]=!0)}function Z0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function eg(e){let{to:t,replace:n,state:s,relative:a}=e;Nr()||xe(!1);let{future:i,static:l}=y.useContext(wn),{matches:o}=y.useContext($t),{pathname:c}=br(),d=li(),u=tc(t,ec(o,i.v7_relativeSplatPath),c,a==="path"),m=JSON.stringify(u);return y.useEffect(()=>d(JSON.parse(m),{replace:n,state:s,relative:a}),[d,m,a,n,s]),null}function tg(e){return I0(e.context)}function fe(e){xe(!1)}function ng(e){let{basename:t="/",children:n=null,location:s,navigationType:a=nn.Pop,navigator:i,static:l=!1,future:o}=e;Nr()&&xe(!1);let c=t.replace(/^\/*/,"/"),d=y.useMemo(()=>({basename:c,navigator:i,static:l,future:xs({v7_relativeSplatPath:!1},o)}),[c,o,i,l]);typeof s=="string"&&(s=wr(s));let{pathname:u="/",search:m="",hash:f="",state:j=null,key:x="default"}=s,b=y.useMemo(()=>{let N=Zo(u,c);return N==null?null:{location:{pathname:N,search:m,hash:f,state:j,key:x},navigationType:a}},[c,u,m,f,j,x,a]);return b==null?null:y.createElement(wn.Provider,{value:d},y.createElement(ii.Provider,{children:n,value:b}))}function rg(e){let{children:t,location:n}=e;return z0(Jl(t),n)}new Promise(()=>{});function Jl(e,t){t===void 0&&(t=[]);let n=[];return y.Children.forEach(e,(s,a)=>{if(!y.isValidElement(s))return;let i=[...t,a];if(s.type===y.Fragment){n.push.apply(n,Jl(s.props.children,i));return}s.type!==fe&&xe(!1),!s.props.index||!s.props.children||xe(!1);let l={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(l.children=Jl(s.props.children,i)),n.push(l)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kl(){return Kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Kl.apply(this,arguments)}function sg(e,t){if(e==null)return{};var n={},s=Object.keys(e),a,i;for(i=0;i<s.length;i++)a=s[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function ag(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ig(e,t){return e.button===0&&(!t||t==="_self")&&!ag(e)}const lg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],og="6";try{window.__reactRouterVersion=og}catch{}const cg="startTransition",qd=Kf[cg];function dg(e){let{basename:t,children:n,future:s,window:a}=e,i=y.useRef();i.current==null&&(i.current=l0({window:a,v5Compat:!0}));let l=i.current,[o,c]=y.useState({action:l.action,location:l.location}),{v7_startTransition:d}=s||{},u=y.useCallback(m=>{d&&qd?qd(()=>c(m)):c(m)},[c,d]);return y.useLayoutEffect(()=>l.listen(u),[l,u]),y.useEffect(()=>Z0(s),[s]),y.createElement(ng,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:l,future:s})}const ug=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ue=y.forwardRef(function(t,n){let{onClick:s,relative:a,reloadDocument:i,replace:l,state:o,target:c,to:d,preventScrollReset:u,viewTransition:m}=t,f=sg(t,lg),{basename:j}=y.useContext(wn),x,b=!1;if(typeof d=="string"&&mg.test(d)&&(x=d,ug))try{let g=new URL(window.location.href),k=d.startsWith("//")?new URL(g.protocol+d):new URL(d),v=Zo(k.pathname,j);k.origin===g.origin&&v!=null?d=v+k.search+k.hash:b=!0}catch{}let N=O0(d,{relative:a}),h=pg(d,{replace:l,state:o,target:c,preventScrollReset:u,relative:a,viewTransition:m});function p(g){s&&s(g),g.defaultPrevented||h(g)}return y.createElement("a",Kl({},f,{href:x||N,onClick:b||i?s:p,ref:n,target:c}))});var Vd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Vd||(Vd={}));var Qd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Qd||(Qd={}));function pg(e,t){let{target:n,replace:s,state:a,preventScrollReset:i,relative:l,viewTransition:o}=t===void 0?{}:t,c=li(),d=br(),u=zp(e,{relative:l});return y.useCallback(m=>{if(ig(m,n)){m.preventDefault();let f=s!==void 0?s:Ma(d)===Ma(u);c(e,{replace:f,state:a,preventScrollReset:i,relative:l,viewTransition:o})}},[d,c,u,s,a,n,e,i,l,o])}let fg={data:""},hg=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||fg},xg=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,gg=/\/\*[^]*?\*\/|  +/g,Jd=/\n+/g,Zt=(e,t)=>{let n="",s="",a="";for(let i in e){let l=e[i];i[0]=="@"?i[1]=="i"?n=i+" "+l+";":s+=i[1]=="f"?Zt(l,i):i+"{"+Zt(l,i[1]=="k"?"":t)+"}":typeof l=="object"?s+=Zt(l,t?t.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):i):l!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Zt.p?Zt.p(i,l):i+":"+l+";")}return n+(t&&a?t+"{"+a+"}":a)+s},Ft={},Hp=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Hp(e[n]);return t}return e},yg=(e,t,n,s,a)=>{let i=Hp(e),l=Ft[i]||(Ft[i]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(i));if(!Ft[l]){let c=i!==e?e:(d=>{let u,m,f=[{}];for(;u=xg.exec(d.replace(gg,""));)u[4]?f.shift():u[3]?(m=u[3].replace(Jd," ").trim(),f.unshift(f[0][m]=f[0][m]||{})):f[0][u[1]]=u[2].replace(Jd," ").trim();return f[0]})(e);Ft[l]=Zt(a?{["@keyframes "+l]:c}:c,n?"":"."+l)}let o=n&&Ft.g?Ft.g:null;return n&&(Ft.g=Ft[l]),((c,d,u,m)=>{m?d.data=d.data.replace(m,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(Ft[l],t,s,o),l},vg=(e,t,n)=>e.reduce((s,a,i)=>{let l=t[i];if(l&&l.call){let o=l(n),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;l=c?"."+c:o&&typeof o=="object"?o.props?"":Zt(o,""):o===!1?"":o}return s+a+(l??"")},"");function oi(e){let t=this||{},n=e.call?e(t.p):e;return yg(n.unshift?n.raw?vg(n,[].slice.call(arguments,1),t.p):n.reduce((s,a)=>Object.assign(s,a&&a.call?a(t.p):a),{}):n,hg(t.target),t.g,t.o,t.k)}let qp,Gl,Yl;oi.bind({g:1});let qt=oi.bind({k:1});function jg(e,t,n,s){Zt.p=t,qp=e,Gl=n,Yl=s}function Nn(e,t){let n=this||{};return function(){let s=arguments;function a(i,l){let o=Object.assign({},i),c=o.className||a.className;n.p=Object.assign({theme:Gl&&Gl()},o),n.o=/ *go\d+/.test(c),o.className=oi.apply(n,s)+(c?" "+c:"");let d=e;return e[0]&&(d=o.as||e,delete o.as),Yl&&d[0]&&Yl(o),qp(d,o)}return a}}var _g=e=>typeof e=="function",za=(e,t)=>_g(e)?e(t):e,wg=(()=>{let e=0;return()=>(++e).toString()})(),Vp=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Ng=20,rc="default",Qp=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(l=>l.id===t.toast.id?{...l,...t.toast}:l)};case 2:let{toast:s}=t;return Qp(e,{type:e.toasts.find(l=>l.id===s.id)?1:0,toast:s});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(l=>l.id===a||a===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(l=>l.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+i}))}}},ua=[],Jp={toasts:[],pausedAt:void 0,settings:{toastLimit:Ng}},St={},Kp=(e,t=rc)=>{St[t]=Qp(St[t]||Jp,e),ua.forEach(([n,s])=>{n===t&&s(St[t])})},Gp=e=>Object.keys(St).forEach(t=>Kp(e,t)),bg=e=>Object.keys(St).find(t=>St[t].toasts.some(n=>n.id===e)),ci=(e=rc)=>t=>{Kp(t,e)},kg={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Sg=(e={},t=rc)=>{let[n,s]=y.useState(St[t]||Jp),a=y.useRef(St[t]);y.useEffect(()=>(a.current!==St[t]&&s(St[t]),ua.push([t,s]),()=>{let l=ua.findIndex(([o])=>o===t);l>-1&&ua.splice(l,1)}),[t]);let i=n.toasts.map(l=>{var o,c,d;return{...e,...e[l.type],...l,removeDelay:l.removeDelay||((o=e[l.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:l.duration||((c=e[l.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||kg[l.type],style:{...e.style,...(d=e[l.type])==null?void 0:d.style,...l.style}}});return{...n,toasts:i}},Cg=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||wg()}),bs=e=>(t,n)=>{let s=Cg(t,e,n);return ci(s.toasterId||bg(s.id))({type:2,toast:s}),s.id},Ne=(e,t)=>bs("blank")(e,t);Ne.error=bs("error");Ne.success=bs("success");Ne.loading=bs("loading");Ne.custom=bs("custom");Ne.dismiss=(e,t)=>{let n={type:3,toastId:e};t?ci(t)(n):Gp(n)};Ne.dismissAll=e=>Ne.dismiss(void 0,e);Ne.remove=(e,t)=>{let n={type:4,toastId:e};t?ci(t)(n):Gp(n)};Ne.removeAll=e=>Ne.remove(void 0,e);Ne.promise=(e,t,n)=>{let s=Ne.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let i=t.success?za(t.success,a):void 0;return i?Ne.success(i,{id:s,...n,...n==null?void 0:n.success}):Ne.dismiss(s),a}).catch(a=>{let i=t.error?za(t.error,a):void 0;i?Ne.error(i,{id:s,...n,...n==null?void 0:n.error}):Ne.dismiss(s)}),e};var Eg=1e3,Rg=(e,t="default")=>{let{toasts:n,pausedAt:s}=Sg(e,t),a=y.useRef(new Map).current,i=y.useCallback((m,f=Eg)=>{if(a.has(m))return;let j=setTimeout(()=>{a.delete(m),l({type:4,toastId:m})},f);a.set(m,j)},[]);y.useEffect(()=>{if(s)return;let m=Date.now(),f=n.map(j=>{if(j.duration===1/0)return;let x=(j.duration||0)+j.pauseDuration-(m-j.createdAt);if(x<0){j.visible&&Ne.dismiss(j.id);return}return setTimeout(()=>Ne.dismiss(j.id,t),x)});return()=>{f.forEach(j=>j&&clearTimeout(j))}},[n,s,t]);let l=y.useCallback(ci(t),[t]),o=y.useCallback(()=>{l({type:5,time:Date.now()})},[l]),c=y.useCallback((m,f)=>{l({type:1,toast:{id:m,height:f}})},[l]),d=y.useCallback(()=>{s&&l({type:6,time:Date.now()})},[s,l]),u=y.useCallback((m,f)=>{let{reverseOrder:j=!1,gutter:x=8,defaultPosition:b}=f||{},N=n.filter(g=>(g.position||b)===(m.position||b)&&g.height),h=N.findIndex(g=>g.id===m.id),p=N.filter((g,k)=>k<h&&g.visible).length;return N.filter(g=>g.visible).slice(...j?[p+1]:[0,p]).reduce((g,k)=>g+(k.height||0)+x,0)},[n]);return y.useEffect(()=>{n.forEach(m=>{if(m.dismissed)i(m.id,m.removeDelay);else{let f=a.get(m.id);f&&(clearTimeout(f),a.delete(m.id))}})},[n,i]),{toasts:n,handlers:{updateHeight:c,startPause:o,endPause:d,calculateOffset:u}}},Tg=qt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,$g=qt`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Pg=qt`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Fg=Nn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Tg} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${$g} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Pg} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Lg=qt`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Og=Nn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${Lg} 1s linear infinite;
`,Dg=qt`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Ag=qt`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Ig=Nn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Dg} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Ag} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Mg=Nn("div")`
  position: absolute;
`,zg=Nn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Bg=qt`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ug=Nn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Bg} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Wg=({toast:e})=>{let{icon:t,type:n,iconTheme:s}=e;return t!==void 0?typeof t=="string"?y.createElement(Ug,null,t):t:n==="blank"?null:y.createElement(zg,null,y.createElement(Og,{...s}),n!=="loading"&&y.createElement(Mg,null,n==="error"?y.createElement(Fg,{...s}):y.createElement(Ig,{...s})))},Hg=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,qg=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Vg="0%{opacity:0;} 100%{opacity:1;}",Qg="0%{opacity:1;} 100%{opacity:0;}",Jg=Nn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Kg=Nn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Gg=(e,t)=>{let n=e.includes("top")?1:-1,[s,a]=Vp()?[Vg,Qg]:[Hg(n),qg(n)];return{animation:t?`${qt(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${qt(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Yg=y.memo(({toast:e,position:t,style:n,children:s})=>{let a=e.height?Gg(e.position||t||"top-center",e.visible):{opacity:0},i=y.createElement(Wg,{toast:e}),l=y.createElement(Kg,{...e.ariaProps},za(e.message,e));return y.createElement(Jg,{className:e.className,style:{...a,...n,...e.style}},typeof s=="function"?s({icon:i,message:l}):y.createElement(y.Fragment,null,i,l))});jg(y.createElement);var Xg=({id:e,className:t,style:n,onHeightUpdate:s,children:a})=>{let i=y.useCallback(l=>{if(l){let o=()=>{let c=l.getBoundingClientRect().height;s(e,c)};o(),new MutationObserver(o).observe(l,{subtree:!0,childList:!0,characterData:!0})}},[e,s]);return y.createElement("div",{ref:i,className:t,style:n},a)},Zg=(e,t)=>{let n=e.includes("top"),s=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Vp()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...s,...a}},ey=oi`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Qs=16,ty=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:s,children:a,toasterId:i,containerStyle:l,containerClassName:o})=>{let{toasts:c,handlers:d}=Rg(n,i);return y.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:Qs,left:Qs,right:Qs,bottom:Qs,pointerEvents:"none",...l},className:o,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(u=>{let m=u.position||t,f=d.calculateOffset(u,{reverseOrder:e,gutter:s,defaultPosition:t}),j=Zg(m,f);return y.createElement(Xg,{id:u.id,key:u.id,onHeightUpdate:d.updateHeight,className:u.visible?ey:"",style:j},u.type==="custom"?za(u.message,u):a?a(u):y.createElement(Yg,{toast:u,position:m}))}))},Yp={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Kd=Ct.createContext&&Ct.createContext(Yp),fn=function(){return fn=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},fn.apply(this,arguments)},ny=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n};function Xp(e){return e&&e.map(function(t,n){return Ct.createElement(t.tag,fn({key:n},t.attr),Xp(t.child))})}function H(e){return function(t){return Ct.createElement(ry,fn({attr:fn({},e.attr)},t),Xp(e.child))}}function ry(e){var t=function(n){var s=e.attr,a=e.size,i=e.title,l=ny(e,["attr","size","title"]),o=a||n.size||"1em",c;return n.className&&(c=n.className),e.className&&(c=(c?c+" ":"")+e.className),Ct.createElement("svg",fn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,l,{className:c,style:fn(fn({color:e.color||n.color},n.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),i&&Ct.createElement("title",null,i),e.children)};return Kd!==void 0?Ct.createElement(Kd.Consumer,null,function(n){return t(n)}):t(Yp)}function Tt(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 12 18 12 15 21 9 3 6 12 2 12"}}]})(e)}function He(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"}}]})(e)}function It(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"}},{tag:"line",attr:{x1:"12",y1:"9",x2:"12",y2:"13"}},{tag:"line",attr:{x1:"12",y1:"17",x2:"12.01",y2:"17"}}]})(e)}function Ba(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}},{tag:"polyline",attr:{points:"12 5 19 12 12 19"}}]})(e)}function gs(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"}},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"}},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"}}]})(e)}function Gd(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 19.5A2.5 2.5 0 0 1 6.5 17H20"}},{tag:"path",attr:{d:"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"}}]})(e)}function sy(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"}},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"}}]})(e)}function Be(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}},{tag:"polyline",attr:{points:"22 4 12 14.01 9 11.01"}}]})(e)}function ay(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"}},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"}}]})(e)}function at(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"}}]})(e)}function zn(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"}}]})(e)}function iy(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"}}]})(e)}function xr(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"}}]})(e)}function hn(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"polyline",attr:{points:"12 6 12 12 16 14"}}]})(e)}function ly(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"16 18 22 12 16 6"}},{tag:"polyline",attr:{points:"8 6 2 12 8 18"}}]})(e)}function Zp(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"}}]})(e)}function sc(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"}},{tag:"path",attr:{d:"M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"}},{tag:"path",attr:{d:"M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"}}]})(e)}function Ua(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"}},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"}}]})(e)}function oy(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}},{tag:"polyline",attr:{points:"7 10 12 15 17 10"}},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"}}]})(e)}function cy(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}}]})(e)}function dy(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}}]})(e)}function uy(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}}]})(e)}function gr(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}},{tag:"polyline",attr:{points:"14 2 14 8 20 8"}},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"}},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"}},{tag:"polyline",attr:{points:"10 9 9 9 8 9"}}]})(e)}function rn(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"6",y1:"3",x2:"6",y2:"15"}},{tag:"circle",attr:{cx:"18",cy:"6",r:"3"}},{tag:"circle",attr:{cx:"6",cy:"18",r:"3"}},{tag:"path",attr:{d:"M18 9a9 9 0 0 1-9 9"}}]})(e)}function my(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"3",width:"7",height:"7"}},{tag:"rect",attr:{x:"14",y:"14",width:"7",height:"7"}},{tag:"rect",attr:{x:"3",y:"14",width:"7",height:"7"}}]})(e)}function py(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"}}]})(e)}function ac(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"}},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"}}]})(e)}function xn(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"12 2 2 7 12 12 22 7 12 2"}},{tag:"polyline",attr:{points:"2 17 12 22 22 17"}},{tag:"polyline",attr:{points:"2 12 12 17 22 12"}}]})(e)}function ic(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"8",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"8",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"8",y1:"18",x2:"21",y2:"18"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"3.01",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"12",x2:"3.01",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"3.01",y2:"18"}}]})(e)}function fy(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"}}]})(e)}function lc(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}}]})(e)}function ef(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(e)}function oc(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"}},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"}},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"}},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"}}]})(e)}function Yd(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"6",y:"4",width:"4",height:"16"}},{tag:"rect",attr:{x:"14",y:"4",width:"4",height:"16"}}]})(e)}function Xd(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.21 15.89A10 10 0 1 1 8 2.83"}},{tag:"path",attr:{d:"M22 12A10 10 0 0 0 12 2v10z"}}]})(e)}function zt(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"5 3 19 12 5 21 5 3"}}]})(e)}function gt(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(e)}function yt(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"}},{tag:"polyline",attr:{points:"1 20 1 14 7 14"}},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"}}]})(e)}function Zd(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"1 4 1 10 7 10"}},{tag:"path",attr:{d:"M3.51 15a9 9 0 1 0 2.13-9.36L1 10"}}]})(e)}function eu(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"}},{tag:"polyline",attr:{points:"17 21 17 13 7 13 7 21"}},{tag:"polyline",attr:{points:"7 3 7 8 15 8"}}]})(e)}function hy(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(e)}function xy(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",y1:"2",x2:"11",y2:"13"}},{tag:"polygon",attr:{points:"22 2 15 22 11 13 2 9 22 2"}}]})(e)}function gy(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"8",rx:"2",ry:"2"}},{tag:"rect",attr:{x:"2",y:"14",width:"20",height:"8",rx:"2",ry:"2"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"6.01",y2:"6"}},{tag:"line",attr:{x1:"6",y1:"18",x2:"6.01",y2:"18"}}]})(e)}function tf(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"3"}},{tag:"path",attr:{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}}]})(e)}function Xl(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"}}]})(e)}function nf(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"6"}},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"}}]})(e)}function Vt(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"}}]})(e)}function ys(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"}},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"}}]})(e)}function rf(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 18 13.5 8.5 8.5 13.5 1 6"}},{tag:"polyline",attr:{points:"17 18 23 18 23 12"}}]})(e)}function di(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 6 13.5 15.5 8.5 10.5 1 18"}},{tag:"polyline",attr:{points:"17 6 23 6 23 12"}}]})(e)}function sf(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"1",y:"3",width:"15",height:"13"}},{tag:"polygon",attr:{points:"16 8 20 8 23 11 23 16 16 16 16 8"}},{tag:"circle",attr:{cx:"5.5",cy:"18.5",r:"2.5"}},{tag:"circle",attr:{cx:"18.5",cy:"18.5",r:"2.5"}}]})(e)}function af(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"}},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"}},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"}}]})(e)}function cc(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"}},{tag:"line",attr:{x1:"15",y1:"9",x2:"9",y2:"15"}},{tag:"line",attr:{x1:"9",y1:"9",x2:"15",y2:"15"}}]})(e)}function ot(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(e)}function Hi(e){return H({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"}}]})(e)}const tu=[{name:"Dashboard",href:"/dashboard",icon:py},{name:"Chat",href:"/chat",icon:lc},{name:"Foundation Design",href:"/foundation-design",icon:Vt},{name:"Workflows",href:"/workflows",icon:xn},{name:"Executions",href:"/executions",icon:Tt},{name:"Approvals",href:"/approvals",icon:ay},{name:"Risk Rules",href:"/risk-rules",icon:Xl},{name:"Knowledge Graph",href:"/knowledge-graph",icon:sc},{name:"Constructability",href:"/constructability",icon:It},{name:"What-If Costs",href:"/scenarios",icon:Ua},{name:"Settings",href:"/settings",icon:tf}];function yy(){const[e,t]=y.useState(!1),n=br();return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[r.jsxs("div",{className:`fixed inset-0 z-40 lg:hidden ${e?"":"pointer-events-none"}`,children:[r.jsx("div",{className:`fixed inset-0 bg-gray-600 bg-opacity-75 transition-opacity ${e?"opacity-100":"opacity-0"}`,onClick:()=>t(!1)}),r.jsxs("div",{className:`fixed inset-y-0 left-0 flex flex-col w-64 bg-white transform transition-transform ${e?"translate-x-0":"-translate-x-full"}`,children:[r.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b",children:[r.jsx("h1",{className:"text-xl font-bold text-primary-600",children:"CSA AIaaS"}),r.jsx("button",{onClick:()=>t(!1),children:r.jsx(ot,{className:"w-6 h-6"})})]}),r.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:tu.map(s=>{const a=s.icon,i=n.pathname.startsWith(s.href);return r.jsxs(Ue,{to:s.href,onClick:()=>t(!1),className:`flex items-center px-3 py-2 text-sm font-medium rounded-lg ${i?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-100"}`,children:[r.jsx(a,{className:"w-5 h-5 mr-3"}),s.name]},s.name)})})]})]}),r.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:flex lg:w-64 lg:flex-col",children:r.jsxs("div",{className:"flex flex-col flex-1 bg-white border-r",children:[r.jsx("div",{className:"flex items-center h-16 px-4 border-b",children:r.jsx("h1",{className:"text-xl font-bold text-primary-600",children:"CSA AIaaS Platform"})}),r.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1",children:tu.map(s=>{const a=s.icon,i=n.pathname.startsWith(s.href);return r.jsxs(Ue,{to:s.href,className:`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${i?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-100"}`,children:[r.jsx(a,{className:"w-5 h-5 mr-3"}),s.name]},s.name)})}),r.jsx("div",{className:"p-4 border-t",children:r.jsxs("div",{className:"text-xs text-gray-500",children:[r.jsx("p",{children:"Version 1.0.0"}),r.jsx("p",{children:"Phase 4 Sprint 3 Complete"})]})})]})}),r.jsxs("div",{className:"lg:pl-64",children:[r.jsxs("div",{className:"sticky top-0 z-10 flex h-16 bg-white border-b lg:hidden",children:[r.jsx("button",{onClick:()=>t(!0),className:"px-4 text-gray-500 focus:outline-none",children:r.jsx(fy,{className:"w-6 h-6"})}),r.jsx("div",{className:"flex items-center flex-1 px-4",children:r.jsx("h1",{className:"text-lg font-semibold",children:"CSA AIaaS"})})]}),r.jsx("main",{className:"flex-1",children:r.jsx("div",{className:"py-6",children:r.jsx("div",{className:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8",children:r.jsx(tg,{})})})})]})]})}function vy(){const e=[{name:"Chat Assistant",description:"Conversational AI with RAG for engineering questions",icon:lc,href:"/chat",color:"bg-blue-500",stats:"Phase 1 Sprint 3"},{name:"Foundation Design",description:"IS 456:2000 compliant calculator with BOQ generation",icon:Vt,href:"/foundation-design",color:"bg-green-500",stats:"Phase 2 Sprint 1"},{name:"Workflow Manager",description:"Create and manage workflows without code - 8 engineering tools available",icon:xn,href:"/workflows",color:"bg-purple-500",stats:"Phase 3 Sprint 3"},{name:"Execution Monitor",description:"Track workflow executions and HITL approvals",icon:Tt,href:"/executions",color:"bg-orange-500",stats:"Phase 2 Sprint 4"},{name:"Performance Dashboard",description:"Monitor schema performance, metrics, and version comparisons",icon:di,href:"/performance",color:"bg-indigo-500",stats:"Phase 3 Sprint 4"},{name:"A/B Testing",description:"Create experiments and compare schema variants",icon:rn,href:"/experiments",color:"bg-pink-500",stats:"Phase 3 Sprint 4"}],t=[{discipline:"Civil",count:3,description:"Foundations, Retaining Walls, Combined Footings"},{discipline:"Structural",count:4,description:"Beams, Columns, Slabs, Base Plates"},{discipline:"Architectural",count:1,description:"Room Data Sheets"}],n=[{name:"Engineering Tools",value:"8",icon:Vt,color:"text-green-600"},{name:"Implementation Phase",value:"Phase 3",icon:hn,color:"text-blue-600"},{name:"Total Functions",value:"16",icon:my,color:"text-purple-600"},{name:"A/B Testing",value:"Active",icon:rn,color:"text-pink-600"}];return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Welcome to CSA AIaaS Platform - Your AI-powered engineering automation system"})]}),r.jsx("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-4",children:n.map(s=>{const a=s.icon;return r.jsx("div",{className:"card",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsx(a,{className:`w-8 h-8 ${s.color}`})}),r.jsxs("div",{className:"flex-1 ml-5",children:[r.jsx("div",{className:"text-sm font-medium text-gray-500",children:s.name}),r.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:s.value})]})]})},s.name)})}),r.jsxs("div",{children:[r.jsx("h2",{className:"mb-4 text-xl font-semibold text-gray-900",children:"Available Features"}),r.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:e.map(s=>{const a=s.icon;return r.jsx(Ue,{to:s.href,className:"card hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-start",children:[r.jsx("div",{className:`flex-shrink-0 p-3 rounded-lg ${s.color}`,children:r.jsx(a,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1 ml-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s.name}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:s.description}),r.jsx("span",{className:"inline-block px-2 py-1 mt-2 text-xs font-medium text-blue-800 bg-blue-100 rounded",children:s.stats})]})]})},s.name)})})]}),r.jsxs("div",{className:"card bg-primary-50 border border-primary-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-primary-900",children:"Quick Start Guide"}),r.jsxs("ul",{className:"mt-4 space-y-2 text-sm text-primary-800",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"mr-2",children:"1."}),r.jsxs("span",{children:["Start a ",r.jsx(Ue,{to:"/chat",className:"font-medium underline",children:"chat session"})," to ask engineering questions"]})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"mr-2",children:"2."}),r.jsxs("span",{children:["Use the ",r.jsx(Ue,{to:"/foundation-design",className:"font-medium underline",children:"Foundation Designer"})," to calculate designs"]})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"mr-2",children:"3."}),r.jsxs("span",{children:["Create ",r.jsx(Ue,{to:"/workflows",className:"font-medium underline",children:"workflows"})," for automated execution"]})]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx("span",{className:"mr-2",children:"4."}),r.jsxs("span",{children:["Monitor ",r.jsx(Ue,{to:"/executions",className:"font-medium underline",children:"executions"})," and approve HITL requests"]})]})]})]}),r.jsxs("div",{className:"card bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-200",children:[r.jsx("h3",{className:"text-lg font-semibold text-indigo-900",children:"Available Engineering Engines"}),r.jsx("p",{className:"text-sm text-indigo-700 mt-1",children:"Phase 3 Sprint 3 - Rapid Expansion"}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:t.map(s=>r.jsxs("div",{className:"bg-white rounded-lg p-4 border border-indigo-200",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"font-semibold text-gray-900",children:s.discipline}),r.jsx("span",{className:"text-2xl font-bold text-indigo-600",children:s.count})]}),r.jsx("p",{className:"text-xs text-gray-600 mt-2",children:s.description})]},s.discipline))}),r.jsx("p",{className:"text-xs text-indigo-600 mt-3",children:"All engines follow Indian design codes: IS 456:2000 (RCC), IS 800:2007 (Steel), IS 14458 (Retaining Walls), NBC 2016 (Architectural)"})]}),r.jsxs("div",{className:"card",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"System Information"}),r.jsxs("dl",{className:"grid grid-cols-1 gap-4 mt-4 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Backend API"}),r.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:"http://localhost:8000"})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Database"}),r.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:"Supabase PostgreSQL + pgvector"})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Frontend Version"}),r.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:"1.1.0 (Phase 3 Sprint 4)"})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Implementation"}),r.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:"Phase 3 Complete (A/B Testing)"})]})]})]})]})}const Js="http://localhost:8000";function nu(){const[e,t]=y.useState(""),[n,s]=y.useState([]),[a,i]=y.useState(null),[l,o]=y.useState(!1),[c,d]=y.useState(null),u=async()=>{if(!e.trim()||l)return;const m=e;s([...n,{text:m,sender:"user"}]),t(""),o(!0),d(null);try{const f=await fetch(`${Js}/api/v1/chat/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:m,conversation_id:a})});if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);const j=await f.json();!a&&j.conversation_id&&i(j.conversation_id),s(x=>[...x,{text:j.response,sender:"ai",metadata:j.metadata}])}catch(f){console.error("Error sending message:",f),d("Failed to connect to backend. Make sure the server is running at "+Js),s(j=>[...j,{text:"Error: Could not connect to the backend API. Please ensure the server is running.",sender:"error"}])}finally{o(!1)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Chat Assistant"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Ask engineering questions and get AI-powered answers"})]}),a&&r.jsxs("div",{className:"text-sm text-gray-500",children:["Session: ",a.substring(0,8),"..."]})]}),c&&r.jsxs("div",{className:"card bg-red-50 border-red-200",children:[r.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[r.jsx(He,{className:"w-5 h-5"}),r.jsx("span",{className:"font-semibold",children:"Connection Error"})]}),r.jsx("p",{className:"mt-2 text-sm text-red-700",children:c})]}),r.jsxs("div",{className:"card h-[600px] flex flex-col",children:[r.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 p-4",children:[n.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[r.jsx(lc,{className:"w-16 h-16 mb-4"}),r.jsx("p",{children:"Start a conversation by typing a message below"}),r.jsxs("p",{className:"mt-2 text-sm",children:["Connected to backend at ",Js]})]}):n.map((m,f)=>r.jsx("div",{className:`flex ${m.sender==="user"?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`max-w-sm px-4 py-2 rounded-lg ${m.sender==="user"?"bg-primary-600 text-white":m.sender==="error"?"bg-red-100 text-red-900 border border-red-300":"bg-gray-200 text-gray-900"}`,children:[r.jsx("div",{children:m.text}),m.metadata&&m.metadata.sources&&r.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-300 text-xs",children:[r.jsx("strong",{children:"Sources:"})," ",m.metadata.sources.join(", ")]})]})},f)),l&&r.jsx("div",{className:"flex justify-start",children:r.jsx("div",{className:"max-w-sm px-4 py-2 rounded-lg bg-gray-200 text-gray-900",children:r.jsx("div",{className:"flex items-center gap-2",children:r.jsx("div",{className:"animate-pulse",children:"Thinking..."})})})})]}),r.jsx("div",{className:"border-t p-4",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{type:"text",value:e,onChange:m=>t(m.target.value),onKeyDown:m=>m.key==="Enter"&&!m.shiftKey&&u(),placeholder:"Type your message...",className:"input-field",disabled:l}),r.jsx("button",{onClick:u,className:"btn-primary",disabled:l||!e.trim(),children:r.jsx(xy,{className:"w-5 h-5"})})]})})]}),r.jsxs("div",{className:"card bg-green-50",children:[r.jsx("h3",{className:"font-semibold text-green-900",children:" Connected to Backend"}),r.jsxs("p",{className:"mt-2 text-sm text-green-800",children:["Full chat functionality enabled with RAG, citations, and ambiguity detection. Backend API: ",Js]})]})]})}function jy(){var u,m,f,j,x,b,N;const[e,t]=y.useState({axial_load_dead:"",axial_load_live:"",column_width:"",column_depth:"",safe_bearing_capacity:"",concrete_grade:"M25",steel_grade:"Fe415",moment_x:0,moment_y:0,footing_type:"square",aspect_ratio:1.5,depth_of_foundation:1.5,soil_unit_weight:18,design_code:"IS456:2000"}),[n,s]=y.useState(null),[a,i]=y.useState(!1),[l,o]=y.useState(null),c=()=>{const h=["axial_load_dead","axial_load_live","column_width","column_depth","safe_bearing_capacity"];for(let k of h)if(!e[k]||parseFloat(e[k])<=0)return`${k.replace(/_/g," ")} must be a positive number`;const p=parseFloat(e.column_width),g=parseFloat(e.column_depth);return p>5||g>5?`Column dimensions seem too large (${p}m  ${g}m). Typical values are 0.3m to 1.5m. Did you mean to enter in millimeters? Convert mm to meters (e.g., 400mm = 0.4m)`:null},d=async()=>{const h=c();if(h){o(h);return}i(!0),o(null),s(null);try{const p={input_data:{axial_load_dead:parseFloat(e.axial_load_dead),axial_load_live:parseFloat(e.axial_load_live),column_width:parseFloat(e.column_width),column_depth:parseFloat(e.column_depth),safe_bearing_capacity:parseFloat(e.safe_bearing_capacity),concrete_grade:e.concrete_grade,steel_grade:e.steel_grade,moment_x:parseFloat(e.moment_x)||0,moment_y:parseFloat(e.moment_y)||0,footing_type:e.footing_type,aspect_ratio:parseFloat(e.aspect_ratio)||1.5,depth_of_foundation:parseFloat(e.depth_of_foundation)||1.5,soil_unit_weight:parseFloat(e.soil_unit_weight)||18,design_code:e.design_code},user_id:"frontend_user_"+Date.now()},g=await fetch("/api/v1/workflows/foundation_design/execute",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!g.ok){const v=await g.json();throw new Error(v.detail||`HTTP error! status: ${g.status}`)}const k=await g.json();if(k.output_data){const v=k.output_data.final_design_data,R=k.output_data.initial_design_data;if(!v&&!R)throw new Error("No design data found in workflow output");const L=v||R,A={footing_length:v?v.footing_length_final:R.footing_length,footing_width:v?v.footing_width_final:R.footing_width,footing_depth:v?v.footing_depth_final:R.footing_depth,effective_depth:R.effective_depth,base_pressure_service:R.base_pressure_service,steel_required_x:R.steel_required_x,steel_required_y:R.steel_required_y,bar_dia_x:R.bar_dia_x,bar_dia_y:R.bar_dia_y,num_bars_x:R.num_bars_x,num_bars_y:R.num_bars_y,design_ok:R.design_ok!==!1,reinforcement_x:v==null?void 0:v.reinforcement_x_final,reinforcement_y:v==null?void 0:v.reinforcement_y_final,material_quantities:v==null?void 0:v.material_quantities,bar_bending_schedule:v==null?void 0:v.bar_bending_schedule};s({...A,execution_id:k.execution_id})}else throw new Error(k.error_message||"No output data received")}catch(p){o(p.message)}finally{i(!1)}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Foundation Design Calculator"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"IS 456:2000 compliant foundation design"})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[r.jsxs("div",{className:"card",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Input Parameters"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Dead Load (kN)"}),r.jsx("input",{type:"number",value:e.axial_load_dead,onChange:h=>t({...e,axial_load_dead:h.target.value}),className:"input-field mt-1",placeholder:"600"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Live Load (kN)"}),r.jsx("input",{type:"number",value:e.axial_load_live,onChange:h=>t({...e,axial_load_live:h.target.value}),className:"input-field mt-1",placeholder:"400"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Column Width (m)"}),r.jsx("input",{type:"number",step:"0.05",value:e.column_width,onChange:h=>t({...e,column_width:h.target.value}),className:"input-field mt-1",placeholder:"0.4"}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Typical: 0.3 - 1.5m (e.g., 400mm = 0.4m)"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Column Depth (m)"}),r.jsx("input",{type:"number",step:"0.05",value:e.column_depth,onChange:h=>t({...e,column_depth:h.target.value}),className:"input-field mt-1",placeholder:"0.4"}),r.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Typical: 0.3 - 1.5m (e.g., 400mm = 0.4m)"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Safe Bearing Capacity (kN/m)"}),r.jsx("input",{type:"number",value:e.safe_bearing_capacity,onChange:h=>t({...e,safe_bearing_capacity:h.target.value}),className:"input-field mt-1",placeholder:"200"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Concrete Grade"}),r.jsxs("select",{value:e.concrete_grade,onChange:h=>t({...e,concrete_grade:h.target.value}),className:"input-field mt-1",children:[r.jsx("option",{value:"M20",children:"M20"}),r.jsx("option",{value:"M25",children:"M25"}),r.jsx("option",{value:"M30",children:"M30"}),r.jsx("option",{value:"M35",children:"M35"}),r.jsx("option",{value:"M40",children:"M40"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Steel Grade"}),r.jsxs("select",{value:e.steel_grade,onChange:h=>t({...e,steel_grade:h.target.value}),className:"input-field mt-1",children:[r.jsx("option",{value:"Fe415",children:"Fe 415"}),r.jsx("option",{value:"Fe500",children:"Fe 500"})]})]})]}),r.jsxs("button",{onClick:d,disabled:a,className:"btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(Vt,{className:"inline mr-2"}),a?"Calculating...":"Calculate Design"]})]})]}),r.jsxs("div",{className:"card",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Design Results"}),l&&r.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg mb-4",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(He,{className:"text-red-600 mr-2"}),r.jsx("span",{className:"text-red-800",children:l})]})}),n?r.jsxs("div",{className:"space-y-4",children:[r.jsx("div",{className:`p-4 border rounded-lg ${n.design_ok?"bg-green-50 border-green-200":"bg-yellow-50 border-yellow-200"}`,children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"text-2xl mr-2",children:n.design_ok?"":""}),r.jsxs("span",{className:`font-semibold ${n.design_ok?"text-green-900":"text-yellow-900"}`,children:["Design ",n.design_ok?"OK":"Requires Review"]})]})}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Footing Dimensions"}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Length"}),r.jsxs("div",{className:"text-lg font-semibold",children:[(u=n.footing_length)==null?void 0:u.toFixed(3)," m"]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Width"}),r.jsxs("div",{className:"text-lg font-semibold",children:[(m=n.footing_width)==null?void 0:m.toFixed(3)," m"]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Depth"}),r.jsxs("div",{className:"text-lg font-semibold",children:[(f=n.footing_depth)==null?void 0:f.toFixed(3)," m"]})]})]})]}),n.effective_depth&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Design Parameters"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Effective Depth"}),r.jsxs("div",{className:"font-semibold",children:[(j=n.effective_depth)==null?void 0:j.toFixed(3)," m"]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Base Pressure (Service)"}),r.jsxs("div",{className:"font-semibold",children:[(x=n.base_pressure_service)==null?void 0:x.toFixed(2)," kN/m"]})]})]})]}),n.steel_required_x&&r.jsxs("div",{children:[r.jsx("h3",{className:"font-medium text-gray-700 mb-2",children:"Reinforcement"}),r.jsxs("div",{className:"grid grid-cols-2 gap-4 p-4 bg-gray-50 rounded-lg text-sm",children:[r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-500",children:"Steel Req'd (X)"}),r.jsxs("div",{className:"font-semibold",children:[(b=n.steel_required_x)==null?void 0:b.toFixed(0)," mm"]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-500",children:"Steel Req'd (Y)"}),r.jsxs("div",{className:"font-semibold",children:[(N=n.steel_required_y)==null?void 0:N.toFixed(0)," mm"]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-500",children:"Bars (X)"}),r.jsxs("div",{className:"font-semibold",children:[n.num_bars_x," ",n.bar_dia_x]})]}),r.jsxs("div",{children:[r.jsx("div",{className:"text-gray-500",children:"Bars (Y)"}),r.jsxs("div",{className:"font-semibold",children:[n.num_bars_y," ",n.bar_dia_y]})]})]})]}),r.jsx("div",{className:"card bg-blue-50",children:r.jsx("p",{className:"text-sm text-blue-800",children:" Design calculations complete using IS 456:2000 standards"})})]}):r.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Vt,{className:"w-16 h-16 mx-auto mb-4"}),r.jsx("p",{children:"Fill in the parameters and click Calculate Design"})]})})]})]})]})}const _y="http://localhost:8000",qi={blank:{name:"Blank Workflow",description:"Start from scratch",data:null},foundation_basic:{name:"Isolated Foundation Design",description:"Single-step isolated footing per IS 456",data:{deliverable_type:"foundation_basic",display_name:"Isolated Foundation Design",discipline:"civil",workflow_steps:[{step_number:1,step_name:"design_footing",description:"Design isolated footing per IS 456",persona:"Designer",function_to_call:"civil_foundation_designer_v1.design_isolated_footing",input_mapping:{axial_load_dead:"$input.axial_load_dead",axial_load_live:"$input.axial_load_live",column_width:"$input.column_width",column_depth:"$input.column_depth",safe_bearing_capacity:"$input.safe_bearing_capacity",concrete_grade:"$input.concrete_grade",steel_grade:"$input.steel_grade"},output_variable:"design_result",error_handling:{retry_count:0,on_error:"fail"},timeout_seconds:300}],input_schema:{type:"object",required:["axial_load_dead","axial_load_live","column_width","column_depth","safe_bearing_capacity"],properties:{axial_load_dead:{type:"number",minimum:0,description:"Dead load in kN"},axial_load_live:{type:"number",minimum:0,description:"Live load in kN"},column_width:{type:"number",minimum:.1,maximum:3,description:"Column width in meters"},column_depth:{type:"number",minimum:.1,maximum:3,description:"Column depth in meters"},safe_bearing_capacity:{type:"number",minimum:50,maximum:1e3,description:"SBC in kPa"},concrete_grade:{type:"string",enum:["M20","M25","M30","M35"],default:"M25"},steel_grade:{type:"string",enum:["Fe415","Fe500"],default:"Fe415"}}},status:"draft",tags:["foundation","civil"]}},foundation_optimized:{name:"Optimized Foundation Design",description:"Multi-step with schedule optimization",data:{deliverable_type:"foundation_optimized",display_name:"Optimized Foundation Design",discipline:"civil",workflow_steps:[{step_number:1,step_name:"initial_design",description:"Initial foundation sizing",persona:"Designer",function_to_call:"civil_foundation_designer_v1.design_isolated_footing",input_mapping:{axial_load_dead:"$input.axial_load_dead",axial_load_live:"$input.axial_load_live",column_width:"$input.column_width",column_depth:"$input.column_depth",safe_bearing_capacity:"$input.safe_bearing_capacity",concrete_grade:"$input.concrete_grade",steel_grade:"$input.steel_grade"},output_variable:"initial_design_data",timeout_seconds:300},{step_number:2,step_name:"optimize_design",description:"Optimize for cost and schedule",persona:"Engineer",function_to_call:"civil_foundation_designer_v1.optimize_schedule",input_mapping:{footing_length_initial:"$step1.footing_length_initial",footing_width_initial:"$step1.footing_width_initial",footing_depth:"$step1.footing_depth",steel_bars_long:"$step1.steel_bars_long",steel_bars_trans:"$step1.steel_bars_trans",bar_diameter:"$step1.bar_diameter",concrete_volume:"$step1.concrete_volume"},output_variable:"optimized_design_data",timeout_seconds:300}],input_schema:{type:"object",required:["axial_load_dead","axial_load_live","column_width","column_depth","safe_bearing_capacity"],properties:{axial_load_dead:{type:"number",minimum:0},axial_load_live:{type:"number",minimum:0},column_width:{type:"number",minimum:.1},column_depth:{type:"number",minimum:.1},safe_bearing_capacity:{type:"number",minimum:50},concrete_grade:{type:"string",default:"M25"},steel_grade:{type:"string",default:"Fe415"}}},risk_config:{auto_approve_threshold:.3,require_review_threshold:.7,require_hitl_threshold:.9},status:"draft",tags:["foundation","optimized","civil"]}},retaining_wall:{name:"Retaining Wall Design",description:"Cantilever retaining wall per IS 14458",data:{deliverable_type:"retaining_wall_design",display_name:"Cantilever Retaining Wall Design",discipline:"civil",workflow_steps:[{step_number:1,step_name:"analyze_wall",description:"Analyze wall stability (overturning, sliding, bearing)",persona:"Designer",function_to_call:"civil_retaining_wall_designer_v1.analyze_retaining_wall",input_mapping:{wall_height:"$input.wall_height",surcharge_load:"$input.surcharge_load",soil_unit_weight:"$input.soil_unit_weight",angle_of_internal_friction:"$input.angle_of_internal_friction",safe_bearing_capacity:"$input.safe_bearing_capacity",backfill_slope:"$input.backfill_slope",concrete_grade:"$input.concrete_grade",steel_grade:"$input.steel_grade",cover:"$input.cover",coefficient_of_friction:"$input.coefficient_of_friction"},output_variable:"wall_analysis",timeout_seconds:300},{step_number:2,step_name:"design_reinforcement",description:"Design stem and base reinforcement",persona:"Engineer",function_to_call:"civil_retaining_wall_designer_v1.design_retaining_wall_reinforcement",input_mapping:{analysis_result:"$step1"},output_variable:"wall_design",timeout_seconds:300}],input_schema:{type:"object",required:["wall_height","soil_unit_weight","angle_of_internal_friction","safe_bearing_capacity"],properties:{wall_height:{type:"number",minimum:1.5,maximum:8,description:"Wall height in meters"},surcharge_load:{type:"number",minimum:0,default:10,description:"Surcharge load in kN/m"},soil_unit_weight:{type:"number",minimum:14,maximum:22,default:18,description:"Soil unit weight in kN/m"},angle_of_internal_friction:{type:"number",minimum:20,maximum:45,default:30,description:"Angle of internal friction (degrees)"},safe_bearing_capacity:{type:"number",minimum:100,maximum:500,description:"Safe bearing capacity in kPa"},backfill_slope:{type:"number",minimum:0,maximum:30,default:0,description:"Backfill slope angle (degrees)"},concrete_grade:{type:"string",enum:["M20","M25","M30","M35"],default:"M25"},steel_grade:{type:"string",enum:["Fe415","Fe500"],default:"Fe415"},cover:{type:"number",minimum:40,maximum:75,default:50,description:"Clear cover in mm"},coefficient_of_friction:{type:"number",minimum:.3,maximum:.7,default:.5}}},status:"draft",tags:["retaining-wall","civil","geotechnical"]}},rcc_beam:{name:"RCC Beam Design",description:"Flexure and shear design per IS 456",data:{deliverable_type:"rcc_beam_design",display_name:"RCC Beam Design (IS 456)",discipline:"structural",workflow_steps:[{step_number:1,step_name:"analyze_beam",description:"Calculate bending moments and shear forces",persona:"Designer",function_to_call:"structural_beam_designer_v1.analyze_beam",input_mapping:{span_length:"$input.span_length",beam_width:"$input.beam_width",beam_depth:"$input.beam_depth",dead_load:"$input.dead_load",live_load:"$input.live_load",support_type:"$input.support_type",load_type:"$input.load_type",concrete_grade:"$input.concrete_grade",steel_grade:"$input.steel_grade",cover:"$input.cover",exposure_condition:"$input.exposure_condition"},output_variable:"beam_analysis",timeout_seconds:300},{step_number:2,step_name:"design_reinforcement",description:"Design flexural and shear reinforcement",persona:"Engineer",function_to_call:"structural_beam_designer_v1.design_beam_reinforcement",input_mapping:{analysis_result:"$step1"},output_variable:"beam_design",timeout_seconds:300}],input_schema:{type:"object",required:["span_length","beam_width","beam_depth","dead_load","live_load"],properties:{span_length:{type:"number",minimum:1,maximum:15,description:"Span length in meters"},beam_width:{type:"number",minimum:.15,maximum:1,default:.3,description:"Beam width in meters"},beam_depth:{type:"number",minimum:.2,maximum:2,default:.6,description:"Beam depth in meters"},dead_load:{type:"number",minimum:0,description:"Dead load in kN/m"},live_load:{type:"number",minimum:0,description:"Live load in kN/m"},support_type:{type:"string",enum:["simply_supported","fixed_both","fixed_one","cantilever"],default:"simply_supported"},load_type:{type:"string",enum:["uniformly_distributed","point_load_center","point_load_third"],default:"uniformly_distributed"},concrete_grade:{type:"string",enum:["M20","M25","M30","M35","M40"],default:"M25"},steel_grade:{type:"string",enum:["Fe415","Fe500","Fe550"],default:"Fe500"},cover:{type:"number",minimum:25,maximum:75,default:40,description:"Clear cover in mm"},exposure_condition:{type:"string",enum:["mild","moderate","severe","very_severe","extreme"],default:"moderate"}}},status:"draft",tags:["beam","rcc","structural"]}},steel_column:{name:"Steel Column Design",description:"Capacity check and connection per IS 800",data:{deliverable_type:"steel_column_design",display_name:"Steel Column Design (IS 800)",discipline:"structural",workflow_steps:[{step_number:1,step_name:"check_capacity",description:"Check column capacity with buckling analysis",persona:"Designer",function_to_call:"structural_steel_column_designer_v1.check_column_capacity",input_mapping:{axial_load:"$input.axial_load",column_height:"$input.column_height",effective_length_factor_major:"$input.effective_length_factor_major",effective_length_factor_minor:"$input.effective_length_factor_minor",section_type:"$input.section_type",section_size:"$input.section_size",steel_grade:"$input.steel_grade",is_braced:"$input.is_braced"},output_variable:"capacity_result",timeout_seconds:300},{step_number:2,step_name:"design_connection",description:"Design base plate and anchor bolts",persona:"Engineer",function_to_call:"structural_steel_column_designer_v1.design_column_connection",input_mapping:{capacity_result:"$step1"},output_variable:"connection_design",timeout_seconds:300}],input_schema:{type:"object",required:["axial_load","column_height","section_type","section_size"],properties:{axial_load:{type:"number",minimum:10,maximum:1e4,description:"Axial load in kN"},column_height:{type:"number",minimum:2,maximum:20,description:"Column height in meters"},effective_length_factor_major:{type:"number",minimum:.5,maximum:2.5,default:1},effective_length_factor_minor:{type:"number",minimum:.5,maximum:2.5,default:1},section_type:{type:"string",enum:["ISHB","ISMB","ISMC","UC","UC_BUILT_UP"],default:"ISHB"},section_size:{type:"string",enum:["150","200","225","250","300","350","400","450"],default:"200"},steel_grade:{type:"string",enum:["E250","E300","E350","E410","E450"],default:"E250"},is_braced:{type:"boolean",default:!0,description:"Is the column braced?"}}},status:"draft",tags:["column","steel","structural"]}},rcc_slab:{name:"RCC Slab Design",description:"One-way or two-way slab per IS 456",data:{deliverable_type:"rcc_slab_design",display_name:"RCC Slab Design (IS 456)",discipline:"structural",workflow_steps:[{step_number:1,step_name:"analyze_slab",description:"Analyze slab for bending moments",persona:"Designer",function_to_call:"structural_slab_designer_v1.analyze_slab",input_mapping:{span_lx:"$input.span_lx",span_ly:"$input.span_ly",slab_thickness:"$input.slab_thickness",dead_load:"$input.dead_load",live_load:"$input.live_load",edge_condition:"$input.edge_condition",concrete_grade:"$input.concrete_grade",steel_grade:"$input.steel_grade",cover:"$input.cover",exposure_condition:"$input.exposure_condition"},output_variable:"slab_analysis",timeout_seconds:300},{step_number:2,step_name:"design_reinforcement",description:"Design slab reinforcement with deflection check",persona:"Engineer",function_to_call:"structural_slab_designer_v1.design_slab_reinforcement",input_mapping:{analysis_result:"$step1"},output_variable:"slab_design",timeout_seconds:300}],input_schema:{type:"object",required:["span_lx","span_ly","dead_load","live_load"],properties:{span_lx:{type:"number",minimum:1,maximum:10,description:"Short span in meters"},span_ly:{type:"number",minimum:1,maximum:15,description:"Long span in meters"},slab_thickness:{type:"number",minimum:.1,maximum:.3,default:.15,description:"Slab thickness in meters"},dead_load:{type:"number",minimum:0,description:"Additional dead load in kN/m"},live_load:{type:"number",minimum:0,description:"Live load in kN/m"},edge_condition:{type:"string",enum:["all_edges_discontinuous","one_edge_continuous","two_edges_continuous","three_edges_continuous","all_edges_continuous","one_short_continuous","one_long_continuous","two_short_continuous","two_long_continuous"],default:"all_edges_discontinuous"},concrete_grade:{type:"string",enum:["M20","M25","M30","M35"],default:"M25"},steel_grade:{type:"string",enum:["Fe415","Fe500"],default:"Fe500"},cover:{type:"number",minimum:15,maximum:50,default:20,description:"Clear cover in mm"},exposure_condition:{type:"string",enum:["mild","moderate","severe","very_severe","extreme"],default:"moderate"}}},status:"draft",tags:["slab","rcc","structural"]}},base_plate:{name:"Base Plate & Anchor Bolts",description:"Column base plate design per IS 800",data:{deliverable_type:"base_plate_design",display_name:"Base Plate & Anchor Bolt Design",discipline:"structural",workflow_steps:[{step_number:1,step_name:"analyze_base_plate",description:"Analyze base plate requirements",persona:"Designer",function_to_call:"structural_base_plate_designer_v1.analyze_base_plate",input_mapping:{axial_load:"$input.axial_load",moment_major:"$input.moment_major",moment_minor:"$input.moment_minor",shear_force:"$input.shear_force",column_section:"$input.column_section",column_size:"$input.column_size",concrete_grade:"$input.concrete_grade",steel_grade:"$input.steel_grade",connection_type:"$input.connection_type"},output_variable:"plate_analysis",timeout_seconds:300},{step_number:2,step_name:"design_anchor_bolts",description:"Design anchor bolts and connection details",persona:"Engineer",function_to_call:"structural_base_plate_designer_v1.design_anchor_bolts",input_mapping:{analysis_result:"$step1"},output_variable:"anchor_design",timeout_seconds:300}],input_schema:{type:"object",required:["axial_load","column_section","column_size"],properties:{axial_load:{type:"number",minimum:10,maximum:1e4,description:"Axial load in kN"},moment_major:{type:"number",minimum:0,default:0,description:"Moment about major axis in kNm"},moment_minor:{type:"number",minimum:0,default:0,description:"Moment about minor axis in kNm"},shear_force:{type:"number",minimum:0,default:0,description:"Shear force in kN"},column_section:{type:"string",enum:["ISHB","ISMB","UC"],default:"ISHB"},column_size:{type:"string",enum:["150","200","225","250","300","350","400"],default:"200"},concrete_grade:{type:"string",enum:["M20","M25","M30","M35"],default:"M25"},steel_grade:{type:"string",enum:["E250","E300","E350"],default:"E250"},connection_type:{type:"string",enum:["pinned","fixed"],default:"pinned"}}},status:"draft",tags:["base-plate","anchor-bolts","steel","structural"]}},room_data_sheet:{name:"Room Data Sheet (RDS)",description:"Complete room specifications per NBC 2016",data:{deliverable_type:"room_data_sheet",display_name:"Architectural Room Data Sheet",discipline:"architectural",workflow_steps:[{step_number:1,step_name:"analyze_requirements",description:"Analyze room type requirements",persona:"Designer",function_to_call:"architectural_rds_generator_v1.analyze_room_requirements",input_mapping:{room_type:"$input.room_type",room_name:"$input.room_name",room_number:"$input.room_number",floor_level:"$input.floor_level",length:"$input.length",width:"$input.width",height:"$input.height",occupancy:"$input.occupancy",building_type:"$input.building_type"},output_variable:"room_analysis",timeout_seconds:300},{step_number:2,step_name:"generate_rds",description:"Generate complete room data sheet",persona:"Architect",function_to_call:"architectural_rds_generator_v1.generate_room_data_sheet",input_mapping:{analysis_result:"$step1"},output_variable:"room_data_sheet",timeout_seconds:300}],input_schema:{type:"object",required:["room_type","room_name","length","width","height"],properties:{room_type:{type:"string",enum:["office","conference","laboratory","server_room","washroom","corridor","staircase","lobby","cafeteria"],default:"office"},room_name:{type:"string",description:'Room name (e.g., "Executive Office")'},room_number:{type:"string",default:"TBD",description:"Room number"},floor_level:{type:"string",default:"Ground Floor",description:"Floor level"},length:{type:"number",minimum:2,maximum:50,description:"Room length in meters"},width:{type:"number",minimum:2,maximum:50,description:"Room width in meters"},height:{type:"number",minimum:2.4,maximum:10,default:3,description:"Floor to ceiling height in meters"},occupancy:{type:"integer",minimum:1,maximum:500,default:10,description:"Expected occupancy"},building_type:{type:"string",enum:["commercial","residential","industrial","healthcare","educational","hospitality"],default:"commercial"}}},status:"draft",tags:["room-data-sheet","rds","architectural"]}}},ru=[{id:"civil_foundation_designer_v1.design_isolated_footing",label:"Design Isolated Footing",category:"Civil - Isolated Foundation",description:"Design isolated footing per IS 456:2000",params:["axial_load_dead","axial_load_live","column_width","column_depth","safe_bearing_capacity","concrete_grade","steel_grade"]},{id:"civil_foundation_designer_v1.optimize_schedule",label:"Optimize Schedule",category:"Civil - Isolated Foundation",description:"Optimize foundation design for cost/schedule",params:["footing_length_initial","footing_width_initial","footing_depth","steel_bars_long","steel_bars_trans","bar_diameter","concrete_volume"]},{id:"civil_combined_footing_designer_v1.analyze_combined_footing",label:"Analyze Combined Footing",category:"Civil - Combined Footing",description:"Analyze combined footing for 2-4 columns per IS 456:2000",params:["columns","safe_bearing_capacity","concrete_grade","steel_grade","cover","soil_density"]},{id:"civil_combined_footing_designer_v1.design_combined_footing_reinforcement",label:"Design Combined Footing Reinforcement",category:"Civil - Combined Footing",description:"Design reinforcement including punching shear check",params:["analysis_result"]},{id:"civil_retaining_wall_designer_v1.analyze_retaining_wall",label:"Analyze Retaining Wall",category:"Civil - Retaining Wall",description:"Analyze cantilever retaining wall stability per IS 14458",params:["wall_height","surcharge_load","soil_unit_weight","angle_of_internal_friction","safe_bearing_capacity","backfill_slope","concrete_grade","steel_grade","cover","coefficient_of_friction"]},{id:"civil_retaining_wall_designer_v1.design_retaining_wall_reinforcement",label:"Design Retaining Wall Reinforcement",category:"Civil - Retaining Wall",description:"Design stem and base reinforcement per IS 456:2000",params:["analysis_result"]},{id:"structural_beam_designer_v1.analyze_beam",label:"Analyze RCC Beam",category:"Structural - RCC Beam",description:"Analyze beam for bending moments and shear forces per IS 456:2000",params:["span_length","beam_width","beam_depth","dead_load","live_load","support_type","load_type","concrete_grade","steel_grade","cover","exposure_condition"]},{id:"structural_beam_designer_v1.design_beam_reinforcement",label:"Design RCC Beam Reinforcement",category:"Structural - RCC Beam",description:"Design flexural and shear reinforcement with deflection check",params:["analysis_result"]},{id:"structural_steel_column_designer_v1.check_column_capacity",label:"Check Steel Column Capacity",category:"Structural - Steel Column",description:"Check column capacity with buckling analysis per IS 800:2007",params:["axial_load","column_height","effective_length_factor_major","effective_length_factor_minor","section_type","section_size","steel_grade","is_braced"]},{id:"structural_steel_column_designer_v1.design_column_connection",label:"Design Steel Column Connection",category:"Structural - Steel Column",description:"Design base plate and anchor bolt connections",params:["capacity_result"]},{id:"structural_slab_designer_v1.analyze_slab",label:"Analyze RCC Slab",category:"Structural - RCC Slab",description:"Analyze one-way or two-way slab per IS 456:2000",params:["span_lx","span_ly","slab_thickness","dead_load","live_load","edge_condition","concrete_grade","steel_grade","cover","exposure_condition"]},{id:"structural_slab_designer_v1.design_slab_reinforcement",label:"Design RCC Slab Reinforcement",category:"Structural - RCC Slab",description:"Design slab reinforcement with deflection check",params:["analysis_result"]},{id:"structural_base_plate_designer_v1.analyze_base_plate",label:"Analyze Base Plate",category:"Structural - Base Plate",description:"Analyze steel column base plate requirements per IS 800:2007",params:["axial_load","moment_major","moment_minor","shear_force","column_section","column_size","concrete_grade","steel_grade","connection_type"]},{id:"structural_base_plate_designer_v1.design_anchor_bolts",label:"Design Anchor Bolts",category:"Structural - Base Plate",description:"Design anchor bolts and connection details",params:["analysis_result"]},{id:"architectural_rds_generator_v1.analyze_room_requirements",label:"Analyze Room Requirements",category:"Architectural - Room Data Sheet",description:"Analyze room requirements based on type per NBC 2016",params:["room_type","room_name","room_number","floor_level","length","width","height","occupancy","building_type"]},{id:"architectural_rds_generator_v1.generate_room_data_sheet",label:"Generate Room Data Sheet",category:"Architectural - Room Data Sheet",description:"Generate complete RDS with finishes, MEP, and FF&E",params:["analysis_result"]}];function wy({isOpen:e,onClose:t,onSuccess:n}){const[s,a]=y.useState(1),[i,l]=y.useState("blank"),[o,c]=y.useState(!0),[d,u]=y.useState({deliverable_type:"",display_name:"",description:"",discipline:"civil",workflow_steps:[],input_schema:{type:"object",required:[],properties:{}},risk_config:{auto_approve_threshold:.3,require_review_threshold:.7,require_hitl_threshold:.9},status:"draft",tags:[]}),[m,f]=y.useState({}),[j,x]=y.useState(!1),[b,N]=y.useState(null),[h,p]=y.useState({}),[g,k]=y.useState({});if(!e)return null;const v=S=>{l(S),c(!1),S!=="blank"&&qi[S].data&&u(qi[S].data)},R=S=>S?/^[a-z_]+$/.test(S)?S.length<3||S.length>50?"Must be 3-50 characters":null:"Use lowercase and underscores only":"Required",L=()=>{const S={step_number:d.workflow_steps.length+1,step_name:"",description:"",persona:"Designer",function_to_call:"",input_mapping:{},output_variable:"",error_handling:{retry_count:0,on_error:"fail"},timeout_seconds:300};u(E=>({...E,workflow_steps:[...E.workflow_steps,S]}))},A=S=>{u(E=>({...E,workflow_steps:E.workflow_steps.filter((F,C)=>C!==S).map((F,C)=>({...F,step_number:C+1}))}))},O=(S,E,F)=>{u(C=>({...C,workflow_steps:C.workflow_steps.map(($,P)=>P===S?{...$,[E]:F}:$)}))},w=(S,E,F)=>{u(C=>({...C,workflow_steps:C.workflow_steps.map(($,P)=>P===S?{...$,input_mapping:{...$.input_mapping,[E]:F}}:$)}))},W=(S,E)=>{u(F=>({...F,workflow_steps:F.workflow_steps.map((C,$)=>{if($===S){const{[E]:P,..._}=C.input_mapping;return{...C,input_mapping:_}}return C})}))},V=(S,E)=>{const F=[];(E.startsWith("$input")||E==="$"||E==="")&&F.push({value:"$input.",label:"$input.",description:"User input fields",type:"prefix"});for(let C=0;C<S;C++){const $=d.workflow_steps[C];if($.output_variable){const P=`$step${C+1}`;(E.startsWith(P)||E==="$"||E==="")&&F.push({value:`${P}.`,label:`${P}.${$.output_variable}`,description:`Output from ${$.step_name}`,type:"step"})}}return(E.startsWith("$context")||E==="$"||E==="")&&F.push({value:"$context.user_id",label:"$context.user_id",description:"Current user ID",type:"context"},{value:"$context.execution_id",label:"$context.execution_id",description:"Current execution ID",type:"context"}),F},Y=()=>{const S=new Set,E={};return d.workflow_steps.forEach(F=>{F.input_mapping&&Object.entries(F.input_mapping).forEach(([C,$])=>{if(typeof $=="string"&&$.startsWith("$input.")){const P=$.replace("$input.","");if(S.add(P),!E[P]){E[P]={type:"number",description:`Input parameter: ${P}`};const _=P.toLowerCase();(_.includes("grade")||_.includes("type")||_.includes("shape"))&&(E[P].type="string"),_.includes("load")?(E[P].description=`${P} (in kN)`,E[P].minimum=0):_.includes("width")||_.includes("depth")||_.includes("length")||_.includes("dimension")?(E[P].description=`${P} (in meters)`,E[P].minimum=0):(_.includes("capacity")||_.includes("pressure"))&&(E[P].description=`${P} (in kPa or MPa)`,E[P].minimum=0)}}})}),Object.keys(E).length>0?{type:"object",required:Array.from(S),properties:E}:d.input_schema},K=async()=>{x(!0),N(null);try{if(!d.deliverable_type||!d.display_name)throw new Error("Please fill in both Deliverable Type and Display Name before creating the workflow.");if(d.workflow_steps.length===0)throw new Error('Your workflow needs at least one step. Click "Add Step" to get started.');for(const $ of d.workflow_steps){if(!$.step_name)throw new Error(`Step ${$.step_number} is missing a name. Please provide a unique name for each step.`);if(!$.function_to_call)throw new Error(`Step ${$.step_number} ("${$.step_name}") needs a function selected. Choose from the dropdown.`);if(!$.output_variable)throw new Error(`Step ${$.step_number} ("${$.step_name}") needs an output variable to store its results.`)}const S=i==="blank"?Y():d.input_schema,E={...d,input_schema:S,workflow_steps:d.workflow_steps.map($=>{const P={step_number:$.step_number,step_name:$.step_name||"",description:$.description||"",persona:$.persona||"Designer",function_to_call:$.function_to_call||"",input_mapping:$.input_mapping||{},output_variable:$.output_variable||"",error_handling:$.error_handling||{retry_count:0,on_error:"fail"},timeout_seconds:$.timeout_seconds||300};return $.condition&&(P.condition=$.condition),P})};console.log("Sending workflow data:",JSON.stringify(E,null,2));const F=await fetch(`${_y}/api/v1/workflows/?created_by=frontend_user`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)});if(!F.ok){const $=await F.json().catch(()=>({}));throw console.error("Backend error:",$),new Error($.detail||`HTTP ${F.status}`)}const C=await F.json();console.log("Workflow created successfully:",C),n(C),t()}catch(S){console.error("Error creating workflow:",S),N(S.message)}finally{x(!1)}},ve=()=>r.jsx("div",{className:"space-y-6",children:o?r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Choose a Starting Point"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Select a template or start from scratch"})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-3",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(He,{className:"text-blue-600 flex-shrink-0 mt-0.5",size:16}),r.jsxs("div",{className:"text-sm text-blue-800",children:[r.jsx("p",{className:"font-medium",children:"Quick Tip"}),r.jsx("p",{className:"text-xs mt-1",children:'Templates include pre-configured steps and parameters. Use them to get started quickly, or choose "Blank" to build from scratch with full control.'})]})]})}),r.jsx("div",{className:"grid grid-cols-1 gap-3",children:Object.entries(qi).map(([S,E])=>r.jsxs("button",{onClick:()=>v(S),className:"p-4 text-left border-2 rounded-lg transition-all border-gray-200 hover:border-blue-300 bg-white hover:bg-blue-50",children:[r.jsx("div",{className:"font-semibold text-gray-900",children:E.name}),r.jsx("div",{className:"text-sm text-gray-600 mt-1",children:E.description})]},S))})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Workflow Details"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Configure basic information"})]}),r.jsx("button",{onClick:()=>{c(!0),l("blank")},className:"text-sm text-blue-600 hover:text-blue-800",children:" Change Template"})]}),te(),r.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[r.jsx("button",{onClick:()=>{c(!0)},className:"btn-secondary",children:"Back"}),r.jsxs("button",{onClick:()=>{if(R(d.deliverable_type)||!d.display_name){N("Please fill in required fields correctly before continuing.");return}N(null),a(i!=="blank"?3:2)},className:"btn-primary flex-1",children:["Continue ",r.jsx(Ba,{className:"inline ml-2"})]})]})]})}),te=()=>r.jsxs("div",{className:"space-y-4",children:[b&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded p-3 flex items-start gap-2",children:[r.jsx(He,{className:"text-red-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-semibold text-red-800",children:"Validation Error"}),r.jsx("p",{className:"text-xs text-red-700 mt-1",children:b})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Deliverable Type ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:d.deliverable_type,onChange:S=>{const E=S.target.value.toLowerCase().replace(/[^a-z_]/g,"");u(C=>({...C,deliverable_type:E}));const F=R(E);f(C=>({...C,deliverable_type:F}))},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"foundation_design"}),m.deliverable_type&&r.jsx("p",{className:"text-xs text-red-500 mt-1",children:m.deliverable_type}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Unique identifier (lowercase letters and underscores only, 3-50 characters)"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Display Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:d.display_name,onChange:S=>u(E=>({...E,display_name:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Foundation Design (IS 456)"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Human-readable name shown in the UI"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{value:d.description,onChange:S=>u(E=>({...E,description:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"2",placeholder:"Brief description of what this workflow does..."})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discipline"}),r.jsxs("select",{value:d.discipline,onChange:S=>u(E=>({...E,discipline:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"civil",children:"Civil"}),r.jsx("option",{value:"structural",children:"Structural"}),r.jsx("option",{value:"architectural",children:"Architectural"}),r.jsx("option",{value:"mep",children:"MEP"}),r.jsx("option",{value:"general",children:"General"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),r.jsxs("select",{value:d.status,onChange:S=>u(E=>({...E,status:S.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"draft",children:"Draft (for testing)"}),r.jsx("option",{value:"testing",children:"Testing"}),r.jsx("option",{value:"active",children:"Active (production)"})]})]})]})]}),ne=()=>r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Workflow Steps"}),r.jsxs("button",{onClick:L,className:"btn-sm btn-primary",children:[r.jsx(gt,{className:"inline mr-1"})," Add Step"]})]}),r.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(at,{className:"text-green-600 flex-shrink-0 mt-0.5",size:16}),r.jsxs("div",{className:"text-sm text-green-800",children:[r.jsx("p",{className:"font-medium",children:"Building Workflows"}),r.jsxs("ul",{className:"text-xs mt-1 space-y-1 list-disc list-inside",children:[r.jsx("li",{children:"Steps execute sequentially in order"}),r.jsx("li",{children:"Each step calls an engine function and stores the result"}),r.jsxs("li",{children:["Use ",r.jsx("code",{className:"bg-green-100 px-1 rounded",children:"$input.param_name"})," for user inputs (auto-detected)"]}),r.jsx("li",{children:"Later steps can use results from earlier steps via $step{N}"}),r.jsx("li",{children:"Use autocomplete (type $) in parameter values for smart suggestions"})]})]})]})}),d.workflow_steps.length===0?r.jsx("div",{className:"text-center py-8 text-gray-500",children:r.jsx("p",{children:'No steps added yet. Click "Add Step" to begin.'})}):r.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:d.workflow_steps.map((S,E)=>r.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 bg-gray-50",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("span",{className:"font-semibold text-gray-900",children:["Step ",S.step_number]}),r.jsx("button",{onClick:()=>A(E),className:"text-red-600 hover:text-red-800",children:r.jsx(ys,{})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Step Name *"}),r.jsx("input",{type:"text",value:S.step_name,onChange:F=>O(E,"step_name",F.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"design_footing"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Output Variable *"}),r.jsx("input",{type:"text",value:S.output_variable,onChange:F=>O(E,"output_variable",F.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"design_result"})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("input",{type:"text",value:S.description,onChange:F=>O(E,"description",F.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Design isolated footing per IS 456"})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Function to Call *"}),r.jsxs("select",{value:S.function_to_call,onChange:F=>O(E,"function_to_call",F.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"-- Select Function --"}),ru.map(F=>r.jsxs("option",{value:F.id,children:[F.label," (",F.category,")"]},F.id))]}),S.function_to_call&&(()=>{const F=ru.find(C=>C.id===S.function_to_call);if(F&&F.params.length>0)return r.jsxs("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("p",{className:"text-xs font-medium text-blue-900",children:["Expected Parameters (",F.params.length,")"]}),r.jsx("button",{type:"button",onClick:()=>{const C={...S.input_mapping};F.params.forEach($=>{C[$]||(C[$]=E===0?`$input.${$}`:`$step${E}.${$}`)}),O(E,"input_mapping",C)},className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:"+ Add All"})]}),r.jsx("div",{className:"flex flex-wrap gap-1",children:F.params.map(C=>{const $=S.input_mapping.hasOwnProperty(C);return r.jsxs("button",{type:"button",onClick:()=>{if(!$){const P=E===0?`$input.${C}`:`$step${E}.${C}`;w(E,C,P)}},className:`text-xs px-2 py-1 rounded ${$?"bg-green-100 text-green-700 border border-green-300 cursor-default":"bg-white text-blue-700 border border-blue-300 hover:bg-blue-100 cursor-pointer"}`,disabled:$,children:[C," ",$&&""]},C)})}),r.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Click a parameter to add it to input mapping"})]})})()]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Timeout (seconds)"}),r.jsx("input",{type:"number",value:S.timeout_seconds,onChange:F=>O(E,"timeout_seconds",parseInt(F.target.value)),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",min:"1",max:"3600"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Persona"}),r.jsxs("select",{value:S.persona,onChange:F=>O(E,"persona",F.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[r.jsx("option",{value:"Designer",children:"Designer"}),r.jsx("option",{value:"Engineer",children:"Engineer"}),r.jsx("option",{value:"Checker",children:"Checker"}),r.jsx("option",{value:"Coordinator",children:"Coordinator"})]})]})]}),r.jsxs("div",{className:"mt-3",children:[r.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:["Input Mapping",r.jsx("span",{className:"text-gray-500 font-normal ml-1",children:"(Type $ to see suggestions)"})]}),r.jsxs("div",{className:"space-y-2",children:[Object.entries(S.input_mapping).map(([F,C])=>r.jsxs("div",{className:"flex gap-2 relative",children:[r.jsx("input",{type:"text",value:F,readOnly:!0,className:"flex-1 px-2 py-1 text-xs bg-gray-100 border border-gray-300 rounded"}),r.jsxs("div",{className:"flex-1 relative",children:[r.jsx("input",{type:"text",value:C,onChange:$=>{const P={...S.input_mapping};P[F]=$.target.value,O(E,"input_mapping",P),$.target.value.includes("$")?p({stepIndex:E,key:F}):p({})},onFocus:$=>{$.target.value.includes("$")&&p({stepIndex:E,key:F})},onBlur:()=>{setTimeout(()=>p({}),200)},className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"$input.field or $step1.field"}),h.stepIndex===E&&h.key===F&&r.jsxs("div",{className:"absolute z-10 mt-1 w-full bg-white border border-gray-300 rounded-md shadow-lg max-h-48 overflow-y-auto",children:[V(E,C).map(($,P)=>r.jsxs("button",{type:"button",onMouseDown:_=>{_.preventDefault();const U={...S.input_mapping};U[F]=$.value,O(E,"input_mapping",U),p({})},className:"w-full px-3 py-2 text-left hover:bg-blue-50 border-b border-gray-100 last:border-b-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-xs font-mono text-blue-600",children:$.label}),r.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${$.type==="prefix"?"bg-green-100 text-green-700":$.type==="step"?"bg-blue-100 text-blue-700":"bg-purple-100 text-purple-700"}`,children:$.type})]}),r.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:$.description})]},P)),V(E,C).length===0&&r.jsx("div",{className:"px-3 py-2 text-xs text-gray-500",children:"No suggestions. Valid patterns: $input.field, $step1.field, $context.key"})]})]}),r.jsx("button",{onClick:()=>W(E,F),className:"text-red-600 hover:text-red-800",children:r.jsx(ys,{size:14})})]},F)),r.jsxs("button",{type:"button",onClick:()=>{const F=prompt("Parameter name:");if(F){const C=E===0?`$input.${F}`:`$step${E}.${F}`;w(E,F,C)}},className:"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[r.jsx(gt,{size:12})," Add Custom Parameter"]})]})]})]},E))}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>a(1),className:"btn-secondary",children:"Back"}),r.jsxs("button",{onClick:()=>a(3),disabled:d.workflow_steps.length===0,className:"btn-primary flex-1",children:["Continue ",r.jsx(Ba,{className:"inline ml-2"})]})]})]}),M=()=>{const S=i==="blank"?Y():d.input_schema;return r.jsxs("div",{className:"space-y-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Review & Create"}),r.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-3",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(He,{className:"text-purple-600 flex-shrink-0 mt-0.5",size:16}),r.jsxs("div",{className:"text-sm text-purple-800",children:[r.jsx("p",{className:"font-medium",children:"Before You Create"}),r.jsx("p",{className:"text-xs mt-1",children:'Review the JSON below to ensure all steps are correctly configured. Once created, you can test with "draft" status, then promote to "active" when ready.'})]})]})}),b&&r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded p-3 flex items-start gap-2",children:[r.jsx(He,{className:"text-red-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-semibold text-red-800",children:"Creation Failed"}),r.jsx("p",{className:"text-xs text-red-700 mt-1",children:b})]})]}),r.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[r.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Workflow Summary"}),r.jsxs("dl",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex",children:[r.jsx("dt",{className:"font-medium text-gray-700 w-1/3",children:"Type:"}),r.jsx("dd",{className:"text-gray-900",children:d.deliverable_type})]}),r.jsxs("div",{className:"flex",children:[r.jsx("dt",{className:"font-medium text-gray-700 w-1/3",children:"Name:"}),r.jsx("dd",{className:"text-gray-900",children:d.display_name})]}),r.jsxs("div",{className:"flex",children:[r.jsx("dt",{className:"font-medium text-gray-700 w-1/3",children:"Discipline:"}),r.jsx("dd",{className:"text-gray-900 capitalize",children:d.discipline})]}),r.jsxs("div",{className:"flex",children:[r.jsx("dt",{className:"font-medium text-gray-700 w-1/3",children:"Steps:"}),r.jsx("dd",{className:"text-gray-900",children:d.workflow_steps.length})]}),r.jsxs("div",{className:"flex",children:[r.jsx("dt",{className:"font-medium text-gray-700 w-1/3",children:"Status:"}),r.jsx("dd",{className:"text-gray-900 capitalize",children:d.status})]}),r.jsxs("div",{className:"flex",children:[r.jsx("dt",{className:"font-medium text-gray-700 w-1/3",children:"Input Parameters:"}),r.jsxs("dd",{className:"text-gray-900",children:[Object.keys(S.properties||{}).length||"None",Object.keys(S.properties||{}).length>0&&r.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",Object.keys(S.properties).join(", "),")"]})]})]})]})]}),i==="blank"&&Object.keys(S.properties||{}).length>0&&r.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[r.jsxs("h4",{className:"font-semibold text-green-900 mb-2 flex items-center gap-2",children:[r.jsx(at,{})," Auto-Generated Input Schema"]}),r.jsx("p",{className:"text-xs text-green-700 mb-2",children:"Based on your step configurations, we automatically detected these required input parameters:"}),r.jsx("div",{className:"bg-white rounded p-2 text-xs",children:r.jsx("pre",{className:"overflow-x-auto",children:JSON.stringify(S,null,2)})}),r.jsx("p",{className:"text-xs text-green-600 mt-2",children:"Users will be prompted to provide these values when executing the workflow."})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[r.jsxs("h4",{className:"font-semibold text-blue-900 mb-2 flex items-center gap-2",children:[r.jsx(ly,{})," JSON Preview"]}),r.jsx("pre",{className:"text-xs bg-white p-3 rounded overflow-x-auto max-h-48",children:JSON.stringify(d,null,2)}),r.jsxs("button",{onClick:()=>{navigator.clipboard.writeText(JSON.stringify(d,null,2)),alert("Copied to clipboard!")},className:"mt-2 text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[r.jsx(Zp,{})," Copy JSON"]})]}),r.jsxs("div",{className:"flex gap-2",children:[i==="blank"?r.jsx("button",{onClick:()=>a(2),className:"btn-secondary",children:"Back"}):r.jsx("button",{onClick:()=>a(1),className:"btn-secondary",children:"Change Template"}),r.jsx("button",{onClick:K,disabled:j,className:"btn-primary flex-1 flex items-center justify-center gap-2",children:j?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating..."]}):r.jsxs(r.Fragment,{children:[r.jsx(at,{})," Create Workflow"]})})]})]})};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create New Workflow"}),r.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Step ",s," of 3: ",s===1?"Template & Basic Info":s===2?"Configure Steps":"Review & Create"]})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",disabled:j,children:r.jsx(ot,{size:24})})]}),r.jsx("div",{className:"h-1 bg-gray-200",children:r.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300",style:{width:`${s/3*100}%`}})}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[s===1&&ve(),s===2&&ne(),s===3&&M()]})]})})}const Vi="http://localhost:8000";function Qi(){const e=li(),[t,n]=y.useState([]),[s,a]=y.useState(!0),[i,l]=y.useState(null),[o,c]=y.useState(!1);y.useEffect(()=>{d()},[]);const d=async()=>{a(!0),l(null);try{const m=await fetch(`${Vi}/api/v1/workflows/`);if(!m.ok){let j="";try{const x=await m.json();x.detail&&(typeof x.detail=="object"?j=x.detail.message||x.detail.error:j=x.detail)}catch{j=`HTTP ${m.status}`}throw new Error(j||`HTTP error! status: ${m.status}`)}const f=await m.json();n(f)}catch(m){console.error("Error fetching workflows:",m),m.message.includes("Failed to fetch")||m.message.includes("NetworkError")?l("Backend server is not running. Please start the backend server on port 8000."):m.message.includes("database")||m.message.includes("DATABASE_URL")?l("Database connection failed. Please configure your Supabase credentials in backend/.env and run the database initialization script (init_phase2_sprint2.sql)."):l(m.message||"Failed to load workflows."),n([{deliverable_type:"foundation_design",display_name:"Foundation Design (IS 456) [DEMO]",discipline:"civil",status:"active",version:1,steps_count:2,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}])}finally{a(!1)}},u=async m=>{if(confirm(`Are you sure you want to delete workflow "${m}"?`))try{const f=await fetch(`${Vi}/api/v1/workflows/${m}`,{method:"DELETE"});if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);d()}catch(f){console.error("Error deleting workflow:",f),alert("Failed to delete workflow")}};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Workflow Manager"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Create and manage workflows without code"})]}),r.jsxs("button",{className:"btn-primary",onClick:()=>c(!0),children:[r.jsx(gt,{className:"inline mr-2"}),"Create Workflow"]})]}),t.length===0&&!s&&!i&&r.jsx("div",{className:"card bg-gradient-to-r from-blue-50 to-indigo-50 border-blue-200",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center",children:r.jsx(xn,{className:"w-6 h-6 text-white"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Welcome to Workflow Manager!"}),r.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Workflows automate engineering calculations through configurable multi-step processes."}),r.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-3 gap-3",children:[r.jsxs("div",{className:"bg-white rounded p-3 border border-blue-200",children:[r.jsx("div",{className:"font-medium text-sm text-blue-900",children:"1. Choose Template"}),r.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Start with a pre-built workflow or create from scratch"})]}),r.jsxs("div",{className:"bg-white rounded p-3 border border-blue-200",children:[r.jsx("div",{className:"font-medium text-sm text-blue-900",children:"2. Configure Steps"}),r.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Add calculation steps with smart parameter mapping"})]}),r.jsxs("div",{className:"bg-white rounded p-3 border border-blue-200",children:[r.jsx("div",{className:"font-medium text-sm text-blue-900",children:"3. Execute"}),r.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Run workflows with real-time progress tracking"})]})]}),r.jsxs("button",{onClick:()=>c(!0),className:"mt-4 btn-primary",children:[r.jsx(gt,{className:"inline mr-2"}),"Create Your First Workflow"]})]})]})}),i&&r.jsxs("div",{className:"card bg-yellow-50 border-yellow-200",children:[r.jsxs("div",{className:"flex items-center gap-2 text-yellow-800",children:[r.jsx(He,{className:"w-5 h-5"}),r.jsx("span",{className:"font-semibold",children:"Setup Required"})]}),r.jsx("p",{className:"mt-2 text-sm text-yellow-700",children:i}),r.jsx("p",{className:"mt-1 text-sm text-yellow-700",children:"Showing sample data for demonstration."}),r.jsxs("div",{className:"mt-4 p-3 bg-white rounded border border-yellow-300",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 mb-2",children:"Quick Setup Steps:"}),r.jsxs("ol",{className:"text-sm text-gray-700 space-y-1 ml-4 list-decimal",children:[r.jsxs("li",{children:["Start the backend server: ",r.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded text-xs",children:"cd backend && python main.py"})]}),r.jsxs("li",{children:["Configure Supabase credentials in ",r.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded text-xs",children:"backend/.env"})]}),r.jsxs("li",{children:["Run database initialization: Execute ",r.jsx("code",{className:"bg-gray-100 px-1 py-0.5 rounded text-xs",children:"init_phase2_sprint2.sql"})," in Supabase SQL Editor"]}),r.jsx("li",{children:"Refresh this page to load workflows from the database"})]})]})]}),r.jsx("div",{className:"card",children:s?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-pulse text-gray-500",children:"Loading workflows..."})}):t.length===0?r.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[r.jsx(xn,{className:"w-16 h-16 mb-4"}),r.jsx("p",{children:"No workflows found"}),r.jsxs("button",{onClick:()=>c(!0),className:"mt-4 btn-primary",children:[r.jsx(gt,{className:"inline mr-2"}),"Create Your First Workflow"]})]}):r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Workflow"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Discipline"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Steps"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Version"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((m,f)=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(xn,{className:"mr-3 text-primary-600"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:m.display_name}),r.jsx("div",{className:"text-sm text-gray-500",children:m.deliverable_type})]})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"badge badge-info capitalize",children:m.discipline})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`badge ${m.status==="active"?"badge-success":"badge-warning"} capitalize`,children:m.status})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[m.steps_count," steps"]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["v",m.version]}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[r.jsx("button",{className:"text-primary-600 hover:text-primary-900 mr-3",title:"Edit workflow",children:r.jsx(dy,{className:"inline"})}),r.jsx("button",{onClick:()=>e(`/workflows/${m.deliverable_type}/execute`),className:"text-green-600 hover:text-green-900 mr-3",title:"Execute workflow",children:r.jsx(zt,{className:"inline"})}),r.jsx("button",{onClick:()=>u(m.deliverable_type),className:"text-red-600 hover:text-red-900",title:"Delete workflow",children:r.jsx(ys,{className:"inline"})})]})]},m.deliverable_type||f))})]})})}),r.jsxs("div",{className:"card bg-blue-50",children:[r.jsx("h3",{className:"font-semibold text-blue-900",children:" Configuration over Code"}),r.jsxs("p",{className:"mt-2 text-sm text-blue-800",children:["Workflows are stored in the database as JSONB schemas. Create, update, and version workflows without deploying code. Connected to backend at ",Vi]})]}),r.jsx(wy,{isOpen:o,onClose:()=>c(!1),onSuccess:m=>{console.log("Workflow created:",m),d()}})]})}const Ji="http://localhost:8000",Ny="ws://localhost:8000";function by(){const{deliverableType:e}=M0(),t=li(),[n,s]=y.useState(null),[a,i]=y.useState(null),[l,o]=y.useState(null),[c,d]=y.useState("idle"),[u,m]=y.useState([]),[f,j]=y.useState([]),[x,b]=y.useState(0),[N,h]=y.useState(!0),[p,g]=y.useState(null),[k,v]=y.useState({}),[R,L]=y.useState(!0),[A,O]=y.useState(null),[w,W]=y.useState({}),V=y.useRef(null);y.useEffect(()=>{Y()},[e]);const Y=async()=>{try{h(!0),g(null);const C=await fetch(`${Ji}/api/v1/workflows/${e}`);if(!C.ok)throw C.status===404?new Error(`Workflow "${e}" not found. Please create it first or select a valid workflow.`):new Error("Failed to fetch workflow");const $=await C.json();s($),(!$.input_schema||!$.input_schema.properties)&&g("This workflow does not have an input schema defined. Please configure the workflow first.");const P=$.workflow_steps.map(I=>({...I,status:"pending",output:null,error:null,executionTimeMs:null}));j(P);const _={};$.input_schema&&$.input_schema.properties&&Object.entries($.input_schema.properties).forEach(([I,z])=>{z.default!==void 0&&(_[I]=z.default)}),v(_),console.log("Workflow loaded:",$.deliverable_type),console.log("Input schema:",$.input_schema),console.log("Default values:",_);const U=await fetch(`${Ji}/api/v1/workflows/${e}/graph`);if(!U.ok)throw new Error("Failed to fetch dependency graph");const le=await U.json();i(le)}catch(C){console.error("Error fetching workflow data:",C),g(C.message)}finally{h(!1)}},K=async()=>{var C,$;try{if(g(null),console.log("Executing workflow with input data:",k),(C=n==null?void 0:n.input_schema)!=null&&C.required){const U=n.input_schema.required.filter(le=>!k[le]);if(U.length>0){const le=U.map(I=>I.split("_").map(z=>z.charAt(0).toUpperCase()+z.slice(1)).join(" ")).join(", ");g(`Please fill in the following required fields: ${le}`);return}}if(Object.keys(k).length===0&&(($=n==null?void 0:n.input_schema)!=null&&$.properties)){g("Please fill in the workflow parameters before executing.");return}d("starting");const P=await fetch(`${Ji}/api/v1/workflows/${e}/execute`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input_data:k,user_id:"demo_user"})});if(!P.ok){const le=(await P.json().catch(()=>({}))).detail||`Execution failed with status ${P.status}`;throw new Error(le)}const _=await P.json();o(_.execution_id),d("running"),L(!1),ve(_.execution_id)}catch(P){console.error("Error executing workflow:",P),g(P.message),d("idle")}},ve=C=>{V.current&&V.current.close();const $=new WebSocket(`${Ny}/api/v1/workflows/stream/${C}`);$.onopen=()=>{console.log("WebSocket connected");const P=setInterval(()=>{$.readyState===WebSocket.OPEN&&$.send("ping")},3e4);$.pingInterval=P},$.onmessage=P=>{try{const _=JSON.parse(P.data);if(_.type==="pong")return;m(U=>[...U,_]),te(_)}catch(_){console.error("Error parsing WebSocket message:",_)}},$.onerror=P=>{console.error("WebSocket error:",P),g("WebSocket connection error")},$.onclose=()=>{console.log("WebSocket disconnected"),$.pingInterval&&clearInterval($.pingInterval)},V.current=$},te=C=>{const{event:$,data:P}=C;switch($){case"execution_started":d("running");break;case"step_started":j(_=>_.map(U=>U.step_number===P.step_number?{...U,status:"running"}:U));break;case"step_completed":if(j(_=>_.map(U=>U.step_number===P.step_number?{...U,status:"completed",output:P.output,executionTimeMs:P.execution_time_ms}:U)),P.execution_time_ms&&P.step_number<f.length){const _=P.execution_time_ms,U=f.length-P.step_number;O(Math.round(_*U/1e3))}break;case"step_failed":j(_=>_.map(U=>U.step_number===P.step_number?{...U,status:"failed",error:P.error_message}:U));break;case"progress_update":b(P.progress_percent);break;case"execution_completed":d("completed"),b(100),O(null);break;case"execution_failed":d("failed"),g(P.error_message);break;default:console.log("Unknown event type:",$)}};y.useEffect(()=>()=>{V.current&&V.current.close()},[]);const ne=()=>{var $;if(!(($=n==null?void 0:n.input_schema)!=null&&$.properties))return{};const C={loads:[],dimensions:[],materials:[],other:[]};return Object.entries(n.input_schema.properties).forEach(([P,_])=>{const U={key:P,schema:_};P.includes("load")||P.includes("force")||P.includes("moment")?C.loads.push(U):P.includes("width")||P.includes("depth")||P.includes("length")||P.includes("height")||P.includes("dimension")?C.dimensions.push(U):P.includes("grade")||P.includes("material")||P.includes("concrete")||P.includes("steel")?C.materials.push(U):C.other.push(U)}),Object.fromEntries(Object.entries(C).filter(([P,_])=>_.length>0))},M=C=>{W($=>({...$,[C]:!$[C]}))},S=C=>{switch(C){case"completed":return"badge-success";case"running":return"badge-info";case"failed":return"badge-danger";case"pending":return"badge-secondary";default:return"badge-secondary"}},E=(C,$)=>{var le,I;const P=(I=(le=n==null?void 0:n.input_schema)==null?void 0:le.required)==null?void 0:I.includes(C),_=k[C]??$.default??"",U=z=>{const oe=$.type==="number"&&!$.enum?parseFloat(z.target.value):z.target.value;v(Oe=>({...Oe,[C]:oe}))};return $.enum?r.jsx("select",{value:_,onChange:U,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:P,children:$.enum.map(z=>r.jsx("option",{value:z,children:z},z))}):$.type==="number"?r.jsx("input",{type:"number",value:_,onChange:U,min:$.minimum,max:$.maximum,step:"any",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:P,placeholder:$.description}):r.jsx("input",{type:"text",value:_,onChange:U,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:P,placeholder:$.description})},F=C=>{switch(C){case"completed":return r.jsx(at,{className:"text-green-500"});case"running":return r.jsx(yt,{className:"text-blue-500 animate-spin"});case"failed":return r.jsx(ot,{className:"text-red-500"});case"pending":return r.jsx(hn,{className:"text-gray-400"});default:return r.jsx(hn,{className:"text-gray-400"})}};return N?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Loading workflow..."})]})}):p&&!n?r.jsx("div",{className:"card",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(He,{className:"text-red-500 flex-shrink-0 mt-1",size:20}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-red-700",children:"Error Loading Workflow"}),r.jsx("p",{className:"text-gray-600 mt-1",children:p}),r.jsx("button",{onClick:()=>t("/workflows"),className:"btn-secondary mt-3",children:"Back to Workflows"})]})]})}):r.jsxs("div",{className:"space-y-6",children:[r.jsx("div",{className:"card",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n==null?void 0:n.display_name}),r.jsx("p",{className:"text-gray-600 mt-1",children:(n==null?void 0:n.description)||`Execute ${e} workflow`})]}),r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:`badge ${S(c)}`,children:c.toUpperCase()}),c==="idle"&&r.jsxs("button",{onClick:K,className:"btn-primary flex items-center gap-2",children:[r.jsx(zt,{})," Execute Workflow"]})]})]})}),p&&c==="idle"&&r.jsx("div",{className:"card bg-red-50 border-red-200",children:r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(He,{className:"text-red-500 flex-shrink-0 mt-1",size:20}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold text-red-700",children:"Validation Error"}),r.jsx("p",{className:"text-red-600 mt-1",children:p})]})]})}),c==="idle"&&(n==null?void 0:n.input_schema)&&R&&r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Workflow Input Parameters"}),r.jsx("button",{onClick:()=>L(!R),className:"text-sm text-gray-600 hover:text-gray-900",children:R?"Hide":"Show"})]}),r.jsx("form",{className:"space-y-6",children:(()=>{const C=ne(),$={loads:"Loads & Forces",dimensions:"Dimensions",materials:"Materials & Grades",other:"Other Parameters"};return Object.entries(C).map(([P,_])=>r.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[r.jsxs("button",{type:"button",onClick:()=>M(P),className:"w-full flex items-center justify-between p-3 bg-gray-50 hover:bg-gray-100 transition-colors",children:[r.jsx("h3",{className:"font-medium text-gray-900",children:$[P]}),r.jsx("span",{className:"text-gray-500",children:w[P]?"":""})]}),!w[P]&&r.jsx("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:_.map(({key:U,schema:le})=>{var I;return r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[U.split("_").map(z=>z.charAt(0).toUpperCase()+z.slice(1)).join(" "),((I=n.input_schema.required)==null?void 0:I.includes(U))&&r.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),E(U,le),le.description&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:le.description})]},U)})})]},P))})()}),r.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-md flex items-start gap-2",children:[r.jsx(He,{className:"text-blue-600 mt-0.5 flex-shrink-0",size:16}),r.jsxs("p",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Tip:"})," All fields marked with ",r.jsx("span",{className:"text-red-500",children:"*"})," are required. Fields with default values will be pre-filled automatically."]})]})]}),a&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("div",{className:"card",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Steps"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.total_steps})]}),r.jsx(Tt,{className:"text-blue-500",size:32})]})}),r.jsx("div",{className:"card",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Max Parallel"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.max_width})]}),r.jsx(Hi,{className:"text-yellow-500",size:32})]})}),r.jsx("div",{className:"card",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Critical Path"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.critical_path_length})]}),r.jsx(Ba,{className:"text-purple-500",size:32})]})}),r.jsx("div",{className:"card",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Est. Speedup"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[a.estimated_speedup.toFixed(2),"x"]})]}),r.jsx(Hi,{className:"text-green-500",size:32})]})})]}),c==="running"&&r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Execution Progress"}),A!==null&&r.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1",children:[r.jsx(hn,{size:14}),"~",A,"s remaining"]})]}),r.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[Math.round(x),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:r.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${x}%`}})}),r.jsxs("div",{className:"mt-2 flex items-center justify-between text-xs text-gray-600",children:[r.jsxs("span",{children:[f.filter(C=>C.status==="completed").length," of ",f.length," steps completed"]}),r.jsxs("span",{className:"flex items-center gap-1",children:[r.jsx(Tt,{size:12,className:"animate-pulse"}),"Processing..."]})]})]}),a&&a.execution_order&&r.jsxs("div",{className:"card",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Execution Plan"}),r.jsx("div",{className:"space-y-4",children:a.execution_order.map((C,$)=>r.jsxs("div",{className:"border-l-4 border-blue-500 pl-4",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Group ",$+1]}),C.length>1&&r.jsxs("span",{className:"badge badge-info text-xs",children:[r.jsx(Hi,{size:12,className:"mr-1"}),C.length," steps in parallel"]})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:C.map(P=>{const _=f.find(U=>U.step_number===P);return _&&r.jsx("div",{className:`
                        p-3 rounded-lg border-2 transition-all
                        ${_.status==="running"?"border-blue-500 bg-blue-50":_.status==="completed"?"border-green-500 bg-green-50":_.status==="failed"?"border-red-500 bg-red-50":"border-gray-300 bg-white"}
                      `,children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[F(_.status),r.jsx("span",{className:"font-medium text-sm",children:_.step_name})]}),_.executionTimeMs&&r.jsxs("p",{className:"text-xs text-gray-600 mt-1",children:[_.executionTimeMs,"ms"]}),_.error&&r.jsx("p",{className:"text-xs text-red-600 mt-1",children:_.error})]}),r.jsxs("span",{className:"text-xs text-gray-500",children:["#",P]})]})},P)})})]},$))})]}),u.length>0&&r.jsxs("div",{className:"card",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Execution Timeline"}),r.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:u.map((C,$)=>r.jsxs("div",{className:"flex items-start gap-3 text-sm p-2 hover:bg-gray-50 rounded",children:[r.jsx("span",{className:"text-xs text-gray-500 font-mono whitespace-nowrap",children:new Date(C.timestamp).toLocaleTimeString()}),r.jsx("span",{className:`badge text-xs ${C.event.includes("completed")?"badge-success":C.event.includes("failed")?"badge-danger":C.event.includes("started")?"badge-info":"badge-secondary"}`,children:C.event}),r.jsx("span",{className:"text-gray-700 flex-1",children:C.data.step_name||C.data.message||JSON.stringify(C.data).substring(0,50)})]},$))})]}),a&&a.critical_path&&a.critical_path.length>0&&r.jsxs("div",{className:"card bg-purple-50 border border-purple-200",children:[r.jsx("h3",{className:"font-semibold text-purple-900 mb-2",children:"Critical Path (Execution Bottleneck)"}),r.jsx("div",{className:"flex items-center gap-2 flex-wrap",children:a.critical_path.map((C,$)=>{var P;return r.jsxs(Ct.Fragment,{children:[r.jsxs("span",{className:"badge badge-warning",children:["Step ",C,": ",(P=f.find(_=>_.step_number===C))==null?void 0:P.step_name]}),$<a.critical_path.length-1&&r.jsx(Ba,{className:"text-purple-500"})]},C)})}),r.jsx("p",{className:"text-sm text-purple-700 mt-2",children:"These steps cannot be parallelized and determine the minimum execution time."})]})]})}function su(){const e=[{id:"exec-1",deliverable_type:"foundation_design",status:"completed",risk_score:.25,execution_time_ms:1250,created_at:new Date().toISOString()}],t=s=>{switch(s){case"completed":return r.jsx(Be,{className:"text-green-600"});case"failed":return r.jsx(cc,{className:"text-red-600"});case"running":return r.jsx(hn,{className:"text-blue-600"});default:return r.jsx(Tt,{className:"text-gray-600"})}},n=s=>({completed:"badge-success",failed:"badge-danger",running:"badge-info",awaiting_approval:"badge-warning"})[s]||"badge";return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Execution Dashboard"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Monitor workflow executions and HITL approvals"})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-4",children:[r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Total Executions"}),r.jsx("div",{className:"mt-2 text-3xl font-semibold text-gray-900",children:"1"})]}),r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Completed"}),r.jsx("div",{className:"mt-2 text-3xl font-semibold text-green-600",children:"1"})]}),r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Failed"}),r.jsx("div",{className:"mt-2 text-3xl font-semibold text-red-600",children:"0"})]}),r.jsxs("div",{className:"card",children:[r.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Avg Risk Score"}),r.jsx("div",{className:"mt-2 text-3xl font-semibold text-gray-900",children:"0.25"})]})]}),r.jsx("div",{className:"card",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Execution ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Workflow"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Risk Score"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Execution Time"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(s=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[t(s.status),r.jsx("span",{className:"ml-2 text-sm font-medium text-gray-900",children:s.id})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.deliverable_type}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`badge ${n(s.status)} capitalize`,children:s.status})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2 mr-2",children:r.jsx("div",{className:`h-2 rounded-full ${s.risk_score<.3?"bg-green-600":s.risk_score<.7?"bg-yellow-600":"bg-red-600"}`,style:{width:`${s.risk_score*100}%`}})}),r.jsx("span",{className:"text-sm text-gray-500",children:s.risk_score.toFixed(2)})]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[s.execution_time_ms," ms"]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(s.created_at).toLocaleString()}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:r.jsx("button",{className:"text-primary-600 hover:text-primary-900",children:"View Details"})})]},s.id))})]})})}),r.jsxs("div",{className:"card bg-blue-50",children:[r.jsx("h3",{className:"font-semibold text-blue-900",children:" HITL Approval System"}),r.jsx("p",{className:"mt-2 text-sm text-blue-800",children:"Executions with risk scores above the threshold require human-in-the-loop approval before proceeding."})]})]})}function lf(e,t){return function(){return e.apply(t,arguments)}}const{toString:ky}=Object.prototype,{getPrototypeOf:dc}=Object,{iterator:ui,toStringTag:of}=Symbol,mi=(e=>t=>{const n=ky.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),jt=e=>(e=e.toLowerCase(),t=>mi(t)===e),pi=e=>t=>typeof t===e,{isArray:kr}=Array,yr=pi("undefined");function ks(e){return e!==null&&!yr(e)&&e.constructor!==null&&!yr(e.constructor)&&Je(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const cf=jt("ArrayBuffer");function Sy(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&cf(e.buffer),t}const Cy=pi("string"),Je=pi("function"),df=pi("number"),Ss=e=>e!==null&&typeof e=="object",Ey=e=>e===!0||e===!1,ma=e=>{if(mi(e)!=="object")return!1;const t=dc(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(of in e)&&!(ui in e)},Ry=e=>{if(!Ss(e)||ks(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Ty=jt("Date"),$y=jt("File"),Py=jt("Blob"),Fy=jt("FileList"),Ly=e=>Ss(e)&&Je(e.pipe),Oy=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Je(e.append)&&((t=mi(e))==="formdata"||t==="object"&&Je(e.toString)&&e.toString()==="[object FormData]"))},Dy=jt("URLSearchParams"),[Ay,Iy,My,zy]=["ReadableStream","Request","Response","Headers"].map(jt),By=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Cs(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,a;if(typeof e!="object"&&(e=[e]),kr(e))for(s=0,a=e.length;s<a;s++)t.call(null,e[s],s,e);else{if(ks(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),l=i.length;let o;for(s=0;s<l;s++)o=i[s],t.call(null,e[o],o,e)}}function uf(e,t){if(ks(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,a;for(;s-- >0;)if(a=n[s],t===a.toLowerCase())return a;return null}const $n=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,mf=e=>!yr(e)&&e!==$n;function Zl(){const{caseless:e,skipUndefined:t}=mf(this)&&this||{},n={},s=(a,i)=>{const l=e&&uf(n,i)||i;ma(n[l])&&ma(a)?n[l]=Zl(n[l],a):ma(a)?n[l]=Zl({},a):kr(a)?n[l]=a.slice():(!t||!yr(a))&&(n[l]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Cs(arguments[a],s);return n}const Uy=(e,t,n,{allOwnKeys:s}={})=>(Cs(t,(a,i)=>{n&&Je(a)?e[i]=lf(a,n):e[i]=a},{allOwnKeys:s}),e),Wy=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Hy=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},qy=(e,t,n,s)=>{let a,i,l;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)l=a[i],(!s||s(l,e,t))&&!o[l]&&(t[l]=e[l],o[l]=!0);e=n!==!1&&dc(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Vy=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},Qy=e=>{if(!e)return null;if(kr(e))return e;let t=e.length;if(!df(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Jy=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&dc(Uint8Array)),Ky=(e,t)=>{const s=(e&&e[ui]).call(e);let a;for(;(a=s.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},Gy=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},Yy=jt("HTMLFormElement"),Xy=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,a){return s.toUpperCase()+a}),au=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Zy=jt("RegExp"),pf=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};Cs(n,(a,i)=>{let l;(l=t(a,i,e))!==!1&&(s[i]=l||a)}),Object.defineProperties(e,s)},ev=e=>{pf(e,(t,n)=>{if(Je(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(Je(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},tv=(e,t)=>{const n={},s=a=>{a.forEach(i=>{n[i]=!0})};return kr(e)?s(e):s(String(e).split(t)),n},nv=()=>{},rv=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function sv(e){return!!(e&&Je(e.append)&&e[of]==="FormData"&&e[ui])}const av=e=>{const t=new Array(10),n=(s,a)=>{if(Ss(s)){if(t.indexOf(s)>=0)return;if(ks(s))return s;if(!("toJSON"in s)){t[a]=s;const i=kr(s)?[]:{};return Cs(s,(l,o)=>{const c=n(l,a+1);!yr(c)&&(i[o]=c)}),t[a]=void 0,i}}return s};return n(e,0)},iv=jt("AsyncFunction"),lv=e=>e&&(Ss(e)||Je(e))&&Je(e.then)&&Je(e.catch),ff=((e,t)=>e?setImmediate:t?((n,s)=>($n.addEventListener("message",({source:a,data:i})=>{a===$n&&i===n&&s.length&&s.shift()()},!1),a=>{s.push(a),$n.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Je($n.postMessage)),ov=typeof queueMicrotask<"u"?queueMicrotask.bind($n):typeof process<"u"&&process.nextTick||ff,cv=e=>e!=null&&Je(e[ui]),T={isArray:kr,isArrayBuffer:cf,isBuffer:ks,isFormData:Oy,isArrayBufferView:Sy,isString:Cy,isNumber:df,isBoolean:Ey,isObject:Ss,isPlainObject:ma,isEmptyObject:Ry,isReadableStream:Ay,isRequest:Iy,isResponse:My,isHeaders:zy,isUndefined:yr,isDate:Ty,isFile:$y,isBlob:Py,isRegExp:Zy,isFunction:Je,isStream:Ly,isURLSearchParams:Dy,isTypedArray:Jy,isFileList:Fy,forEach:Cs,merge:Zl,extend:Uy,trim:By,stripBOM:Wy,inherits:Hy,toFlatObject:qy,kindOf:mi,kindOfTest:jt,endsWith:Vy,toArray:Qy,forEachEntry:Ky,matchAll:Gy,isHTMLForm:Yy,hasOwnProperty:au,hasOwnProp:au,reduceDescriptors:pf,freezeMethods:ev,toObjectSet:tv,toCamelCase:Xy,noop:nv,toFiniteNumber:rv,findKey:uf,global:$n,isContextDefined:mf,isSpecCompliantForm:sv,toJSONObject:av,isAsyncFn:iv,isThenable:lv,setImmediate:ff,asap:ov,isIterable:cv};function J(e,t,n,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}T.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});const hf=J.prototype,xf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{xf[e]={value:e}});Object.defineProperties(J,xf);Object.defineProperty(hf,"isAxiosError",{value:!0});J.from=(e,t,n,s,a,i)=>{const l=Object.create(hf);T.toFlatObject(e,l,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return J.call(l,o,c,n,s,a),e&&l.cause==null&&Object.defineProperty(l,"cause",{value:e,configurable:!0}),l.name=e&&e.name||"Error",i&&Object.assign(l,i),l};const dv=null;function eo(e){return T.isPlainObject(e)||T.isArray(e)}function gf(e){return T.endsWith(e,"[]")?e.slice(0,-2):e}function iu(e,t,n){return e?e.concat(t).map(function(a,i){return a=gf(a),!n&&i?"["+a+"]":a}).join(n?".":""):t}function uv(e){return T.isArray(e)&&!e.some(eo)}const mv=T.toFlatObject(T,{},null,function(t){return/^is[A-Z]/.test(t)});function fi(e,t,n){if(!T.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=T.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,N){return!T.isUndefined(N[b])});const s=n.metaTokens,a=n.visitor||u,i=n.dots,l=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(t);if(!T.isFunction(a))throw new TypeError("visitor must be a function");function d(x){if(x===null)return"";if(T.isDate(x))return x.toISOString();if(T.isBoolean(x))return x.toString();if(!c&&T.isBlob(x))throw new J("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(x)||T.isTypedArray(x)?c&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function u(x,b,N){let h=x;if(x&&!N&&typeof x=="object"){if(T.endsWith(b,"{}"))b=s?b:b.slice(0,-2),x=JSON.stringify(x);else if(T.isArray(x)&&uv(x)||(T.isFileList(x)||T.endsWith(b,"[]"))&&(h=T.toArray(x)))return b=gf(b),h.forEach(function(g,k){!(T.isUndefined(g)||g===null)&&t.append(l===!0?iu([b],k,i):l===null?b:b+"[]",d(g))}),!1}return eo(x)?!0:(t.append(iu(N,b,i),d(x)),!1)}const m=[],f=Object.assign(mv,{defaultVisitor:u,convertValue:d,isVisitable:eo});function j(x,b){if(!T.isUndefined(x)){if(m.indexOf(x)!==-1)throw Error("Circular reference detected in "+b.join("."));m.push(x),T.forEach(x,function(h,p){(!(T.isUndefined(h)||h===null)&&a.call(t,h,T.isString(p)?p.trim():p,b,f))===!0&&j(h,b?b.concat(p):[p])}),m.pop()}}if(!T.isObject(e))throw new TypeError("data must be an object");return j(e),t}function lu(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function uc(e,t){this._pairs=[],e&&fi(e,this,t)}const yf=uc.prototype;yf.append=function(t,n){this._pairs.push([t,n])};yf.toString=function(t){const n=t?function(s){return t.call(this,s,lu)}:lu;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function pv(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function vf(e,t,n){if(!t)return e;const s=n&&n.encode||pv;T.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(t,n):i=T.isURLSearchParams(t)?t.toString():new uc(t,n).toString(s),i){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class ou{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){T.forEach(this.handlers,function(s){s!==null&&t(s)})}}const jf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fv=typeof URLSearchParams<"u"?URLSearchParams:uc,hv=typeof FormData<"u"?FormData:null,xv=typeof Blob<"u"?Blob:null,gv={isBrowser:!0,classes:{URLSearchParams:fv,FormData:hv,Blob:xv},protocols:["http","https","file","blob","url","data"]},mc=typeof window<"u"&&typeof document<"u",to=typeof navigator=="object"&&navigator||void 0,yv=mc&&(!to||["ReactNative","NativeScript","NS"].indexOf(to.product)<0),vv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",jv=mc&&window.location.href||"http://localhost",_v=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mc,hasStandardBrowserEnv:yv,hasStandardBrowserWebWorkerEnv:vv,navigator:to,origin:jv},Symbol.toStringTag,{value:"Module"})),Pe={..._v,...gv};function wv(e,t){return fi(e,new Pe.classes.URLSearchParams,{visitor:function(n,s,a,i){return Pe.isNode&&T.isBuffer(n)?(this.append(s,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Nv(e){return T.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function bv(e){const t={},n=Object.keys(e);let s;const a=n.length;let i;for(s=0;s<a;s++)i=n[s],t[i]=e[i];return t}function _f(e){function t(n,s,a,i){let l=n[i++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=i>=n.length;return l=!l&&T.isArray(a)?a.length:l,c?(T.hasOwnProp(a,l)?a[l]=[a[l],s]:a[l]=s,!o):((!a[l]||!T.isObject(a[l]))&&(a[l]=[]),t(n,s,a[l],i)&&T.isArray(a[l])&&(a[l]=bv(a[l])),!o)}if(T.isFormData(e)&&T.isFunction(e.entries)){const n={};return T.forEachEntry(e,(s,a)=>{t(Nv(s),a,n,0)}),n}return null}function kv(e,t,n){if(T.isString(e))try{return(t||JSON.parse)(e),T.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Es={transitional:jf,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",a=s.indexOf("application/json")>-1,i=T.isObject(t);if(i&&T.isHTMLForm(t)&&(t=new FormData(t)),T.isFormData(t))return a?JSON.stringify(_f(t)):t;if(T.isArrayBuffer(t)||T.isBuffer(t)||T.isStream(t)||T.isFile(t)||T.isBlob(t)||T.isReadableStream(t))return t;if(T.isArrayBufferView(t))return t.buffer;if(T.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(s.indexOf("application/x-www-form-urlencoded")>-1)return wv(t,this.formSerializer).toString();if((o=T.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return fi(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),kv(t)):t}],transformResponse:[function(t){const n=this.transitional||Es.transitional,s=n&&n.forcedJSONParsing,a=this.responseType==="json";if(T.isResponse(t)||T.isReadableStream(t))return t;if(t&&T.isString(t)&&(s&&!this.responseType||a)){const l=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(o){if(l)throw o.name==="SyntaxError"?J.from(o,J.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pe.classes.FormData,Blob:Pe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],e=>{Es.headers[e]={}});const Sv=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Cv=e=>{const t={};let n,s,a;return e&&e.split(`
`).forEach(function(l){a=l.indexOf(":"),n=l.substring(0,a).trim().toLowerCase(),s=l.substring(a+1).trim(),!(!n||t[n]&&Sv[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},cu=Symbol("internals");function Or(e){return e&&String(e).trim().toLowerCase()}function pa(e){return e===!1||e==null?e:T.isArray(e)?e.map(pa):String(e)}function Ev(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const Rv=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ki(e,t,n,s,a){if(T.isFunction(s))return s.call(this,t,n);if(a&&(t=n),!!T.isString(t)){if(T.isString(s))return t.indexOf(s)!==-1;if(T.isRegExp(s))return s.test(t)}}function Tv(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function $v(e,t){const n=T.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(a,i,l){return this[s].call(this,t,a,i,l)},configurable:!0})})}let Ke=class{constructor(t){t&&this.set(t)}set(t,n,s){const a=this;function i(o,c,d){const u=Or(c);if(!u)throw new Error("header name must be a non-empty string");const m=T.findKey(a,u);(!m||a[m]===void 0||d===!0||d===void 0&&a[m]!==!1)&&(a[m||c]=pa(o))}const l=(o,c)=>T.forEach(o,(d,u)=>i(d,u,c));if(T.isPlainObject(t)||t instanceof this.constructor)l(t,n);else if(T.isString(t)&&(t=t.trim())&&!Rv(t))l(Cv(t),n);else if(T.isObject(t)&&T.isIterable(t)){let o={},c,d;for(const u of t){if(!T.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[d=u[0]]=(c=o[d])?T.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}l(o,n)}else t!=null&&i(n,t,s);return this}get(t,n){if(t=Or(t),t){const s=T.findKey(this,t);if(s){const a=this[s];if(!n)return a;if(n===!0)return Ev(a);if(T.isFunction(n))return n.call(this,a,s);if(T.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Or(t),t){const s=T.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||Ki(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let a=!1;function i(l){if(l=Or(l),l){const o=T.findKey(s,l);o&&(!n||Ki(s,s[o],o,n))&&(delete s[o],a=!0)}}return T.isArray(t)?t.forEach(i):i(t),a}clear(t){const n=Object.keys(this);let s=n.length,a=!1;for(;s--;){const i=n[s];(!t||Ki(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const n=this,s={};return T.forEach(this,(a,i)=>{const l=T.findKey(s,i);if(l){n[l]=pa(a),delete n[i];return}const o=t?Tv(i):String(i).trim();o!==i&&delete n[i],n[o]=pa(a),s[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return T.forEach(this,(s,a)=>{s!=null&&s!==!1&&(n[a]=t&&T.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(a=>s.set(a)),s}static accessor(t){const s=(this[cu]=this[cu]={accessors:{}}).accessors,a=this.prototype;function i(l){const o=Or(l);s[o]||($v(a,l),s[o]=!0)}return T.isArray(t)?t.forEach(i):i(t),this}};Ke.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(Ke.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});T.freezeMethods(Ke);function Gi(e,t){const n=this||Es,s=t||n,a=Ke.from(s.headers);let i=s.data;return T.forEach(e,function(o){i=o.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function wf(e){return!!(e&&e.__CANCEL__)}function Sr(e,t,n){J.call(this,e??"canceled",J.ERR_CANCELED,t,n),this.name="CanceledError"}T.inherits(Sr,J,{__CANCEL__:!0});function Nf(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new J("Request failed with status code "+n.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Pv(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Fv(e,t){e=e||10;const n=new Array(e),s=new Array(e);let a=0,i=0,l;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=s[i];l||(l=d),n[a]=c,s[a]=d;let m=i,f=0;for(;m!==a;)f+=n[m++],m=m%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),d-l<t)return;const j=u&&d-u;return j?Math.round(f*1e3/j):void 0}}function Lv(e,t){let n=0,s=1e3/t,a,i;const l=(d,u=Date.now())=>{n=u,a=null,i&&(clearTimeout(i),i=null),e(...d)};return[(...d)=>{const u=Date.now(),m=u-n;m>=s?l(d,u):(a=d,i||(i=setTimeout(()=>{i=null,l(a)},s-m)))},()=>a&&l(a)]}const Wa=(e,t,n=3)=>{let s=0;const a=Fv(50,250);return Lv(i=>{const l=i.loaded,o=i.lengthComputable?i.total:void 0,c=l-s,d=a(c),u=l<=o;s=l;const m={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&u?(o-l)/d:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(m)},n)},du=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},uu=e=>(...t)=>T.asap(()=>e(...t)),Ov=Pe.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Pe.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Pe.origin),Pe.navigator&&/(msie|trident)/i.test(Pe.navigator.userAgent)):()=>!0,Dv=Pe.hasStandardBrowserEnv?{write(e,t,n,s,a,i,l){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(t)}`];T.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),T.isString(s)&&o.push(`path=${s}`),T.isString(a)&&o.push(`domain=${a}`),i===!0&&o.push("secure"),T.isString(l)&&o.push(`SameSite=${l}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Av(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Iv(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function bf(e,t,n){let s=!Av(t);return e&&(s||n==!1)?Iv(e,t):t}const mu=e=>e instanceof Ke?{...e}:e;function Bn(e,t){t=t||{};const n={};function s(d,u,m,f){return T.isPlainObject(d)&&T.isPlainObject(u)?T.merge.call({caseless:f},d,u):T.isPlainObject(u)?T.merge({},u):T.isArray(u)?u.slice():u}function a(d,u,m,f){if(T.isUndefined(u)){if(!T.isUndefined(d))return s(void 0,d,m,f)}else return s(d,u,m,f)}function i(d,u){if(!T.isUndefined(u))return s(void 0,u)}function l(d,u){if(T.isUndefined(u)){if(!T.isUndefined(d))return s(void 0,d)}else return s(void 0,u)}function o(d,u,m){if(m in t)return s(d,u);if(m in e)return s(void 0,d)}const c={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(d,u,m)=>a(mu(d),mu(u),m,!0)};return T.forEach(Object.keys({...e,...t}),function(u){const m=c[u]||a,f=m(e[u],t[u],u);T.isUndefined(f)&&m!==o||(n[u]=f)}),n}const kf=e=>{const t=Bn({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:i,headers:l,auth:o}=t;if(t.headers=l=Ke.from(l),t.url=vf(bf(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),T.isFormData(n)){if(Pe.hasStandardBrowserEnv||Pe.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(T.isFunction(n.getHeaders)){const c=n.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,m])=>{d.includes(u.toLowerCase())&&l.set(u,m)})}}if(Pe.hasStandardBrowserEnv&&(s&&T.isFunction(s)&&(s=s(t)),s||s!==!1&&Ov(t.url))){const c=a&&i&&Dv.read(i);c&&l.set(a,c)}return t},Mv=typeof XMLHttpRequest<"u",zv=Mv&&function(e){return new Promise(function(n,s){const a=kf(e);let i=a.data;const l=Ke.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=a,u,m,f,j,x;function b(){j&&j(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let N=new XMLHttpRequest;N.open(a.method.toUpperCase(),a.url,!0),N.timeout=a.timeout;function h(){if(!N)return;const g=Ke.from("getAllResponseHeaders"in N&&N.getAllResponseHeaders()),v={data:!o||o==="text"||o==="json"?N.responseText:N.response,status:N.status,statusText:N.statusText,headers:g,config:e,request:N};Nf(function(L){n(L),b()},function(L){s(L),b()},v),N=null}"onloadend"in N?N.onloadend=h:N.onreadystatechange=function(){!N||N.readyState!==4||N.status===0&&!(N.responseURL&&N.responseURL.indexOf("file:")===0)||setTimeout(h)},N.onabort=function(){N&&(s(new J("Request aborted",J.ECONNABORTED,e,N)),N=null)},N.onerror=function(k){const v=k&&k.message?k.message:"Network Error",R=new J(v,J.ERR_NETWORK,e,N);R.event=k||null,s(R),N=null},N.ontimeout=function(){let k=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const v=a.transitional||jf;a.timeoutErrorMessage&&(k=a.timeoutErrorMessage),s(new J(k,v.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,e,N)),N=null},i===void 0&&l.setContentType(null),"setRequestHeader"in N&&T.forEach(l.toJSON(),function(k,v){N.setRequestHeader(v,k)}),T.isUndefined(a.withCredentials)||(N.withCredentials=!!a.withCredentials),o&&o!=="json"&&(N.responseType=a.responseType),d&&([f,x]=Wa(d,!0),N.addEventListener("progress",f)),c&&N.upload&&([m,j]=Wa(c),N.upload.addEventListener("progress",m),N.upload.addEventListener("loadend",j)),(a.cancelToken||a.signal)&&(u=g=>{N&&(s(!g||g.type?new Sr(null,e,N):g),N.abort(),N=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const p=Pv(a.url);if(p&&Pe.protocols.indexOf(p)===-1){s(new J("Unsupported protocol "+p+":",J.ERR_BAD_REQUEST,e));return}N.send(i||null)})},Bv=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,a;const i=function(d){if(!a){a=!0,o();const u=d instanceof Error?d:this.reason;s.abort(u instanceof J?u:new Sr(u instanceof Error?u.message:u))}};let l=t&&setTimeout(()=>{l=null,i(new J(`timeout ${t} of ms exceeded`,J.ETIMEDOUT))},t);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(i):d.removeEventListener("abort",i)}),e=null)};e.forEach(d=>d.addEventListener("abort",i));const{signal:c}=s;return c.unsubscribe=()=>T.asap(o),c}},Uv=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let s=0,a;for(;s<n;)a=s+t,yield e.slice(s,a),s=a},Wv=async function*(e,t){for await(const n of Hv(e))yield*Uv(n,t)},Hv=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},pu=(e,t,n,s)=>{const a=Wv(e,t);let i=0,l,o=c=>{l||(l=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){o(),c.close();return}let m=u.byteLength;if(n){let f=i+=m;n(f)}c.enqueue(new Uint8Array(u))}catch(d){throw o(d),d}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},fu=64*1024,{isFunction:Ks}=T,qv=(({Request:e,Response:t})=>({Request:e,Response:t}))(T.global),{ReadableStream:hu,TextEncoder:xu}=T.global,gu=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Vv=e=>{e=T.merge.call({skipUndefined:!0},qv,e);const{fetch:t,Request:n,Response:s}=e,a=t?Ks(t):typeof fetch=="function",i=Ks(n),l=Ks(s);if(!a)return!1;const o=a&&Ks(hu),c=a&&(typeof xu=="function"?(x=>b=>x.encode(b))(new xu):async x=>new Uint8Array(await new n(x).arrayBuffer())),d=i&&o&&gu(()=>{let x=!1;const b=new n(Pe.origin,{body:new hu,method:"POST",get duplex(){return x=!0,"half"}}).headers.has("Content-Type");return x&&!b}),u=l&&o&&gu(()=>T.isReadableStream(new s("").body)),m={stream:u&&(x=>x.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(x=>{!m[x]&&(m[x]=(b,N)=>{let h=b&&b[x];if(h)return h.call(b);throw new J(`Response type '${x}' is not supported`,J.ERR_NOT_SUPPORT,N)})});const f=async x=>{if(x==null)return 0;if(T.isBlob(x))return x.size;if(T.isSpecCompliantForm(x))return(await new n(Pe.origin,{method:"POST",body:x}).arrayBuffer()).byteLength;if(T.isArrayBufferView(x)||T.isArrayBuffer(x))return x.byteLength;if(T.isURLSearchParams(x)&&(x=x+""),T.isString(x))return(await c(x)).byteLength},j=async(x,b)=>{const N=T.toFiniteNumber(x.getContentLength());return N??f(b)};return async x=>{let{url:b,method:N,data:h,signal:p,cancelToken:g,timeout:k,onDownloadProgress:v,onUploadProgress:R,responseType:L,headers:A,withCredentials:O="same-origin",fetchOptions:w}=kf(x),W=t||fetch;L=L?(L+"").toLowerCase():"text";let V=Bv([p,g&&g.toAbortSignal()],k),Y=null;const K=V&&V.unsubscribe&&(()=>{V.unsubscribe()});let ve;try{if(R&&d&&N!=="get"&&N!=="head"&&(ve=await j(A,h))!==0){let F=new n(b,{method:"POST",body:h,duplex:"half"}),C;if(T.isFormData(h)&&(C=F.headers.get("content-type"))&&A.setContentType(C),F.body){const[$,P]=du(ve,Wa(uu(R)));h=pu(F.body,fu,$,P)}}T.isString(O)||(O=O?"include":"omit");const te=i&&"credentials"in n.prototype,ne={...w,signal:V,method:N.toUpperCase(),headers:A.normalize().toJSON(),body:h,duplex:"half",credentials:te?O:void 0};Y=i&&new n(b,ne);let M=await(i?W(Y,w):W(b,ne));const S=u&&(L==="stream"||L==="response");if(u&&(v||S&&K)){const F={};["status","statusText","headers"].forEach(_=>{F[_]=M[_]});const C=T.toFiniteNumber(M.headers.get("content-length")),[$,P]=v&&du(C,Wa(uu(v),!0))||[];M=new s(pu(M.body,fu,$,()=>{P&&P(),K&&K()}),F)}L=L||"text";let E=await m[T.findKey(m,L)||"text"](M,x);return!S&&K&&K(),await new Promise((F,C)=>{Nf(F,C,{data:E,headers:Ke.from(M.headers),status:M.status,statusText:M.statusText,config:x,request:Y})})}catch(te){throw K&&K(),te&&te.name==="TypeError"&&/Load failed|fetch/i.test(te.message)?Object.assign(new J("Network Error",J.ERR_NETWORK,x,Y),{cause:te.cause||te}):J.from(te,te&&te.code,x,Y)}}},Qv=new Map,Sf=e=>{let t=e&&e.env||{};const{fetch:n,Request:s,Response:a}=t,i=[s,a,n];let l=i.length,o=l,c,d,u=Qv;for(;o--;)c=i[o],d=u.get(c),d===void 0&&u.set(c,d=o?new Map:Vv(t)),u=d;return d};Sf();const pc={http:dv,xhr:zv,fetch:{get:Sf}};T.forEach(pc,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const yu=e=>`- ${e}`,Jv=e=>T.isFunction(e)||e===null||e===!1;function Kv(e,t){e=T.isArray(e)?e:[e];const{length:n}=e;let s,a;const i={};for(let l=0;l<n;l++){s=e[l];let o;if(a=s,!Jv(s)&&(a=pc[(o=String(s)).toLowerCase()],a===void 0))throw new J(`Unknown adapter '${o}'`);if(a&&(T.isFunction(a)||(a=a.get(t))))break;i[o||"#"+l]=a}if(!a){const l=Object.entries(i).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=n?l.length>1?`since :
`+l.map(yu).join(`
`):" "+yu(l[0]):"as no adapter specified";throw new J("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a}const Cf={getAdapter:Kv,adapters:pc};function Yi(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Sr(null,e)}function vu(e){return Yi(e),e.headers=Ke.from(e.headers),e.data=Gi.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Cf.getAdapter(e.adapter||Es.adapter,e)(e).then(function(s){return Yi(e),s.data=Gi.call(e,e.transformResponse,s),s.headers=Ke.from(s.headers),s},function(s){return wf(s)||(Yi(e),s&&s.response&&(s.response.data=Gi.call(e,e.transformResponse,s.response),s.response.headers=Ke.from(s.response.headers))),Promise.reject(s)})}const Ef="1.13.2",hi={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{hi[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const ju={};hi.transitional=function(t,n,s){function a(i,l){return"[Axios v"+Ef+"] Transitional option '"+i+"'"+l+(s?". "+s:"")}return(i,l,o)=>{if(t===!1)throw new J(a(l," has been removed"+(n?" in "+n:"")),J.ERR_DEPRECATED);return n&&!ju[l]&&(ju[l]=!0,console.warn(a(l," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,l,o):!0}};hi.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Gv(e,t,n){if(typeof e!="object")throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let a=s.length;for(;a-- >0;){const i=s[a],l=t[i];if(l){const o=e[i],c=o===void 0||l(o,i,e);if(c!==!0)throw new J("option "+i+" must be "+c,J.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new J("Unknown option "+i,J.ERR_BAD_OPTION)}}const fa={assertOptions:Gv,validators:hi},Nt=fa.validators;let Ln=class{constructor(t){this.defaults=t||{},this.interceptors={request:new ou,response:new ou}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?i&&!String(s.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+i):s.stack=i}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Bn(this.defaults,n);const{transitional:s,paramsSerializer:a,headers:i}=n;s!==void 0&&fa.assertOptions(s,{silentJSONParsing:Nt.transitional(Nt.boolean),forcedJSONParsing:Nt.transitional(Nt.boolean),clarifyTimeoutError:Nt.transitional(Nt.boolean)},!1),a!=null&&(T.isFunction(a)?n.paramsSerializer={serialize:a}:fa.assertOptions(a,{encode:Nt.function,serialize:Nt.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),fa.assertOptions(n,{baseUrl:Nt.spelling("baseURL"),withXsrfToken:Nt.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let l=i&&T.merge(i.common,i[n.method]);i&&T.forEach(["delete","get","head","post","put","patch","common"],x=>{delete i[x]}),n.headers=Ke.concat(l,i);const o=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(c=c&&b.synchronous,o.unshift(b.fulfilled,b.rejected))});const d=[];this.interceptors.response.forEach(function(b){d.push(b.fulfilled,b.rejected)});let u,m=0,f;if(!c){const x=[vu.bind(this),void 0];for(x.unshift(...o),x.push(...d),f=x.length,u=Promise.resolve(n);m<f;)u=u.then(x[m++],x[m++]);return u}f=o.length;let j=n;for(;m<f;){const x=o[m++],b=o[m++];try{j=x(j)}catch(N){b.call(this,N);break}}try{u=vu.call(this,j)}catch(x){return Promise.reject(x)}for(m=0,f=d.length;m<f;)u=u.then(d[m++],d[m++]);return u}getUri(t){t=Bn(this.defaults,t);const n=bf(t.baseURL,t.url,t.allowAbsoluteUrls);return vf(n,t.params,t.paramsSerializer)}};T.forEach(["delete","get","head","options"],function(t){Ln.prototype[t]=function(n,s){return this.request(Bn(s||{},{method:t,url:n,data:(s||{}).data}))}});T.forEach(["post","put","patch"],function(t){function n(s){return function(i,l,o){return this.request(Bn(o||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Ln.prototype[t]=n(),Ln.prototype[t+"Form"]=n(!0)});let Yv=class Rf{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const s=this;this.promise.then(a=>{if(!s._listeners)return;let i=s._listeners.length;for(;i-- >0;)s._listeners[i](a);s._listeners=null}),this.promise.then=a=>{let i;const l=new Promise(o=>{s.subscribe(o),i=o}).then(a);return l.cancel=function(){s.unsubscribe(i)},l},t(function(i,l,o){s.reason||(s.reason=new Sr(i,l,o),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Rf(function(a){t=a}),cancel:t}}};function Xv(e){return function(n){return e.apply(null,n)}}function Zv(e){return T.isObject(e)&&e.isAxiosError===!0}const no={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(no).forEach(([e,t])=>{no[t]=e});function Tf(e){const t=new Ln(e),n=lf(Ln.prototype.request,t);return T.extend(n,Ln.prototype,t,{allOwnKeys:!0}),T.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return Tf(Bn(e,a))},n}const ae=Tf(Es);ae.Axios=Ln;ae.CanceledError=Sr;ae.CancelToken=Yv;ae.isCancel=wf;ae.VERSION=Ef;ae.toFormData=fi;ae.AxiosError=J;ae.Cancel=ae.CanceledError;ae.all=function(t){return Promise.all(t)};ae.spread=Xv;ae.isAxiosError=Zv;ae.mergeConfig=Bn;ae.AxiosHeaders=Ke;ae.formToJSON=e=>_f(T.isHTMLForm(e)?new FormData(e):e);ae.getAdapter=Cf.getAdapter;ae.HttpStatusCode=no;ae.default=ae;const{Axios:j_,AxiosError:__,CanceledError:w_,isCancel:N_,CancelToken:b_,VERSION:k_,all:S_,Cancel:C_,isAxiosError:E_,spread:R_,toFormData:T_,AxiosHeaders:$_,HttpStatusCode:P_,formToJSON:F_,getAdapter:L_,mergeConfig:O_}=ae,Dr="http://localhost:8000",ej=()=>{var te,ne,M;const[e,t]=y.useState([]),[n,s]=y.useState(null),[a,i]=y.useState([]),[l,o]=y.useState(null),[c,d]=y.useState(!1),[u,m]=y.useState(null),[f,j]=y.useState(!1),[x,b]=y.useState(!1),[N,h]=y.useState(!1),[p,g]=y.useState(null),[k,v]=y.useState("");y.useEffect(()=>{R(),L()},[]);const R=async()=>{var S,E;try{d(!0),m(null);const F=await ae.get(`${Dr}/api/v1/approvals/pending`);t(F.data.approvals||[])}catch(F){m(((E=(S=F.response)==null?void 0:S.data)==null?void 0:E.detail)||"Failed to load approvals"),console.error("Error loading approvals:",F)}finally{d(!1)}},L=async()=>{try{const S=await ae.get(`${Dr}/api/v1/approvals/approvers/me/stats`);o(S.data)}catch(S){console.error("Error loading stats:",S)}},A=async S=>{var E,F;try{d(!0);const C=await ae.get(`${Dr}/api/v1/approvals/${S}`);s(C.data.approval),i(C.data.history||[]),b(!0)}catch(C){m(((F=(E=C.response)==null?void 0:E.data)==null?void 0:F.detail)||"Failed to load approval details"),console.error("Error loading approval detail:",C)}finally{d(!1)}},O=async()=>{var S,E;if(!(!p||!n)){if(p==="reject"&&!k.trim()){alert("Rejection reason is required");return}if(p==="revision"&&!k.trim()){alert("Revision notes are required");return}try{j(!0);const F={decision:p,notes:k,...p==="revision"&&{revision_notes:k}};let C;p==="approve"?C=`/api/v1/approvals/${n.id}/approve`:p==="reject"?C=`/api/v1/approvals/${n.id}/reject`:p==="revision"&&(C=`/api/v1/approvals/${n.id}/request-revision`),await ae.post(`${Dr}${C}`,F),h(!1),b(!1),v(""),R(),L(),alert(`Design ${p}d successfully!`)}catch(F){alert(((E=(S=F.response)==null?void 0:S.data)==null?void 0:E.detail)||`Failed to ${p} design`),console.error(`Error ${p}ing:`,F)}finally{j(!1)}}},w=async S=>{try{await ae.post(`${Dr}/api/v1/approvals/${S}/start-review`),R()}catch(E){console.error("Error starting review:",E)}},W=S=>{g(S),v(""),h(!0)},V=S=>{switch(S){case"urgent":return"badge-urgent";case"high":return"badge-high";default:return"badge-normal"}},Y=S=>S>=.9?"risk-critical":S>=.6?"risk-high":S>=.3?"risk-medium":"risk-low",K=S=>S>=.9?"Critical":S>=.6?"High":S>=.3?"Medium":"Low",ve=S=>{if(!S)return"No deadline";const E=new Date,C=(new Date(S)-E)/(1e3*60*60);return C<0?"Expired":C<1?`${Math.round(C*60)} minutes`:C<24?`${Math.round(C)} hours`:`${Math.round(C/24)} days`};return r.jsxs("div",{className:"approvals-page",children:[r.jsxs("div",{className:"page-header",children:[r.jsx("h1",{children:"Approval Dashboard"}),r.jsx("p",{className:"subtitle",children:"Human-in-the-Loop Design Approvals"})]}),l&&r.jsxs("div",{className:"stats-grid",children:[r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-value",children:l.total_pending||0}),r.jsx("div",{className:"stat-label",children:"Pending Approvals"})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-value",children:l.total_reviewed_today||0}),r.jsx("div",{className:"stat-label",children:"Reviewed Today"})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-value",children:l.avg_review_time_hours?`${l.avg_review_time_hours.toFixed(1)}h`:"N/A"}),r.jsx("div",{className:"stat-label",children:"Avg Review Time"})]}),r.jsxs("div",{className:"stat-card",children:[r.jsx("div",{className:"stat-value",children:l.approval_rate?`${(l.approval_rate*100).toFixed(0)}%`:"N/A"}),r.jsx("div",{className:"stat-label",children:"Approval Rate"})]})]}),u&&r.jsxs("div",{className:"error-banner",children:[r.jsx("span",{className:"error-icon",children:""}),u]}),r.jsxs("div",{className:"approvals-section",children:[r.jsxs("div",{className:"section-header",children:[r.jsx("h2",{children:"Pending Approvals"}),r.jsx("button",{onClick:R,className:"btn-refresh",children:" Refresh"})]}),c&&!e.length?r.jsx("div",{className:"loading-spinner",children:"Loading approvals..."}):e.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsx("p",{children:" No pending approvals"}),r.jsx("p",{className:"empty-subtitle",children:"Great job! You're all caught up."})]}):r.jsx("div",{className:"approvals-list",children:e.map(S=>{var E,F,C,$,P,_;return r.jsxs("div",{className:"approval-card",children:[r.jsxs("div",{className:"approval-header",children:[r.jsxs("div",{className:"approval-title-row",children:[r.jsx("h3",{children:S.deliverable_type}),r.jsx("span",{className:`priority-badge ${V(S.priority)}`,children:S.priority.toUpperCase()})]}),r.jsxs("div",{className:"approval-meta",children:[r.jsxs("span",{className:"meta-item",children:[r.jsx("strong",{children:"Execution ID:"})," ",S.execution_id.substring(0,8),"..."]}),r.jsxs("span",{className:"meta-item",children:[r.jsx("strong",{children:"Created:"})," ",new Date(S.created_at).toLocaleString()]}),r.jsxs("span",{className:"meta-item",children:[r.jsx("strong",{children:"Expires:"})," ",ve(S.expires_at)]})]})]}),r.jsxs("div",{className:"approval-body",children:[r.jsxs("div",{className:"risk-section",children:[r.jsxs("div",{className:"risk-score-display",children:[r.jsx("div",{className:`risk-circle ${Y(S.risk_score)}`,children:(S.risk_score*100).toFixed(0)}),r.jsxs("div",{className:"risk-info",children:[r.jsx("div",{className:"risk-label",children:"Risk Score"}),r.jsx("div",{className:`risk-level ${Y(S.risk_score)}`,children:K(S.risk_score)})]})]}),r.jsxs("div",{className:"risk-factors",children:[r.jsxs("div",{className:"risk-factor",children:[r.jsx("span",{className:"factor-label",children:"Safety:"}),r.jsx("div",{className:"factor-bar",children:r.jsx("div",{className:"factor-fill safety",style:{width:`${((E=S.risk_factors)==null?void 0:E.safety_risk)*100||0}%`}})}),r.jsxs("span",{className:"factor-value",children:[((((F=S.risk_factors)==null?void 0:F.safety_risk)||0)*100).toFixed(0),"%"]})]}),r.jsxs("div",{className:"risk-factor",children:[r.jsx("span",{className:"factor-label",children:"Technical:"}),r.jsx("div",{className:"factor-bar",children:r.jsx("div",{className:"factor-fill technical",style:{width:`${((C=S.risk_factors)==null?void 0:C.technical_risk)*100||0}%`}})}),r.jsxs("span",{className:"factor-value",children:[(((($=S.risk_factors)==null?void 0:$.technical_risk)||0)*100).toFixed(0),"%"]})]}),r.jsxs("div",{className:"risk-factor",children:[r.jsx("span",{className:"factor-label",children:"Compliance:"}),r.jsx("div",{className:"factor-bar",children:r.jsx("div",{className:"factor-fill compliance",style:{width:`${((P=S.risk_factors)==null?void 0:P.compliance_risk)*100||0}%`}})}),r.jsxs("span",{className:"factor-value",children:[((((_=S.risk_factors)==null?void 0:_.compliance_risk)||0)*100).toFixed(0),"%"]})]})]})]}),r.jsxs("div",{className:"approval-actions",children:[r.jsx("button",{className:"btn-primary",onClick:()=>A(S.id),children:" View Details"}),S.status==="assigned"&&r.jsx("button",{className:"btn-secondary",onClick:()=>w(S.id),children:" Start Review"})]})]})]},S.id)})})]}),x&&n&&r.jsx("div",{className:"modal-overlay",onClick:()=>b(!1),children:r.jsxs("div",{className:"modal-content",onClick:S=>S.stopPropagation(),children:[r.jsxs("div",{className:"modal-header",children:[r.jsx("h2",{children:"Approval Details"}),r.jsx("button",{className:"modal-close",onClick:()=>b(!1),children:""})]}),r.jsxs("div",{className:"modal-body",children:[r.jsxs("div",{className:"detail-section",children:[r.jsx("h3",{children:"Risk Assessment"}),r.jsxs("div",{className:"detail-grid",children:[r.jsxs("div",{className:"detail-item",children:[r.jsx("span",{className:"detail-label",children:"Overall Risk Score:"}),r.jsxs("span",{className:`detail-value ${Y(n.risk_score)}`,children:[(n.risk_score*100).toFixed(1),"% - ",K(n.risk_score)]})]}),r.jsxs("div",{className:"detail-item",children:[r.jsx("span",{className:"detail-label",children:"Safety Risk:"}),r.jsxs("span",{className:"detail-value",children:[((((te=n.risk_factors)==null?void 0:te.safety_risk)||0)*100).toFixed(1),"%"]})]}),r.jsxs("div",{className:"detail-item",children:[r.jsx("span",{className:"detail-label",children:"Technical Risk:"}),r.jsxs("span",{className:"detail-value",children:[((((ne=n.risk_factors)==null?void 0:ne.technical_risk)||0)*100).toFixed(1),"%"]})]}),r.jsxs("div",{className:"detail-item",children:[r.jsx("span",{className:"detail-label",children:"Compliance Risk:"}),r.jsxs("span",{className:"detail-value",children:[((((M=n.risk_factors)==null?void 0:M.compliance_risk)||0)*100).toFixed(1),"%"]})]})]})]}),r.jsxs("div",{className:"detail-section",children:[r.jsx("h3",{children:"Approval History"}),a.length===0?r.jsx("p",{children:"No history available"}):r.jsx("div",{className:"history-timeline",children:a.map((S,E)=>r.jsxs("div",{className:"history-entry",children:[r.jsx("div",{className:"history-icon",children:""}),r.jsxs("div",{className:"history-content",children:[r.jsx("div",{className:"history-action",children:S.action}),r.jsxs("div",{className:"history-meta",children:[S.performed_by,"  ",new Date(S.created_at).toLocaleString()]}),S.notes&&r.jsx("div",{className:"history-notes",children:S.notes})]})]},E))})]})]}),r.jsxs("div",{className:"modal-footer",children:[r.jsx("button",{className:"btn-success",onClick:()=>W("approve"),children:" Approve"}),r.jsx("button",{className:"btn-warning",onClick:()=>W("revision"),children:" Request Revision"}),r.jsx("button",{className:"btn-danger",onClick:()=>W("reject"),children:" Reject"})]})]})}),N&&r.jsx("div",{className:"modal-overlay",onClick:()=>h(!1),children:r.jsxs("div",{className:"modal-content action-modal",onClick:S=>S.stopPropagation(),children:[r.jsxs("div",{className:"modal-header",children:[r.jsxs("h2",{children:[p==="approve"&&" Approve Design",p==="reject"&&" Reject Design",p==="revision"&&" Request Revision"]}),r.jsx("button",{className:"modal-close",onClick:()=>h(!1),children:""})]}),r.jsx("div",{className:"modal-body",children:r.jsxs("div",{className:"form-group",children:[r.jsxs("label",{children:[p==="approve"&&"Approval Notes (optional):",p==="reject"&&"Rejection Reason (required):",p==="revision"&&"Revision Notes (required):"]}),r.jsx("textarea",{value:k,onChange:S=>v(S.target.value),placeholder:p==="approve"?"Add any comments about this approval...":p==="reject"?"Explain why this design is being rejected...":"Describe what changes are needed...",rows:5,className:"form-textarea"})]})}),r.jsxs("div",{className:"modal-footer",children:[r.jsx("button",{className:"btn-secondary",onClick:()=>h(!1),children:"Cancel"}),r.jsx("button",{className:p==="approve"?"btn-success":p==="reject"?"btn-danger":"btn-warning",onClick:O,disabled:f,children:f?"Processing...":p==="approve"?"Approve":p==="reject"?"Reject":"Request Revision"})]})]})})]})},xi="http://localhost:8000";async function tj(e){const t=await fetch(`${xi}/api/v1/risk-rules/${e}`);if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to fetch risk rules")}return t.json()}async function nj(e,t,n=""){const s=await fetch(`${xi}/api/v1/risk-rules/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({risk_rules:t,change_description:n})});if(!s.ok){const a=await s.json();throw new Error(a.detail||"Failed to update risk rules")}return s.json()}async function rj(e,t){const n=await fetch(`${xi}/api/v1/risk-rules/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({deliverable_type:e,test_data:t})});if(!n.ok){const s=await n.json();throw new Error(s.detail||"Failed to test risk rules")}return n.json()}async function sj(){const e=await fetch(`${xi}/api/v1/workflows/`);if(!e.ok){const a=await e.json();throw new Error(a.detail||"Failed to fetch deliverable types")}const t=await e.json();return(Array.isArray(t)?t:t.schemas||[]).map(a=>({value:a.deliverable_type,label:a.display_name||a.deliverable_type,discipline:a.discipline,status:a.status}))}const Xi={global:{label:"Global",color:"bg-blue-100 text-blue-800",description:"Applied before workflow starts"},step:{label:"Step",color:"bg-green-100 text-green-800",description:"Applied after specific steps"},exception:{label:"Exception",color:"bg-yellow-100 text-yellow-800",description:"Override normal routing"},escalation:{label:"Escalation",color:"bg-red-100 text-red-800",description:"Trigger senior review"}},_u={auto_approve:{label:"Auto Approve",color:"text-green-600"},require_review:{label:"Require Review",color:"text-yellow-600"},require_hitl:{label:"Require HITL",color:"text-orange-600"},escalate:{label:"Escalate",color:"text-red-600"},pause:{label:"Pause",color:"text-gray-600"},warn:{label:"Warn",color:"text-blue-600"},block:{label:"Block",color:"text-red-800"},continue:{label:"Continue",color:"text-green-600"}};function aj(){const[e,t]=y.useState([]),[n,s]=y.useState(""),[a,i]=y.useState(null),[l,o]=y.useState(!1),[c,d]=y.useState(null),[u,m]=y.useState(null),[f,j]=y.useState(null),[x,b]=y.useState(null),[N,h]=y.useState(!1),[p,g]=y.useState("global"),[k,v]=y.useState(!1),[R,L]=y.useState(""),[A,O]=y.useState(null),[w,W]=y.useState(!1),[V,Y]=y.useState({global:!0,step:!0,exception:!0,escalation:!0});y.useEffect(()=>{K()},[]),y.useEffect(()=>{n&&ve(n)},[n]);async function K(){try{o(!0);const I=await sj();t(I)}catch(I){console.error("Failed to load deliverable types:",I),d("Failed to load deliverable types. Make sure the backend is running.")}finally{o(!1)}}async function ve(I){o(!0),d(null);try{const z=await tj(I);i(z)}catch(z){console.error("Failed to load risk rules:",z),i({version:1,global_rules:[],step_rules:[],exception_rules:[],escalation_rules:[]})}finally{o(!1)}}async function te(I="Updated via Risk Rules UI"){o(!0),d(null);try{await nj(n,a,I),m("Risk rules saved successfully!"),setTimeout(()=>m(null),3e3)}catch(z){console.error("Failed to save risk rules:",z),d(z.message||"Failed to save risk rules")}finally{o(!1)}}async function ne(){if(!R.trim()){O({error:"Please enter test input data"});return}W(!0);try{const I=JSON.parse(R),z=await rj(n,I);O(z)}catch(I){I instanceof SyntaxError?O({error:"Invalid JSON format"}):O({error:I.message})}finally{W(!1)}}function M(I){Y(z=>({...z,[I]:!z[I]}))}function S(I){g(I),j(E(I)),b(I),h(!0)}function E(I){const z={rule_id:"",description:"",condition:"",message:"",enabled:!0,priority:0};switch(I){case"global":return{...z,risk_factor:.3,action_if_triggered:"require_review"};case"step":return{...z,step_name:"",risk_factor:.3,action_if_triggered:"require_review"};case"exception":return{...z,auto_approve_override:!1,max_risk_override:.25};case"escalation":return{...z,escalation_level:3,bypass_queue:!1};default:return z}}function F(I,z){j({...I}),b(z),h(!0)}function C(I,z){if(!confirm("Are you sure you want to delete this rule?"))return;const oe=`${z}_rules`;i(Oe=>({...Oe,[oe]:Oe[oe].filter(_t=>_t.rule_id!==I)}))}function $(){if(!f.rule_id||!f.condition){d("Rule ID and Condition are required");return}const I=`${x}_rules`,z=a[I].findIndex(oe=>oe.rule_id===f.rule_id);z>=0?i(oe=>({...oe,[I]:oe[I].map((Oe,_t)=>_t===z?f:Oe)})):i(oe=>({...oe,[I]:[...oe[I],f]})),h(!1),j(null),b(null)}function P(I,z){const oe=Xi[z],Oe=_u[I.action_if_triggered]||{};return r.jsxs("div",{className:`border rounded-lg p-4 mb-3 ${I.enabled?"bg-white":"bg-gray-50 opacity-75"}`,children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${oe.color}`,children:oe.label}),r.jsx("span",{className:"font-semibold text-gray-900",children:I.rule_id}),!I.enabled&&r.jsx("span",{className:"px-2 py-1 rounded text-xs bg-gray-200 text-gray-600",children:"Disabled"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>F(I,z),className:"p-1 text-gray-500 hover:text-blue-600",title:"Edit rule",children:r.jsx(cy,{size:16})}),r.jsx("button",{onClick:()=>C(I.rule_id,z),className:"p-1 text-gray-500 hover:text-red-600",title:"Delete rule",children:r.jsx(ys,{size:16})})]})]}),I.description&&r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:I.description}),r.jsx("div",{className:"bg-gray-100 rounded p-2 font-mono text-sm mb-2 overflow-x-auto",children:I.condition}),r.jsxs("div",{className:"flex flex-wrap gap-3 text-sm",children:[I.risk_factor!==void 0&&r.jsxs("span",{className:"text-gray-600",children:["Risk Factor: ",r.jsxs("strong",{children:[(I.risk_factor*100).toFixed(0),"%"]})]}),I.action_if_triggered&&r.jsxs("span",{className:Oe.color,children:["Action: ",r.jsx("strong",{children:Oe.label})]}),I.step_name&&r.jsxs("span",{className:"text-gray-600",children:["Step: ",r.jsx("strong",{children:I.step_name})]}),I.escalation_level&&r.jsxs("span",{className:"text-red-600",children:["Escalation Level: ",r.jsx("strong",{children:I.escalation_level})]}),I.auto_approve_override&&r.jsxs("span",{className:"text-green-600",children:[r.jsx(Be,{className:"inline mr-1"}),"Auto-Approve Override"]}),r.jsxs("span",{className:"text-gray-500",children:["Priority: ",I.priority]})]}),I.message&&r.jsxs("div",{className:"mt-2 text-sm text-gray-500 italic",children:['Message: "',I.message,'"']})]},I.rule_id)}function _(I,z){const oe=Xi[I],Oe=V[I];return r.jsxs("div",{className:"mb-6",children:[r.jsxs("div",{className:"flex items-center justify-between cursor-pointer bg-gray-100 p-3 rounded-t-lg",onClick:()=>M(I),children:[r.jsxs("div",{className:"flex items-center gap-2",children:[Oe?r.jsx(zn,{}):r.jsx(iy,{}),r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${oe.color}`,children:oe.label}),r.jsx("span",{className:"font-medium text-gray-700",children:oe.description}),r.jsxs("span",{className:"text-sm text-gray-500",children:["(",z.length," rules)"]})]}),r.jsxs("button",{onClick:_t=>{_t.stopPropagation(),S(I)},className:"flex items-center gap-1 px-3 py-1 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:[r.jsx(gt,{size:14})," Add Rule"]})]}),Oe&&r.jsx("div",{className:"border border-t-0 rounded-b-lg p-4 bg-white",children:z.length===0?r.jsxs("p",{className:"text-gray-500 text-center py-4",children:["No ",I,' rules defined. Click "Add Rule" to create one.']}):z.map(_t=>P(_t,I))})]},I)}function U(){if(!N||!f)return null;const I=Xi[x];return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto m-4",children:[r.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[r.jsxs("h3",{className:"text-lg font-semibold",children:[f.rule_id?"Edit":"Create"," ",I.label," Rule"]}),r.jsx("button",{onClick:()=>{h(!1),j(null)},className:"text-gray-500 hover:text-gray-700",children:r.jsx(ot,{size:20})})]}),r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Rule ID ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:f.rule_id,onChange:z=>j({...f,rule_id:z.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., global_high_load"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("input",{type:"text",value:f.description,onChange:z=>j({...f,description:z.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Human-readable description of the rule"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Condition ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("textarea",{value:f.condition,onChange:z=>j({...f,condition:z.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-sm",rows:3,placeholder:"e.g., $input.axial_load_dead > 1200"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use $input.field, $step1.variable, $context.key, or $assessment.factor"})]}),x==="step"&&r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Step Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",value:f.step_name||"",onChange:z=>j({...f,step_name:z.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"e.g., initial_design"})]}),(x==="global"||x==="step")&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Risk Factor (0-1)"}),r.jsx("input",{type:"number",min:"0",max:"1",step:"0.05",value:f.risk_factor,onChange:z=>j({...f,risk_factor:parseFloat(z.target.value)}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(x==="global"||x==="step")&&r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Action When Triggered"}),r.jsx("select",{value:f.action_if_triggered,onChange:z=>j({...f,action_if_triggered:z.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",children:Object.entries(_u).map(([z,{label:oe}])=>r.jsx("option",{value:z,children:oe},z))})]}),x==="exception"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"autoApproveOverride",checked:f.auto_approve_override,onChange:z=>j({...f,auto_approve_override:z.target.checked}),className:"rounded"}),r.jsx("label",{htmlFor:"autoApproveOverride",className:"text-sm text-gray-700",children:"Allow Auto-Approve Override"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Risk Override (0-1)"}),r.jsx("input",{type:"number",min:"0",max:"1",step:"0.05",value:f.max_risk_override,onChange:z=>j({...f,max_risk_override:parseFloat(z.target.value)}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"})]})]}),x==="escalation"&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Escalation Level (1-5)"}),r.jsx("input",{type:"number",min:"1",max:"5",value:f.escalation_level,onChange:z=>j({...f,escalation_level:parseInt(z.target.value)}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"1 = Junior, 2 = Mid, 3 = Senior, 4 = Manager, 5 = Director"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"bypassQueue",checked:f.bypass_queue,onChange:z=>j({...f,bypass_queue:z.target.checked}),className:"rounded"}),r.jsx("label",{htmlFor:"bypassQueue",className:"text-sm text-gray-700",children:"Bypass Normal Approval Queue"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),r.jsx("input",{type:"text",value:f.message,onChange:z=>j({...f,message:z.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500",placeholder:"Message to display when rule triggers"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority (0-100)"}),r.jsx("input",{type:"number",min:"0",max:"100",value:f.priority,onChange:z=>j({...f,priority:parseInt(z.target.value)}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Higher priority rules are evaluated first"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"ruleEnabled",checked:f.enabled,onChange:z=>j({...f,enabled:z.target.checked}),className:"rounded"}),r.jsx("label",{htmlFor:"ruleEnabled",className:"text-sm text-gray-700",children:"Rule Enabled"})]})]}),r.jsxs("div",{className:"p-4 border-t flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>{h(!1),j(null)},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Cancel"}),r.jsxs("button",{onClick:$,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2",children:[r.jsx(eu,{size:16})," Save Rule"]})]})]})})}function le(){return k?r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto m-4",children:[r.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[r.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[r.jsx(zt,{})," Test Risk Rules"]}),r.jsx("button",{onClick:()=>{v(!1),O(null)},className:"text-gray-500 hover:text-gray-700",children:r.jsx(ot,{size:20})})]}),r.jsxs("div",{className:"p-4 space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Test Input Data (JSON)"}),r.jsx("textarea",{value:R,onChange:I=>L(I.target.value),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 font-mono text-sm",rows:10,placeholder:`{
  "axial_load_dead": 1500,
  "axial_load_live": 700,
  "safe_bearing_capacity": 80,
  "column_width": 0.4
}`})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx("button",{onClick:ne,disabled:w,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center gap-2 disabled:opacity-50",children:w?r.jsxs(r.Fragment,{children:[r.jsx(yt,{className:"animate-spin"})," Testing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(zt,{})," Run Test"]})}),r.jsxs("button",{onClick:()=>L(`{
  "axial_load_dead": 600,
  "axial_load_live": 400,
  "safe_bearing_capacity": 200,
  "column_width": 0.4,
  "column_depth": 0.4,
  "concrete_grade": "M25",
  "steel_grade": "Fe415"
}`),className:"px-4 py-2 text-gray-600 hover:text-gray-800 flex items-center gap-2",children:[r.jsx(Zp,{})," Load Sample Data"]})]}),A&&r.jsxs("div",{className:"mt-4",children:[r.jsx("h4",{className:"font-medium mb-2",children:"Test Results"}),A.error?r.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-800",children:[r.jsx(It,{className:"inline mr-2"}),A.error]}):r.jsx("div",{className:"bg-gray-50 border rounded-lg p-4 font-mono text-sm overflow-x-auto",children:r.jsx("pre",{children:JSON.stringify(A,null,2)})})]})]})]})}):null}return r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[r.jsx(Xl,{className:"text-blue-600"}),"Risk Rules Management"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Configure dynamic risk rules for automated routing decisions"})]}),c&&r.jsxs("div",{className:"mb-4 bg-red-50 border border-red-200 rounded-lg p-4 text-red-800 flex items-center gap-2",children:[r.jsx(It,{}),c,r.jsx("button",{onClick:()=>d(null),className:"ml-auto",children:r.jsx(ot,{})})]}),u&&r.jsxs("div",{className:"mb-4 bg-green-50 border border-green-200 rounded-lg p-4 text-green-800 flex items-center gap-2",children:[r.jsx(Be,{}),u]}),r.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Deliverable Type:"}),r.jsx("select",{value:n,onChange:I=>s(I.target.value),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 min-w-[250px]",disabled:l||e.length===0,children:e.length===0?r.jsx("option",{value:"",children:"No workflows available"}):r.jsxs(r.Fragment,{children:[!n&&r.jsx("option",{value:"",children:"Select a workflow..."}),e.map(I=>r.jsxs("option",{value:I.value,children:[I.label," (",I.discipline,") ",I.status!=="active"?`[${I.status}]`:""]},I.value))]})})]}),r.jsxs("div",{className:"flex gap-2 ml-auto",children:[r.jsxs("button",{onClick:()=>ve(n),disabled:l||!n,className:"px-4 py-2 text-gray-600 hover:text-gray-800 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(yt,{className:l?"animate-spin":""})," Refresh"]}),r.jsxs("button",{onClick:()=>v(!0),disabled:!n||!a,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(zt,{})," Test Rules"]}),r.jsxs("button",{onClick:()=>te(),disabled:l||!a||!n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(eu,{})," Save Changes"]})]})]}),r.jsx("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(ac,{className:"text-blue-600 mt-1 flex-shrink-0"}),r.jsxs("div",{className:"text-sm text-blue-800",children:[r.jsx("strong",{children:"Condition Syntax:"})," Use variables like"," ",r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"$input.field_name"}),","," ",r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"$step1.output_variable"}),","," ",r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"$context.user_id"}),", or"," ",r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"$assessment.safety_risk"}),".",r.jsx("br",{}),"Supported operators: ",r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:">"}),","," ",r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"<"}),","," ",r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:">="}),","," ",r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"<="}),","," ",r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"=="}),","," ",r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"!="}),","," ",r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"IN"}),","," ",r.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"NOT IN"})]})]})}),l&&!a&&n&&r.jsxs("div",{className:"flex items-center justify-center py-12",children:[r.jsx(yt,{className:"animate-spin text-blue-600 mr-2",size:24}),r.jsx("span",{className:"text-gray-600",children:"Loading risk rules..."})]}),!l&&e.length>0&&!n&&r.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[r.jsx(Xl,{className:"mx-auto text-gray-400 mb-4",size:48}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select a Workflow"}),r.jsx("p",{className:"text-gray-600",children:"Choose a deliverable type from the dropdown above to configure its risk rules."})]}),a&&n&&r.jsxs("div",{children:[_("global",a.global_rules||[]),_("step",a.step_rules||[]),_("exception",a.exception_rules||[]),_("escalation",a.escalation_rules||[])]}),!l&&e.length===0&&r.jsxs("div",{className:"text-center py-12 bg-yellow-50 rounded-lg border border-yellow-200",children:[r.jsx(It,{className:"mx-auto text-yellow-500 mb-4",size:48}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Workflows Configured"}),r.jsx("p",{className:"text-gray-600 mb-4",children:"Please create a workflow first before configuring risk rules."}),r.jsxs("a",{href:"/workflows",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[r.jsx(gt,{})," Create Workflow"]})]}),U(),le()]})}const Gs="http://localhost:8000";function ij(){var A;const[e,t]=y.useState(!0),[n,s]=y.useState(null),[a,i]=y.useState(null),[l,o]=y.useState([]),[c,d]=y.useState(null),[u,m]=y.useState(null),[f,j]=y.useState([]),[x,b]=y.useState(7);y.useEffect(()=>{N(),h()},[]),y.useEffect(()=>{c&&(p(c),g(c,x))},[c,x]);const N=async()=>{try{const O=await fetch(`${Gs}/api/v1/versions/stats`);if(O.ok){const w=await O.json();i(w)}}catch(O){console.error("Failed to fetch stats:",O),i({total_schemas:8,schemas_with_variants:2,total_variants:4,active_variants:3,total_experiments:2,running_experiments:1,completed_experiments:1})}},h=async()=>{try{const O=await fetch(`${Gs}/api/v1/workflows/`);if(O.ok){const w=await O.json();o(w),w.length>0&&d(w[0].id)}}catch(O){console.error("Failed to fetch schemas:",O);const w=[{id:"demo-1",deliverable_type:"foundation_design",display_name:"Foundation Design",discipline:"civil"},{id:"demo-2",deliverable_type:"rcc_beam_design",display_name:"RCC Beam Design",discipline:"structural"}];o(w),d(w[0].id)}finally{t(!1)}},p=async O=>{try{const w=await fetch(`${Gs}/api/v1/performance/schemas/${O}/summary`);if(w.ok){const W=await w.json();m(W)}}catch(w){console.error("Failed to fetch schema performance:",w),m({schema_id:O,deliverable_type:"foundation_design",display_name:"Foundation Design",discipline:"civil",current_version:1,status:"active",total_executions:156,successful_executions:142,failed_executions:14,avg_execution_time_ms:1250,avg_risk_score:.28,success_rate:.91,active_variants:2,active_experiments:1,execution_trend:"up",success_rate_trend:"stable"})}},g=async(O,w)=>{try{const W=await fetch(`${Gs}/api/v1/performance/schemas/${O}/trends?days=${w}`);if(W.ok){const V=await W.json();j(V)}}catch(W){console.error("Failed to fetch trends:",W);const V=[];for(let Y=w-1;Y>=0;Y--){const K=new Date;K.setDate(K.getDate()-Y),V.push({period:K.toISOString().split("T")[0],total_executions:Math.floor(Math.random()*20)+10,successful_executions:Math.floor(Math.random()*18)+8,failed_executions:Math.floor(Math.random()*3),avg_execution_time_ms:Math.floor(Math.random()*500)+1e3,success_rate:Math.random()*.15+.85})}j(V)}},k=O=>{switch(O){case"up":return r.jsx(di,{className:"w-4 h-4 text-green-500"});case"down":return r.jsx(rf,{className:"w-4 h-4 text-red-500"});default:return r.jsx(ef,{className:"w-4 h-4 text-gray-500"})}},v=O=>O==null?"N/A":O>=1e3?`${(O/1e3).toFixed(1)}k`:O.toString(),R=O=>O==null?"N/A":`${(O*100).toFixed(1)}%`,L=O=>O==null?"N/A":O>=1e3?`${(O/1e3).toFixed(2)}s`:`${O}ms`;return e?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(yt,{className:"w-8 h-8 animate-spin text-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Performance Dashboard"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Monitor schema performance, A/B testing, and version metrics"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs(Ue,{to:"/experiments",className:"btn btn-secondary flex items-center",children:[r.jsx(rn,{className:"w-4 h-4 mr-2"}),"A/B Testing"]}),r.jsxs("button",{onClick:()=>{N(),h()},className:"btn btn-primary flex items-center",children:[r.jsx(yt,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-4",children:[r.jsx("div",{className:"card",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(xn,{className:"w-8 h-8 text-blue-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Total Schemas"}),r.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:(a==null?void 0:a.total_schemas)||0})]})]})}),r.jsx("div",{className:"card",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(rn,{className:"w-8 h-8 text-purple-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Active Variants"}),r.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:(a==null?void 0:a.active_variants)||0})]})]})}),r.jsx("div",{className:"card",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Tt,{className:"w-8 h-8 text-green-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Running Experiments"}),r.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:(a==null?void 0:a.running_experiments)||0})]})]})}),r.jsx("div",{className:"card",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx(Be,{className:"w-8 h-8 text-emerald-600"}),r.jsxs("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-500",children:"Completed Experiments"}),r.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:(a==null?void 0:a.completed_experiments)||0})]})]})})]}),r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Schema Performance"}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("select",{value:x,onChange:O=>b(parseInt(O.target.value)),className:"form-select rounded-md border-gray-300",children:[r.jsx("option",{value:7,children:"Last 7 days"}),r.jsx("option",{value:14,children:"Last 14 days"}),r.jsx("option",{value:30,children:"Last 30 days"})]}),r.jsx("select",{value:c||"",onChange:O=>d(O.target.value),className:"form-select rounded-md border-gray-300",children:l.map(O=>r.jsx("option",{value:O.id,children:O.display_name||O.deliverable_type},O.id))})]})]}),u&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Success Rate"}),k(u.success_rate_trend)]}),r.jsx("div",{className:"mt-2 flex items-baseline",children:r.jsx("span",{className:"text-2xl font-bold text-gray-900",children:R(u.success_rate)})}),r.jsxs("div",{className:"mt-1 flex items-center text-xs text-gray-500",children:[r.jsx(Be,{className:"w-3 h-3 mr-1 text-green-500"}),u.successful_executions," successful"]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Total Executions"}),k(u.execution_trend)]}),r.jsx("div",{className:"mt-2 flex items-baseline",children:r.jsx("span",{className:"text-2xl font-bold text-gray-900",children:v(u.total_executions)})}),r.jsxs("div",{className:"mt-1 flex items-center text-xs text-gray-500",children:[r.jsx(cc,{className:"w-3 h-3 mr-1 text-red-500"}),u.failed_executions," failed"]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Avg Execution Time"}),r.jsx(hn,{className:"w-4 h-4 text-gray-400"})]}),r.jsx("div",{className:"mt-2 flex items-baseline",children:r.jsx("span",{className:"text-2xl font-bold text-gray-900",children:L(u.avg_execution_time_ms)})}),r.jsx("div",{className:"mt-1 text-xs text-gray-500",children:"Per workflow execution"})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Avg Risk Score"}),r.jsx(It,{className:`w-4 h-4 ${u.avg_risk_score>.7?"text-red-500":u.avg_risk_score>.4?"text-yellow-500":"text-green-500"}`})]}),r.jsx("div",{className:"mt-2 flex items-baseline",children:r.jsx("span",{className:"text-2xl font-bold text-gray-900",children:((A=u.avg_risk_score)==null?void 0:A.toFixed(2))||"N/A"})}),r.jsx("div",{className:"mt-1",children:r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:r.jsx("div",{className:`h-1.5 rounded-full ${u.avg_risk_score>.7?"bg-red-500":u.avg_risk_score>.4?"bg-yellow-500":"bg-green-500"}`,style:{width:`${(u.avg_risk_score||0)*100}%`}})})})]})]})]}),r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[r.jsx(gs,{className:"inline w-5 h-5 mr-2"}),"Execution Trends"]}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full mr-1"}),"Successful"]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx("span",{className:"w-3 h-3 bg-red-500 rounded-full mr-1"}),"Failed"]})]})]}),f.length>0?r.jsx("div",{className:"overflow-x-auto",children:r.jsx("div",{className:"flex items-end space-x-2 h-48 min-w-[600px] px-4",children:f.map((O,w)=>{const W=Math.max(...f.map(K=>K.total_executions))||1,V=O.total_executions/W*100,Y=O.successful_executions/W*100;return r.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[r.jsxs("div",{className:"relative w-full",style:{height:`${V}%`,minHeight:"4px"},children:[r.jsx("div",{className:"absolute bottom-0 w-full bg-red-400 rounded-t",style:{height:"100%"}}),r.jsx("div",{className:"absolute bottom-0 w-full bg-green-500 rounded-t",style:{height:`${Y/V*100}%`}})]}),r.jsx("div",{className:"mt-2 text-xs text-gray-500 transform -rotate-45 origin-top-left",children:new Date(O.period).toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},w)})})}):r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No trend data available"})]}),u&&(u.active_variants>0||u.active_experiments>0)&&r.jsx("div",{className:"card bg-gradient-to-r from-purple-50 to-indigo-50 border-purple-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"text-lg font-semibold text-purple-900",children:[r.jsx(rn,{className:"inline w-5 h-5 mr-2"}),"A/B Testing Active"]}),r.jsxs("p",{className:"mt-1 text-sm text-purple-700",children:[u.active_variants," variant(s) and ",u.active_experiments," experiment(s) running"]})]}),r.jsx(Ue,{to:"/experiments",className:"btn bg-purple-600 text-white hover:bg-purple-700",children:"View Experiments"})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx(Ue,{to:"/workflows",className:"card hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:r.jsx(xn,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h3",{className:"font-medium text-gray-900",children:"Manage Workflows"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Create and configure workflow schemas"})]})]})}),r.jsx(Ue,{to:"/experiments",className:"card hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:r.jsx(rn,{className:"w-6 h-6 text-purple-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h3",{className:"font-medium text-gray-900",children:"A/B Testing"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Set up and monitor experiments"})]})]})}),r.jsx(Ue,{to:"/executions",className:"card hover:shadow-lg transition-shadow",children:r.jsxs("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:r.jsx(Tt,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{className:"ml-4",children:[r.jsx("h3",{className:"font-medium text-gray-900",children:"Execution History"}),r.jsx("p",{className:"text-sm text-gray-500",children:"View workflow execution details"})]})]})})]})]})}const Ar="http://localhost:8000";function lj(){const[e,t]=y.useState(!0),[n,s]=y.useState([]),[a,i]=y.useState([]),[l,o]=y.useState(null),[c,d]=y.useState(!1),[u,m]=y.useState("all");y.useEffect(()=>{f(),j()},[u]);const f=async()=>{try{const v=u!=="all"?`?status=${u}`:"",R=await fetch(`${Ar}/api/v1/experiments/statuses${v}`);if(R.ok){const L=await R.json();s(L)}}catch(v){console.error("Failed to fetch experiments:",v),s([{experiment_id:"exp-1",experiment_key:"foundation_hitl_test",experiment_name:"Foundation HITL Threshold Test",deliverable_type:"foundation_design",schema_name:"Foundation Design",status:"running",primary_metric:"success_rate",min_sample_size:100,confidence_level:.95,start_date:new Date(Date.now()-7*24*60*60*1e3).toISOString(),end_date:new Date(Date.now()+14*24*60*60*1e3).toISOString(),variant_count:2,total_executions:156,min_variant_executions:72,sample_size_reached:!1,progress_percentage:72,winning_variant_key:null,is_statistically_significant:!1,p_value:null,variants:[{variant_key:"control",variant_name:"Control (v1)",is_control:!0,traffic_percentage:50,total_executions:84,conversion_rate:.91},{variant_key:"treatment_a",variant_name:"Stricter HITL",is_control:!1,traffic_percentage:50,total_executions:72,conversion_rate:.94}]},{experiment_id:"exp-2",experiment_key:"beam_optimization",experiment_name:"Beam Design Optimization",deliverable_type:"rcc_beam_design",schema_name:"RCC Beam Design",status:"completed",primary_metric:"success_rate",min_sample_size:100,confidence_level:.95,start_date:new Date(Date.now()-30*24*60*60*1e3).toISOString(),end_date:new Date(Date.now()-5*24*60*60*1e3).toISOString(),variant_count:2,total_executions:245,min_variant_executions:118,sample_size_reached:!0,progress_percentage:100,winning_variant_key:"treatment_a",is_statistically_significant:!0,p_value:.023,variants:[{variant_key:"control",variant_name:"Original",is_control:!0,traffic_percentage:50,total_executions:127,conversion_rate:.87},{variant_key:"treatment_a",variant_name:"Optimized Rules",is_control:!1,traffic_percentage:50,total_executions:118,conversion_rate:.93}]}])}finally{t(!1)}},j=async()=>{try{const v=await fetch(`${Ar}/api/v1/versions/variants?status=active`);if(v.ok){const R=await v.json();i(R)}}catch(v){console.error("Failed to fetch variants:",v)}},x=async v=>{try{(await fetch(`${Ar}/api/v1/experiments/${v}/start?started_by=user123`,{method:"POST"})).ok&&f()}catch(R){console.error("Failed to start experiment:",R)}},b=async v=>{try{(await fetch(`${Ar}/api/v1/experiments/${v}/pause?paused_by=user123`,{method:"POST"})).ok&&f()}catch(R){console.error("Failed to pause experiment:",R)}},N=async v=>{try{(await fetch(`${Ar}/api/v1/experiments/${v}/complete?completed_by=user123`,{method:"POST"})).ok&&f()}catch(R){console.error("Failed to complete experiment:",R)}},h=v=>({draft:"bg-gray-100 text-gray-800",running:"bg-green-100 text-green-800",paused:"bg-yellow-100 text-yellow-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800"})[v]||"bg-gray-100 text-gray-800",p=v=>({draft:r.jsx(hn,{className:"w-4 h-4"}),running:r.jsx(Tt,{className:"w-4 h-4"}),paused:r.jsx(Yd,{className:"w-4 h-4"}),completed:r.jsx(at,{className:"w-4 h-4"}),cancelled:r.jsx(ot,{className:"w-4 h-4"})})[v]||r.jsx(ac,{className:"w-4 h-4"}),g=v=>v?new Date(v).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"N/A",k=v=>{o(l===v?null:v)};return e?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx(yt,{className:"w-8 h-8 animate-spin text-primary-600"})}):r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"A/B Testing"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Manage experiments and compare schema variants"})]}),r.jsxs("div",{className:"flex space-x-3",children:[r.jsxs(Ue,{to:"/performance",className:"btn btn-secondary flex items-center",children:[r.jsx(di,{className:"w-4 h-4 mr-2"}),"Performance"]}),r.jsxs("button",{onClick:()=>d(!0),className:"btn btn-primary flex items-center",children:[r.jsx(gt,{className:"w-4 h-4 mr-2"}),"New Experiment"]})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:"text-sm text-gray-500",children:"Filter by status:"}),r.jsx("div",{className:"flex space-x-2",children:["all","running","draft","paused","completed"].map(v=>r.jsx("button",{onClick:()=>m(v),className:`px-3 py-1 rounded-full text-sm capitalize ${u===v?"bg-primary-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:v},v))})]}),r.jsx("div",{className:"space-y-4",children:n.length===0?r.jsxs("div",{className:"card text-center py-12",children:[r.jsx(rn,{className:"w-12 h-12 mx-auto text-gray-400"}),r.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No experiments found"}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Create your first A/B test to compare schema variants"}),r.jsx("button",{onClick:()=>d(!0),className:"mt-4 btn btn-primary",children:"Create Experiment"})]}):n.map(v=>{var R;return r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>k(v.experiment_id),children:[r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:`p-2 rounded-lg ${v.status==="running"?"bg-green-100":v.status==="completed"?"bg-blue-100":"bg-gray-100"}`,children:r.jsx(rn,{className:`w-5 h-5 ${v.status==="running"?"text-green-600":v.status==="completed"?"text-blue-600":"text-gray-600"}`})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:v.experiment_name}),r.jsxs("p",{className:"text-sm text-gray-500",children:[v.deliverable_type,"  ",v.variant_count," variants"]})]})]}),r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsxs("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${h(v.status)}`,children:[p(v.status),r.jsx("span",{className:"ml-1 capitalize",children:v.status})]}),l===v.experiment_id?r.jsx(xr,{className:"w-5 h-5 text-gray-400"}):r.jsx(zn,{className:"w-5 h-5 text-gray-400"})]})]}),r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[r.jsx("span",{className:"text-gray-500",children:"Sample Progress"}),r.jsxs("span",{className:"font-medium",children:[v.min_variant_executions," / ",v.min_sample_size,"(",Math.round(v.progress_percentage),"%)"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:`h-2 rounded-full ${v.progress_percentage>=100?"bg-green-500":v.progress_percentage>=50?"bg-blue-500":"bg-yellow-500"}`,style:{width:`${Math.min(100,v.progress_percentage)}%`}})})]}),l===v.experiment_id&&r.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Primary Metric"}),r.jsx("div",{className:"text-lg font-semibold capitalize",children:v.primary_metric.replace("_"," ")})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Total Executions"}),r.jsx("div",{className:"text-lg font-semibold",children:v.total_executions})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Confidence Level"}),r.jsxs("div",{className:"text-lg font-semibold",children:[(v.confidence_level*100).toFixed(0),"%"]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Timeline"}),r.jsxs("div",{className:"text-sm font-medium",children:[g(v.start_date)," - ",g(v.end_date)]})]})]}),r.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Variant Performance"}),r.jsx("div",{className:"space-y-3",children:v.variants.map((L,A)=>r.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg border ${v.winning_variant_key===L.variant_key?"border-green-500 bg-green-50":"border-gray-200 bg-white"}`,children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[L.is_control?r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs font-medium rounded",children:"Control"}):r.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 text-xs font-medium rounded",children:"Treatment"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:L.variant_name}),r.jsx("div",{className:"text-sm text-gray-500",children:L.variant_key})]}),v.winning_variant_key===L.variant_key&&r.jsx("span",{className:"px-2 py-1 bg-green-500 text-white text-xs font-medium rounded",children:"Winner"})]}),r.jsxs("div",{className:"flex items-center space-x-6",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Traffic"}),r.jsxs("div",{className:"font-semibold",children:[L.traffic_percentage,"%"]})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Executions"}),r.jsx("div",{className:"font-semibold",children:L.total_executions})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Conversion"}),r.jsx("div",{className:`font-semibold ${v.winning_variant_key===L.variant_key?"text-green-600":""}`,children:L.conversion_rate?(L.conversion_rate*100).toFixed(1)+"%":"N/A"})]})]})]},A))}),v.status==="completed"&&r.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[r.jsxs("h4",{className:"font-medium text-blue-900 flex items-center",children:[r.jsx(nf,{className:"w-4 h-4 mr-2"}),"Experiment Results"]}),r.jsx("div",{className:"mt-2 text-sm text-blue-800",children:v.is_statistically_significant?r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:v.winning_variant_key})," is the winner with statistical significance (p-value: ",(R=v.p_value)==null?void 0:R.toFixed(4),")"]}):"Results are not statistically significant. Consider collecting more data."})]}),r.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[v.status==="draft"&&r.jsxs("button",{onClick:()=>x(v.experiment_id),className:"btn btn-primary flex items-center",children:[r.jsx(zt,{className:"w-4 h-4 mr-2"}),"Start Experiment"]}),v.status==="running"&&r.jsxs(r.Fragment,{children:[r.jsxs("button",{onClick:()=>b(v.experiment_id),className:"btn btn-secondary flex items-center",children:[r.jsx(Yd,{className:"w-4 h-4 mr-2"}),"Pause"]}),r.jsxs("button",{onClick:()=>N(v.experiment_id),className:"btn btn-primary flex items-center",children:[r.jsx(at,{className:"w-4 h-4 mr-2"}),"Complete"]})]}),v.status==="paused"&&r.jsxs("button",{onClick:()=>x(v.experiment_id),className:"btn btn-primary flex items-center",children:[r.jsx(zt,{className:"w-4 h-4 mr-2"}),"Resume"]})]})]})]},v.experiment_id)})}),r.jsxs("div",{className:"card bg-gradient-to-r from-indigo-50 to-purple-50 border-indigo-200",children:[r.jsx("h3",{className:"font-semibold text-indigo-900",children:"How A/B Testing Works"}),r.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-indigo-800",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx(at,{className:"w-4 h-4 mr-2 mt-0.5 text-indigo-600"}),"Create variants with different configurations (e.g., risk thresholds)"]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(at,{className:"w-4 h-4 mr-2 mt-0.5 text-indigo-600"}),"Traffic is automatically split between variants during execution"]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(at,{className:"w-4 h-4 mr-2 mt-0.5 text-indigo-600"}),"Statistical analysis determines the winning variant"]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(at,{className:"w-4 h-4 mr-2 mt-0.5 text-indigo-600"}),"Adopt the winner configuration with confidence"]})]})]})]})}const ye="http://localhost:8000";async function oj(){const e=await fetch(`${ye}/api/v1/skg/costs/catalogs`);if(!e.ok){const t=await e.json();throw new Error(t.detail||"Failed to fetch cost catalogs")}return e.json()}async function cj(e){const t=await fetch(`${ye}/api/v1/skg/costs/catalogs/${e}`);if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to fetch cost catalog")}return t.json()}async function dj(e){const t=await fetch(`${ye}/api/v1/skg/costs/catalogs`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to create cost catalog")}return t.json()}async function uj(e,t=null,n=50){let s=`${ye}/api/v1/skg/costs/items?limit=${n}`;e&&(s+=`&catalog_id=${e}`),t&&(s+=`&category=${t}`);const a=await fetch(s);if(!a.ok){const i=await a.json();throw new Error(i.detail||"Failed to fetch cost items")}return a.json()}async function mj(e,t=null,n=null,s=10){const a=await fetch(`${ye}/api/v1/skg/costs/search`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,catalog_id:t,category:n,limit:s})});if(!a.ok){const i=await a.json();throw new Error(i.detail||"Failed to search costs")}return a.json()}async function pj(e,t){const n=await fetch(`${ye}/api/v1/skg/costs/regional/${e}?region=${encodeURIComponent(t)}`);if(!n.ok){const s=await n.json();throw new Error(s.detail||"Failed to get regional cost")}return n.json()}async function fj(){const e=await fetch(`${ye}/api/v1/skg/rules/categories`);if(!e.ok){const t=await e.json();throw new Error(t.detail||"Failed to fetch rule categories")}return e.json()}async function hj(e=null,t=null,n=50){let s=`${ye}/api/v1/skg/rules?limit=${n}`;e&&(s+=`&discipline=${e}`),t&&(s+=`&rule_type=${t}`);const a=await fetch(s);if(!a.ok){const i=await a.json();throw new Error(i.detail||"Failed to fetch rules")}return a.json()}async function xj(e){const t=await fetch(`${ye}/api/v1/skg/rules/${e}`);if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to fetch rule")}return t.json()}async function gj(e){const t=await fetch(`${ye}/api/v1/skg/rules`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to create rule")}return t.json()}async function yj(e,t=null,n=null){const s=await fetch(`${ye}/api/v1/skg/rules/evaluate`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input_data:e,discipline:t,workflow_type:n})});if(!s.ok){const a=await s.json();throw new Error(a.detail||"Failed to evaluate rules")}return s.json()}async function vj(e,t=null,n=null,s=10){const a=await fetch(`${ye}/api/v1/skg/rules/search`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,discipline:t,rule_type:n,limit:s})});if(!a.ok){const i=await a.json();throw new Error(i.detail||"Failed to search rules")}return a.json()}async function jj(e=null,t=null,n=50){let s=`${ye}/api/v1/skg/lessons?limit=${n}`;e&&(s+=`&discipline=${e}`),t&&(s+=`&issue_category=${t}`);const a=await fetch(s);if(!a.ok){const i=await a.json();throw new Error(i.detail||"Failed to fetch lessons")}return a.json()}async function _j(e){const t=await fetch(`${ye}/api/v1/skg/lessons/${e}`);if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to fetch lesson")}return t.json()}async function wj(e){const t=await fetch(`${ye}/api/v1/skg/lessons`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to create lesson")}return t.json()}async function Nj(e,t=null,n=null,s=10){const a=await fetch(`${ye}/api/v1/skg/lessons/search`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,discipline:t,issue_category:n,limit:s})});if(!a.ok){const i=await a.json();throw new Error(i.detail||"Failed to search lessons")}return a.json()}async function bj(e,t=5){const n=await fetch(`${ye}/api/v1/skg/lessons/relevant/${e}?limit=${t}`);if(!n.ok){const s=await n.json();throw new Error(s.detail||"Failed to fetch relevant lessons")}return n.json()}async function kj(){const e=await fetch(`${ye}/api/v1/skg/lessons/analytics/summary`);if(!e.ok){const t=await e.json();throw new Error(t.detail||"Failed to fetch lesson analytics")}return e.json()}async function Sj(){const e=await fetch(`${ye}/api/v1/skg/stats`);if(!e.ok){const t=await e.json();throw new Error(t.detail||"Failed to fetch SKG statistics")}return e.json()}async function Cj(){const e=await fetch(`${ye}/api/v1/skg/health`);if(!e.ok){const t=await e.json();throw new Error(t.detail||"Failed to fetch SKG health")}return e.json()}const bn={getCostCatalogs:oj,getCostCatalog:cj,createCostCatalog:dj,getCostItems:uj,searchCosts:mj,getRegionalCost:pj,getRuleCategories:fj,getRules:hj,getRule:xj,createRule:gj,evaluateRules:yj,searchRules:vj,getLessons:jj,getLesson:_j,createLesson:wj,searchLessons:Nj,getRelevantLessons:bj,getLessonAnalytics:kj,getSKGStats:Sj,getSKGHealth:Cj},Ej={total_cost_items:150,total_rules:25,total_lessons:42,total_relationships:85,cost_catalogs:3,rule_categories:8},wu=[{id:"1",rule_code:"IS456_REBAR_MIN_SPACING",rule_name:"Minimum Rebar Spacing",discipline:"structural",rule_type:"code_provision",severity:"critical",source_code:"IS 456:2000",source_clause:"Clause 26.3.2",condition_expression:"$input.rebar_spacing < 25",recommendation:"Minimum clear spacing between bars shall be 25mm or bar diameter, whichever is greater"},{id:"2",rule_code:"IS456_COVER_FOOTING",rule_name:"Minimum Cover for Footings",discipline:"civil",rule_type:"code_provision",severity:"high",source_code:"IS 456:2000",source_clause:"Clause 26.4.2.2",condition_expression:"$input.cover < 50",recommendation:"Minimum cover for footings cast against soil should be 50mm"},{id:"3",rule_code:"IS456_STRIP_SLAB",rule_name:"Slab Formwork Stripping Time",discipline:"structural",rule_type:"stripping_time",severity:"medium",source_code:"IS 456:2000",source_clause:"Clause 11.3",condition_expression:"$input.stripping_days < 7",recommendation:"Slab formwork shall not be removed before 7 days"}],Rj=[{id:"1",lesson_code:"LL-FOUND-001",title:"Foundation Settlement Due to Inadequate Soil Investigation",discipline:"civil",issue_category:"design_error",severity:"high",issue_description:"Foundation settled 45mm due to assumed SBC without site-specific investigation.",solution:"Conducted additional boreholes, redesigned foundation with pile support.",cost_impact:-25e4,schedule_impact_days:21,tags:["foundation","soil","sbc","settlement"]},{id:"2",lesson_code:"LL-STRUC-002",title:"Rebar Congestion at Beam-Column Junction",discipline:"structural",issue_category:"coordination_issue",severity:"medium",issue_description:"Could not pour concrete properly at junction due to rebar congestion.",solution:"Staggered lap splices, used bundled bars, increased concrete slump.",cost_impact:-5e4,schedule_impact_days:5,tags:["rebar","congestion","junction","concrete"]}],Tj=[{id:"1",item_code:"STL-TMT-16",item_name:"TMT Steel Bar 16mm Fe500",category:"steel",unit:"kg",base_price:72.5,currency:"INR"},{id:"2",item_code:"CON-M25-RMC",item_name:"Ready Mix Concrete M25",category:"concrete",unit:"m",base_price:5800,currency:"INR"},{id:"3",item_code:"FWK-PLY-18",item_name:"Plywood Formwork 18mm",category:"formwork",unit:"m",base_price:85,currency:"INR"}];function $j(){const[e,t]=y.useState("overview"),[n,s]=y.useState(!0),[a,i]=y.useState(null),[l,o]=y.useState([]),[c,d]=y.useState([]),[u,m]=y.useState([]),[f,j]=y.useState(""),[x,b]=y.useState(null),[N,h]=y.useState("rules"),[p,g]=y.useState({});y.useEffect(()=>{k()},[]);const k=async()=>{try{s(!0);try{const w=await bn.getSKGStats();i(w)}catch{i(Ej)}try{const w=await bn.getRules(null,null,20);o(w)}catch{o(wu)}try{const w=await bn.getLessons(null,null,20);d(w)}catch{d(Rj)}try{const w=await bn.getCostItems(null,null,20);m(w)}catch{m(Tj)}}catch(w){console.error("Error fetching SKG data:",w)}finally{s(!1)}},v=async()=>{if(f.trim())try{let w;N==="rules"?w=await bn.searchRules(f,null,null,10):N==="lessons"?w=await bn.searchLessons(f,null,null,10):w=await bn.searchCosts(f,null,null,10),b(w)}catch(w){console.error("Search error:",w),N==="rules"&&b(wu.filter(W=>W.rule_name.toLowerCase().includes(f.toLowerCase())))}},R=w=>{g(W=>({...W,[w]:!W[w]}))},L=w=>{switch(w){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";case"low":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},A=w=>{switch(w){case"civil":return"bg-blue-100 text-blue-800";case"structural":return"bg-purple-100 text-purple-800";case"architectural":return"bg-pink-100 text-pink-800";case"mep":return"bg-cyan-100 text-cyan-800";default:return"bg-gray-100 text-gray-800"}},O=w=>{if(!w)return"N/A";const W=Math.abs(w);return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(W)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Strategic Knowledge Graph"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Costs, Codes, and Lessons Learned - Your AI's domain knowledge repository"})]}),r.jsxs("button",{onClick:k,className:"btn-secondary flex items-center gap-2",disabled:n,children:[r.jsx(yt,{className:n?"animate-spin":""}),"Refresh"]})]}),a&&r.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-3 lg:grid-cols-6",children:[r.jsxs("div",{className:"card flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:r.jsx(Ua,{className:"w-6 h-6 text-blue-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Cost Items"}),r.jsx("p",{className:"text-2xl font-bold",children:a.total_cost_items||0})]})]}),r.jsxs("div",{className:"card flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:r.jsx(Gd,{className:"w-6 h-6 text-purple-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Rules"}),r.jsx("p",{className:"text-2xl font-bold",children:a.total_rules||0})]})]}),r.jsxs("div",{className:"card flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:r.jsx(gr,{className:"w-6 h-6 text-green-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Lessons"}),r.jsx("p",{className:"text-2xl font-bold",children:a.total_lessons||0})]})]}),r.jsxs("div",{className:"card flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:r.jsx(sc,{className:"w-6 h-6 text-orange-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Catalogs"}),r.jsx("p",{className:"text-2xl font-bold",children:a.cost_catalogs||0})]})]}),r.jsxs("div",{className:"card flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-cyan-100 rounded-lg",children:r.jsx(Be,{className:"w-6 h-6 text-cyan-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Categories"}),r.jsx("p",{className:"text-2xl font-bold",children:a.rule_categories||0})]})]}),r.jsxs("div",{className:"card flex items-center gap-4",children:[r.jsx("div",{className:"p-3 bg-pink-100 rounded-lg",children:r.jsx(He,{className:"w-6 h-6 text-pink-600"})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Relations"}),r.jsx("p",{className:"text-2xl font-bold",children:a.total_relationships||0})]})]})]}),r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:["overview","rules","lessons","costs","search"].map(w=>r.jsx("button",{onClick:()=>t(w),className:`py-4 px-1 border-b-2 font-medium text-sm capitalize ${e===w?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:w},w))})}),e==="overview"&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"card",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[r.jsx(Gd,{className:"text-purple-600"}),"Recent Rules"]}),r.jsx("div",{className:"space-y-3",children:l.slice(0,5).map(w=>r.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:w.rule_name}),r.jsxs("p",{className:"text-xs text-gray-500",children:[w.source_code," - ",w.source_clause]})]}),r.jsx("span",{className:`badge ${L(w.severity)}`,children:w.severity})]})},w.id))})]}),r.jsxs("div",{className:"card",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[r.jsx(gr,{className:"text-green-600"}),"Recent Lessons"]}),r.jsx("div",{className:"space-y-3",children:c.slice(0,5).map(w=>r.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:w.title}),r.jsx("p",{className:"text-xs text-gray-500",children:w.lesson_code})]}),r.jsx("span",{className:`badge ${L(w.severity)}`,children:w.severity})]}),w.cost_impact&&r.jsxs("p",{className:`text-xs mt-1 ${w.cost_impact<0?"text-red-600":"text-green-600"}`,children:["Impact: ",w.cost_impact<0?"-":"+",O(w.cost_impact)]})]},w.id))})]}),r.jsxs("div",{className:"card",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[r.jsx(Ua,{className:"text-blue-600"}),"Cost Database"]}),r.jsx("div",{className:"space-y-3",children:u.slice(0,5).map(w=>{var W;return r.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-sm",children:w.item_name}),r.jsx("p",{className:"text-xs text-gray-500",children:w.item_code})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("p",{className:"font-semibold text-primary-600",children:["",(W=w.base_price)==null?void 0:W.toLocaleString()]}),r.jsxs("p",{className:"text-xs text-gray-500",children:["per ",w.unit]})]})]},w.id)})})]})]}),e==="rules"&&r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Constructability Rules"}),r.jsxs("button",{className:"btn-primary flex items-center gap-2",children:[r.jsx(gt,{})," Add Rule"]})]}),r.jsx("div",{className:"space-y-4",children:l.map(w=>{var W;return r.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[r.jsxs("div",{className:"p-4 bg-gray-50 flex justify-between items-center cursor-pointer",onClick:()=>R(w.id),children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:`badge ${L(w.severity)}`,children:w.severity}),r.jsx("span",{className:`badge ${A(w.discipline)}`,children:w.discipline}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:w.rule_name}),r.jsx("p",{className:"text-sm text-gray-500",children:w.rule_code})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-sm text-gray-500",children:w.source_code}),p[w.id]?r.jsx(xr,{}):r.jsx(zn,{})]})]}),p[w.id]&&r.jsx("div",{className:"p-4 border-t bg-white",children:r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Source"}),r.jsxs("p",{children:[w.source_code," - ",w.source_clause]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Rule Type"}),r.jsx("p",{className:"capitalize",children:(W=w.rule_type)==null?void 0:W.replace("_"," ")})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Condition"}),r.jsx("code",{className:"block bg-gray-100 p-2 rounded text-sm mt-1",children:w.condition_expression})]}),r.jsxs("div",{className:"col-span-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Recommendation"}),r.jsx("p",{className:"text-sm mt-1",children:w.recommendation})]})]})})]},w.id)})})]}),e==="lessons"&&r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Lessons Learned"}),r.jsxs("button",{className:"btn-primary flex items-center gap-2",children:[r.jsx(gt,{})," Add Lesson"]})]}),r.jsx("div",{className:"space-y-4",children:c.map(w=>r.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[r.jsxs("div",{className:"p-4 bg-gray-50 flex justify-between items-center cursor-pointer",onClick:()=>R(`lesson-${w.id}`),children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:`badge ${L(w.severity)}`,children:w.severity}),r.jsx("span",{className:`badge ${A(w.discipline)}`,children:w.discipline}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:w.title}),r.jsx("p",{className:"text-sm text-gray-500",children:w.lesson_code})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[w.cost_impact&&r.jsxs("span",{className:`text-sm font-medium ${w.cost_impact<0?"text-red-600":"text-green-600"}`,children:[w.cost_impact<0?"-":"+",O(w.cost_impact)]}),p[`lesson-${w.id}`]?r.jsx(xr,{}):r.jsx(zn,{})]})]}),p[`lesson-${w.id}`]&&r.jsx("div",{className:"p-4 border-t bg-white",children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Issue Description"}),r.jsx("p",{className:"text-sm mt-1",children:w.issue_description})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Solution"}),r.jsx("p",{className:"text-sm mt-1",children:w.solution})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Cost Impact"}),r.jsxs("p",{className:`font-medium ${w.cost_impact<0?"text-red-600":"text-green-600"}`,children:[w.cost_impact<0?"-":"+",O(w.cost_impact)]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Schedule Impact"}),r.jsxs("p",{className:"font-medium",children:[w.schedule_impact_days," days"]})]})]}),w.tags&&r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:"Tags"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:w.tags.map((W,V)=>r.jsx("span",{className:"badge bg-gray-100 text-gray-700",children:W},V))})]})]})})]},w.id))})]}),e==="costs"&&r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Cost Database"}),r.jsxs("button",{className:"btn-primary flex items-center gap-2",children:[r.jsx(gt,{})," Add Cost Item"]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Code"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item Name"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),r.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Base Price"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(w=>{var W;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:w.item_code}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w.item_name}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:"badge bg-blue-100 text-blue-800 capitalize",children:w.category})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:w.unit}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-right font-medium text-gray-900",children:["",(W=w.base_price)==null?void 0:W.toLocaleString()]})]},w.id)})})]})})]}),e==="search"&&r.jsxs("div",{className:"card",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Semantic Search"}),r.jsxs("div",{className:"flex gap-4 mb-6",children:[r.jsxs("select",{value:N,onChange:w=>h(w.target.value),className:"input-field w-40",children:[r.jsx("option",{value:"rules",children:"Rules"}),r.jsx("option",{value:"lessons",children:"Lessons"}),r.jsx("option",{value:"costs",children:"Costs"})]}),r.jsxs("div",{className:"flex-1 relative",children:[r.jsx("input",{type:"text",value:f,onChange:w=>j(w.target.value),onKeyDown:w=>w.key==="Enter"&&v(),placeholder:"Search by natural language query...",className:"input-field w-full pl-10"}),r.jsx(hy,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]}),r.jsx("button",{onClick:v,className:"btn-primary",children:"Search"})]}),x&&r.jsxs("div",{className:"space-y-4",children:[r.jsxs("p",{className:"text-sm text-gray-500",children:[x.length," results found"]}),x.map((w,W)=>r.jsxs("div",{className:"p-4 border rounded-lg bg-gray-50",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:w.rule_name||w.title||w.item_name}),r.jsx("p",{className:"text-sm text-gray-500",children:w.rule_code||w.lesson_code||w.item_code})]}),w.similarity&&r.jsxs("span",{className:"badge bg-primary-100 text-primary-800",children:[(w.similarity*100).toFixed(1),"% match"]})]}),r.jsx("p",{className:"text-sm mt-2 text-gray-600",children:w.recommendation||w.issue_description||w.description||"No description"})]},W))]})]})]})}const Le="http://localhost:8000";async function Pj(e){const t=await fetch(`${Le}/api/v1/constructability/audit`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to run audit")}return t.json()}async function Fj(e,t,n=null){const s=await fetch(`${Le}/api/v1/constructability/audit/quick`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({design_data:e,requested_by:t,project_id:n,include_recommendations:!0})});if(!s.ok){const a=await s.json();throw new Error(a.detail||"Failed to run quick audit")}return s.json()}async function Lj(e,t,n="full"){const s=await fetch(`${Le}/api/v1/constructability/audit/execution/${e}?requested_by=${encodeURIComponent(t)}&audit_type=${n}`,{method:"POST"});if(!s.ok){const a=await s.json();throw new Error(a.detail||"Failed to audit execution")}return s.json()}async function Oj(e){const t=await fetch(`${Le}/api/v1/constructability/audits/${e}`);if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to fetch audit")}return t.json()}async function Dj(e=null,t=null,n=20){let s=`${Le}/api/v1/constructability/audits?limit=${n}`;e&&(s+=`&project_id=${e}`),t&&(s+=`&execution_id=${t}`);const a=await fetch(s);if(!a.ok){const i=await a.json();throw new Error(i.detail||"Failed to list audits")}return a.json()}async function Aj(e){const t=await fetch(`${Le}/api/v1/constructability/analyze/rebar`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to analyze rebar congestion")}return t.json()}async function Ij(e){const t=await fetch(`${Le}/api/v1/constructability/analyze/formwork`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to analyze formwork complexity")}return t.json()}async function Mj(e,t="standard"){const n=await fetch(`${Le}/api/v1/constructability/analyze/full?analysis_depth=${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const s=await n.json();throw new Error(s.detail||"Failed to run full analysis")}return n.json()}async function zj(e,t=null,n=null){let s=`${Le}/api/v1/constructability/report/red-flag`;const a=new URLSearchParams;t&&a.append("project_id",t),n&&a.append("project_name",n),a.toString()&&(s+=`?${a.toString()}`);const i=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!i.ok){const l=await i.json();throw new Error(l.detail||"Failed to generate Red Flag Report")}return i.json()}async function Bj(e,t=null){const n=await fetch(`${Le}/api/v1/constructability/report/mitigation-plan`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({analysis_result:e,project_id:t})});if(!n.ok){const s=await n.json();throw new Error(s.detail||"Failed to generate mitigation plan")}return n.json()}async function Uj(e){const t=await fetch(`${Le}/api/v1/constructability/report/${e}`);if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to fetch audit report")}return t.json()}async function Wj(e=null,t=null){let n=`${Le}/api/v1/constructability/flags`;const s=new URLSearchParams;e&&s.append("project_id",e),t&&s.append("severity",t),s.toString()&&(n+=`?${s.toString()}`);const a=await fetch(n);if(!a.ok){const i=await a.json();throw new Error(i.detail||"Failed to list flags")}return a.json()}async function Hj(e,t,n){const s=await fetch(`${Le}/api/v1/constructability/flags/${e}/resolve`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({resolution_notes:t,resolved_by:n})});if(!s.ok){const a=await s.json();throw new Error(a.detail||"Failed to resolve flag")}return s.json()}async function qj(e,t,n){const s=await fetch(`${Le}/api/v1/constructability/flags/${e}/accept`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({acceptance_notes:t,accepted_by:n})});if(!s.ok){const a=await s.json();throw new Error(a.detail||"Failed to accept flag")}return s.json()}async function Vj(e=null,t=30){let n=`${Le}/api/v1/constructability/stats?days=${t}`;e&&(n+=`&project_id=${e}`);const s=await fetch(n);if(!s.ok){const a=await s.json();throw new Error(a.detail||"Failed to fetch statistics")}return s.json()}async function Qj(){const e=await fetch(`${Le}/api/v1/constructability/health`);if(!e.ok){const t=await e.json();throw new Error(t.detail||"Failed to fetch health")}return e.json()}const kn={runAudit:Pj,runQuickAudit:Fj,auditExecution:Lj,getAudit:Oj,listAudits:Dj,analyzeRebar:Aj,analyzeFormwork:Ij,analyzeFull:Mj,generateRedFlagReport:zj,generateMitigationPlan:Bj,getAuditReport:Uj,listOpenFlags:Wj,resolveFlag:Hj,acceptFlag:qj,getStatistics:Vj,getHealth:Qj},Jj={total_audits:45,passed:28,conditional_pass:12,failed:5,pass_rate:62.2,total_flags:89,critical_flags:8,major_flags:24,average_congestion_score:.32,average_formwork_score:.28,average_risk_score:.35},Kj=[{flag_id:"RF-A1B2C3D4",audit_id:"CA-12345678",severity:"critical",category:"rebar_congestion",member_id:"COL-A1",title:"Rebar Congestion: CRITICAL",description:"Reinforcement ratio 4.8% exceeds maximum 4%. Clear spacing 18mm is less than minimum 25mm.",status:"open",created_at:"2025-12-20T10:30:00Z"},{flag_id:"RF-E5F6G7H8",audit_id:"CA-12345678",severity:"major",category:"formwork_complexity",member_id:"BEAM-B2",title:"Formwork Complexity: COMPLEX",description:"Non-standard depth 725mm requires custom formwork. Estimated cost increase: 40%.",status:"open",created_at:"2025-12-20T10:30:00Z"},{flag_id:"RF-I9J0K1L2",audit_id:"CA-87654321",severity:"warning",category:"rebar_congestion",member_id:"BEAM-C3",title:"Rebar Congestion: HIGH",description:"Reinforcement ratio 3.5% approaching threshold. Monitor during detailing.",status:"open",created_at:"2025-12-19T14:15:00Z"}],Gj=[{audit_id:"CA-12345678",status:"completed",audit_type:"full",overall_risk_score:.65,risk_level:"high",is_constructable:!1,critical_count:1,major_count:2,warning_count:3,requested_by:"engineer123",created_at:"2025-12-20T10:30:00Z"},{audit_id:"CA-87654321",status:"completed",audit_type:"full",overall_risk_score:.35,risk_level:"medium",is_constructable:!0,critical_count:0,major_count:1,warning_count:2,requested_by:"engineer456",created_at:"2025-12-19T14:15:00Z"},{audit_id:"CA-11223344",status:"completed",audit_type:"quick",overall_risk_score:.15,risk_level:"low",is_constructable:!0,critical_count:0,major_count:0,warning_count:1,requested_by:"engineer789",created_at:"2025-12-18T09:45:00Z"}];function Yj(){var M,S,E,F,C,$,P;const[e,t]=y.useState("dashboard"),[n,s]=y.useState(!0),[a,i]=y.useState(null),[l,o]=y.useState([]),[c,d]=y.useState([]),[u,m]=y.useState({}),[f,j]=y.useState(!1),[x,b]=y.useState("rebar"),[N,h]=y.useState(null),[p,g]=y.useState(!1),[k,v]=y.useState({member_type:"column",member_id:"",width:400,depth:400,main_bar_diameter:20,main_bar_count:8,stirrup_diameter:8,stirrup_spacing:150,clear_cover:40,max_aggregate_size:20,concrete_grade:"M25"}),[R,L]=y.useState({member_type:"beam",member_id:"",length:5e3,width:300,depth:600,has_chamfers:!1,has_haunches:!1,has_curved_surfaces:!1,has_openings:!1,opening_count:0,exposed_concrete:!1,repetition_count:1});y.useEffect(()=>{A()},[]);const A=async()=>{try{s(!0);try{const _=await kn.getStatistics(null,30);i(_)}catch{i(Jj)}try{const _=await kn.listOpenFlags();o(_)}catch{o(Kj)}try{const _=await kn.listAudits(null,null,20);d(_)}catch{d(Gj)}}catch(_){console.error("Error fetching data:",_)}finally{s(!1)}},O=_=>{m(U=>({...U,[_]:!U[_]}))},w=async()=>{try{g(!0);let _;x==="rebar"?_=await kn.analyzeRebar(k):_=await kn.analyzeFormwork(R),h(_)}catch(_){console.error("Analysis error:",_),h(x==="rebar"?{member_type:k.member_type,member_id:k.member_id||"DEMO-001",gross_area_mm2:k.width*k.depth,total_steel_area_mm2:Math.PI*Math.pow(k.main_bar_diameter/2,2)*k.main_bar_count,reinforcement_ratio_percent:2.5,clear_spacing_horizontal:45,clear_spacing_vertical:80,min_required_spacing:25,spacing_adequate:!0,congestion_level:"moderate",congestion_score:.35,issues:[],recommendations:["Current design is acceptable but close to limits."]}:{member_type:R.member_type,member_id:R.member_id||"DEMO-001",width_is_standard:!0,depth_is_standard:!0,complexity_level:"standard",complexity_score:.15,estimated_cost_multiplier:1,labor_hours_multiplier:1,complexity_factors:[],recommendations:["Standard formwork dimensions. Consider system formwork."]})}finally{g(!1)}},W=async _=>{try{await kn.resolveFlag(_,"Issue resolved through design modification.","current_user"),await A()}catch(U){console.error("Error resolving flag:",U)}},V=async _=>{try{await kn.acceptFlag(_,"Risk accepted - will monitor during construction.","current_user"),await A()}catch(U){console.error("Error accepting flag:",U)}},Y=_=>{switch(_){case"critical":return"bg-red-100 text-red-800 border-red-200";case"major":return"bg-orange-100 text-orange-800 border-orange-200";case"warning":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"info":return"bg-blue-100 text-blue-800 border-blue-200";default:return"bg-gray-100 text-gray-800"}},K=_=>{switch(_){case"critical":return r.jsx(cc,{className:"text-red-600"});case"major":return r.jsx(It,{className:"text-orange-600"});case"warning":return r.jsx(He,{className:"text-yellow-600"});case"info":return r.jsx(Be,{className:"text-blue-600"});default:return r.jsx(He,{className:"text-gray-600"})}},ve=_=>{switch(_){case"low":return"text-green-600";case"medium":return"text-yellow-600";case"high":return"text-orange-600";case"critical":return"text-red-600";default:return"text-gray-600"}},te=_=>{switch(_){case"low":return"bg-green-100 text-green-800";case"moderate":return"bg-yellow-100 text-yellow-800";case"high":return"bg-orange-100 text-orange-800";case"critical":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},ne=_=>new Date(_).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Constructability Agent"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Automated analysis of designs for physical feasibility before construction"})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:()=>j(!f),className:"btn-primary flex items-center gap-2",children:[r.jsx(Vt,{}),"Quick Analysis"]}),r.jsxs("button",{onClick:A,className:"btn-secondary flex items-center gap-2",disabled:n,children:[r.jsx(yt,{className:n?"animate-spin":""}),"Refresh"]})]})]}),f&&r.jsxs("div",{className:"card border-2 border-primary-200",children:[r.jsxs("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-semibold",children:"Quick Analysis Tool"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>b("rebar"),className:`px-4 py-2 rounded-lg text-sm font-medium ${x==="rebar"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700"}`,children:"Rebar Congestion"}),r.jsx("button",{onClick:()=>b("formwork"),className:`px-4 py-2 rounded-lg text-sm font-medium ${x==="formwork"?"bg-primary-600 text-white":"bg-gray-100 text-gray-700"}`,children:"Formwork Complexity"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-4",children:[x==="rebar"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Member Type"}),r.jsxs("select",{value:k.member_type,onChange:_=>v({...k,member_type:_.target.value}),className:"input-field w-full",children:[r.jsx("option",{value:"column",children:"Column"}),r.jsx("option",{value:"beam",children:"Beam"}),r.jsx("option",{value:"footing",children:"Footing"}),r.jsx("option",{value:"slab",children:"Slab"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Member ID"}),r.jsx("input",{type:"text",value:k.member_id,onChange:_=>v({...k,member_id:_.target.value}),placeholder:"e.g., COL-A1",className:"input-field w-full"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Width (mm)"}),r.jsx("input",{type:"number",value:k.width,onChange:_=>v({...k,width:Number(_.target.value)}),className:"input-field w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Depth (mm)"}),r.jsx("input",{type:"number",value:k.depth,onChange:_=>v({...k,depth:Number(_.target.value)}),className:"input-field w-full"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Main Bar Diameter (mm)"}),r.jsx("input",{type:"number",value:k.main_bar_diameter,onChange:_=>v({...k,main_bar_diameter:Number(_.target.value)}),className:"input-field w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Main Bar Count"}),r.jsx("input",{type:"number",value:k.main_bar_count,onChange:_=>v({...k,main_bar_count:Number(_.target.value)}),className:"input-field w-full"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Clear Cover (mm)"}),r.jsx("input",{type:"number",value:k.clear_cover,onChange:_=>v({...k,clear_cover:Number(_.target.value)}),className:"input-field w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Aggregate Size (mm)"}),r.jsx("input",{type:"number",value:k.max_aggregate_size,onChange:_=>v({...k,max_aggregate_size:Number(_.target.value)}),className:"input-field w-full"})]})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Member Type"}),r.jsxs("select",{value:R.member_type,onChange:_=>L({...R,member_type:_.target.value}),className:"input-field w-full",children:[r.jsx("option",{value:"column",children:"Column"}),r.jsx("option",{value:"beam",children:"Beam"}),r.jsx("option",{value:"slab",children:"Slab"}),r.jsx("option",{value:"wall",children:"Wall"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Member ID"}),r.jsx("input",{type:"text",value:R.member_id,onChange:_=>L({...R,member_id:_.target.value}),placeholder:"e.g., BEAM-B1",className:"input-field w-full"})]})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Length (mm)"}),r.jsx("input",{type:"number",value:R.length,onChange:_=>L({...R,length:Number(_.target.value)}),className:"input-field w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Width (mm)"}),r.jsx("input",{type:"number",value:R.width,onChange:_=>L({...R,width:Number(_.target.value)}),className:"input-field w-full"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Depth (mm)"}),r.jsx("input",{type:"number",value:R.depth,onChange:_=>L({...R,depth:Number(_.target.value)}),className:"input-field w-full"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Repetition Count"}),r.jsx("input",{type:"number",value:R.repetition_count,onChange:_=>L({...R,repetition_count:Number(_.target.value)}),className:"input-field w-full"})]}),r.jsxs("div",{className:"space-y-2 pt-6",children:[r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:R.has_chamfers,onChange:_=>L({...R,has_chamfers:_.target.checked})}),r.jsx("span",{className:"text-sm",children:"Has Chamfers"})]}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:R.exposed_concrete,onChange:_=>L({...R,exposed_concrete:_.target.checked})}),r.jsx("span",{className:"text-sm",children:"Exposed Concrete"})]})]})]})]}),r.jsxs("button",{onClick:w,disabled:p,className:"btn-primary w-full flex items-center justify-center gap-2",children:[p?r.jsx(yt,{className:"animate-spin"}):r.jsx(zt,{}),"Run Analysis"]})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[r.jsx("h4",{className:"font-medium mb-3",children:"Analysis Result"}),N?r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Member"}),r.jsxs("span",{className:"font-medium",children:[N.member_id||"N/A"," (",N.member_type,")"]})]}),x==="rebar"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Reinforcement Ratio"}),r.jsxs("span",{className:"font-medium",children:[(M=N.reinforcement_ratio_percent)==null?void 0:M.toFixed(2),"%"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Clear Spacing (H)"}),r.jsxs("span",{className:"font-medium",children:[(S=N.clear_spacing_horizontal)==null?void 0:S.toFixed(1)," mm"]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Spacing Adequate"}),r.jsx("span",{className:`font-medium ${N.spacing_adequate?"text-green-600":"text-red-600"}`,children:N.spacing_adequate?"Yes":"No"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Congestion Level"}),r.jsx("span",{className:`badge ${te(N.congestion_level)}`,children:(E=N.congestion_level)==null?void 0:E.toUpperCase()})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Congestion Score"}),r.jsxs("span",{className:"font-medium",children:[(N.congestion_score*100).toFixed(1),"%"]})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Width Standard"}),r.jsx("span",{className:`font-medium ${N.width_is_standard?"text-green-600":"text-orange-600"}`,children:N.width_is_standard?"Yes":"No"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Depth Standard"}),r.jsx("span",{className:`font-medium ${N.depth_is_standard?"text-green-600":"text-orange-600"}`,children:N.depth_is_standard?"Yes":"No"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Complexity Level"}),r.jsx("span",{className:`badge ${te(N.complexity_level)}`,children:(F=N.complexity_level)==null?void 0:F.toUpperCase()})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Cost Multiplier"}),r.jsxs("span",{className:"font-medium",children:[(C=N.estimated_cost_multiplier)==null?void 0:C.toFixed(2),"x"]})]})]}),(($=N.recommendations)==null?void 0:$.length)>0&&r.jsxs("div",{className:"mt-4 pt-4 border-t",children:[r.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Recommendations"}),N.recommendations.slice(0,3).map((_,U)=>r.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[" ",_]},U))]})]}):r.jsx("p",{className:"text-sm text-gray-500",children:"Run an analysis to see results"})]})]})]}),a&&r.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Total Audits"}),r.jsx("p",{className:"text-2xl font-bold",children:a.total_audits})]}),r.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:r.jsx(gr,{className:"w-6 h-6 text-blue-600"})})]}),r.jsxs("div",{className:"mt-4 flex items-center gap-4 text-sm",children:[r.jsxs("span",{className:"text-green-600",children:[" ",a.passed," passed"]}),r.jsxs("span",{className:"text-yellow-600",children:[" ",a.conditional_pass," conditional"]}),r.jsxs("span",{className:"text-red-600",children:[" ",a.failed," failed"]})]})]}),r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"}),r.jsxs("p",{className:"text-2xl font-bold",children:[(P=a.pass_rate)==null?void 0:P.toFixed(1),"%"]})]}),r.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:r.jsx(Be,{className:"w-6 h-6 text-green-600"})})]}),r.jsx("div",{className:"mt-4",children:r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:r.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${a.pass_rate||0}%`}})})})]}),r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Open Flags"}),r.jsx("p",{className:"text-2xl font-bold",children:a.total_flags})]}),r.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:r.jsx(It,{className:"w-6 h-6 text-orange-600"})})]}),r.jsxs("div",{className:"mt-4 flex items-center gap-4 text-sm",children:[r.jsxs("span",{className:"text-red-600",children:[" ",a.critical_flags," critical"]}),r.jsxs("span",{className:"text-orange-600",children:[" ",a.major_flags," major"]})]})]}),r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Avg Risk Score"}),r.jsxs("p",{className:`text-2xl font-bold ${ve(a.average_risk_score<.25?"low":a.average_risk_score<.5?"medium":a.average_risk_score<.75?"high":"critical")}`,children:[(a.average_risk_score*100).toFixed(1),"%"]})]}),r.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:r.jsx(gs,{className:"w-6 h-6 text-purple-600"})})]}),r.jsxs("div",{className:"mt-4 text-sm text-gray-500",children:[r.jsxs("span",{children:["Congestion: ",(a.average_congestion_score*100).toFixed(0),"%"]}),r.jsx("span",{className:"mx-2",children:""}),r.jsxs("span",{children:["Formwork: ",(a.average_formwork_score*100).toFixed(0),"%"]})]})]})]}),r.jsx("div",{className:"border-b border-gray-200",children:r.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"dashboard",label:"Dashboard",icon:gs},{id:"flags",label:"Open Flags",icon:It},{id:"audits",label:"Audit History",icon:ic}].map(_=>r.jsxs("button",{onClick:()=>t(_.id),className:`py-4 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${e===_.id?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[r.jsx(_.icon,{className:"w-4 h-4"}),_.label]},_.id))})}),e==="dashboard"&&r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"card",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[r.jsx(It,{className:"text-red-600"}),"Critical Flags Requiring Attention"]}),r.jsxs("div",{className:"space-y-3",children:[l.filter(_=>_.severity==="critical").slice(0,5).map(_=>r.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-red-900",children:_.title}),r.jsx("p",{className:"text-sm text-red-700",children:_.member_id})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>W(_.flag_id),className:"p-1 hover:bg-red-100 rounded",title:"Resolve",children:r.jsx(at,{className:"w-4 h-4 text-green-600"})}),r.jsx("button",{onClick:()=>V(_.flag_id),className:"p-1 hover:bg-red-100 rounded",title:"Accept Risk",children:r.jsx(ot,{className:"w-4 h-4 text-gray-600"})})]})]}),r.jsx("p",{className:"text-sm text-red-700 mt-2",children:_.description})]},_.flag_id)),l.filter(_=>_.severity==="critical").length===0&&r.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No critical flags! "})]})]}),r.jsxs("div",{className:"card",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[r.jsx(gr,{className:"text-blue-600"}),"Recent Audits"]}),r.jsx("div",{className:"space-y-3",children:c.slice(0,5).map(_=>r.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:_.audit_id}),r.jsx("p",{className:"text-sm text-gray-500",children:ne(_.created_at)})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:`badge ${_.is_constructable?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_.is_constructable?"PASS":"FAIL"}),r.jsxs("p",{className:`text-sm mt-1 ${ve(_.risk_level)}`,children:["Risk: ",(_.overall_risk_score*100).toFixed(0),"%"]})]})]}),r.jsxs("div",{className:"flex gap-4 mt-2 text-xs text-gray-500",children:[r.jsxs("span",{children:[" ",_.critical_count]}),r.jsxs("span",{children:[" ",_.major_count]}),r.jsxs("span",{children:[" ",_.warning_count]})]})]},_.audit_id))})]})]}),e==="flags"&&r.jsxs("div",{className:"card",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Open Red Flags"}),r.jsxs("div",{className:"space-y-4",children:[l.map(_=>r.jsxs("div",{className:`border rounded-lg overflow-hidden ${Y(_.severity)}`,children:[r.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer",onClick:()=>O(_.flag_id),children:[r.jsxs("div",{className:"flex items-center gap-4",children:[K(_.severity),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:_.title}),r.jsxs("p",{className:"text-sm opacity-75",children:[_.member_id,"  ",_.category.replace("_"," ")]})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-sm opacity-75",children:ne(_.created_at)}),u[_.flag_id]?r.jsx(xr,{}):r.jsx(zn,{})]})]}),u[_.flag_id]&&r.jsxs("div",{className:"p-4 border-t bg-white",children:[r.jsx("p",{className:"text-sm text-gray-700 mb-4",children:_.description}),r.jsxs("div",{className:"flex gap-3",children:[r.jsxs("button",{onClick:()=>W(_.flag_id),className:"btn-primary flex items-center gap-2",children:[r.jsx(at,{})," Resolve"]}),r.jsxs("button",{onClick:()=>V(_.flag_id),className:"btn-secondary flex items-center gap-2",children:[r.jsx(ot,{})," Accept Risk"]})]})]})]},_.flag_id)),l.length===0&&r.jsx("p",{className:"text-center text-gray-500 py-8",children:"No open flags"})]})]}),e==="audits"&&r.jsxs("div",{className:"card",children:[r.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Audit History"}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:r.jsxs("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Audit ID"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Risk Score"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Flags"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(_=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:_.audit_id}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 capitalize",children:_.audit_type}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`badge ${_.is_constructable?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:_.is_constructable?"PASS":"FAIL"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsxs("span",{className:`font-medium ${ve(_.risk_level)}`,children:[(_.overall_risk_score*100).toFixed(0),"%"]})}),r.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:[r.jsxs("span",{className:"text-red-600 mr-2",children:[" ",_.critical_count]}),r.jsxs("span",{className:"text-orange-600 mr-2",children:[" ",_.major_count]}),r.jsxs("span",{className:"text-yellow-600",children:[" ",_.warning_count]})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ne(_.created_at)})]},_.audit_id))})]})})]})]})}const Pt="http://localhost:8000";async function Xj(e=null){let t=`${Pt}/scenarios/templates`;e&&(t+=`?template_type=${e}`);const n=await fetch(t);if(!n.ok){const s=await n.json();throw new Error(s.detail||"Failed to fetch templates")}return n.json()}async function Zj(e){const t=await fetch(`${Pt}/scenarios/templates/${e}`);if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to fetch template")}return t.json()}async function e_(e){const t=await fetch(`${Pt}/scenarios/from-template`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to create scenarios")}return t.json()}async function t_(e,t="user"){const n=await fetch(`${Pt}/scenarios/?created_by=${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const s=await n.json();throw new Error(s.detail||"Failed to create scenario")}return n.json()}async function n_(e={}){const t=new URLSearchParams;e.projectId&&t.append("project_id",e.projectId),e.scenarioType&&t.append("scenario_type",e.scenarioType),e.comparisonGroupId&&t.append("comparison_group_id",e.comparisonGroupId),e.limit&&t.append("limit",e.limit),e.offset&&t.append("offset",e.offset);const n=await fetch(`${Pt}/scenarios/?${t.toString()}`);if(!n.ok){const s=await n.json();throw new Error(s.detail||"Failed to fetch scenarios")}return n.json()}async function r_(e){const t=await fetch(`${Pt}/scenarios/${e}`);if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to fetch scenario")}return t.json()}async function s_(e){const t=await fetch(`${Pt}/scenarios/${e}/boq`);if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to fetch BOQ")}return t.json()}async function a_(e,t,n=null){const s=await fetch(`${Pt}/scenarios/compare?compared_by=user`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({scenario_a_id:e,scenario_b_id:t,comparison_group_id:n})});if(!s.ok){const a=await s.json();throw new Error(a.detail||"Failed to compare scenarios")}return s.json()}async function i_(e,t,n,s){const a=await fetch(`${Pt}/scenarios/quick-compare?scenario_type=${t}&created_by=user`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({base_input:e,scenario_a_variables:n,scenario_b_variables:s})});if(!a.ok){const i=await a.json();throw new Error(i.detail||"Failed to run quick comparison")}return a.json()}async function l_(e,t="user"){const n=await fetch(`${Pt}/scenarios/groups?created_by=${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!n.ok){const s=await n.json();throw new Error(s.detail||"Failed to create comparison group")}return n.json()}function o_(e){return e>=1e7?`${(e/1e7).toFixed(2)} Cr`:e>=1e5?`${(e/1e5).toFixed(2)} L`:e>=1e3?`${(e/1e3).toFixed(1)} K`:`${e.toFixed(0)}`}function c_(e){switch(e){case"a":return"bg-blue-100 text-blue-800";case"b":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}}function d_(e,t){return e===0?t===0?0:100:((t-e)/e*100).toFixed(1)}const Ys={getTemplates:Xj,getTemplate:Zj,createScenariosFromTemplate:e_,createScenario:t_,listScenarios:n_,getScenario:r_,getScenarioBOQ:s_,compareScenarios:a_,quickCompare:i_,createComparisonGroup:l_,formatCurrency:o_,getWinnerColor:c_,calculateDifferencePercent:d_};function Se(e){return e>=1e7?`${(e/1e7).toFixed(2)} Cr`:e>=1e5?`${(e/1e5).toFixed(2)} L`:e>=1e3?`${(e/1e3).toFixed(1)}K`:`${(e==null?void 0:e.toFixed(0))||0}`}function Ur({winner:e,label:t=null}){const n={a:"bg-blue-100 text-blue-800 border-blue-200",b:"bg-green-100 text-green-800 border-green-200",tie:"bg-gray-100 text-gray-600 border-gray-200"},s={a:"A Wins",b:"B Wins",tie:"Tie"};return r.jsx("span",{className:`px-2 py-0.5 text-xs font-medium rounded-full border ${n[e]||n.tie}`,children:t||s[e]})}function u_({metric:e,formatValue:t=n=>n}){const n=e.difference,s=n>0,a=n<0;return r.jsxs("div",{className:"grid grid-cols-4 gap-4 py-3 border-b border-gray-100 items-center",children:[r.jsxs("div",{className:"font-medium text-gray-700 capitalize",children:[e.metric.replace(/_/g," "),e.unit&&r.jsxs("span",{className:"text-gray-400 text-sm ml-1",children:["(",e.unit,")"]})]}),r.jsx("div",{className:"text-center",children:r.jsx("span",{className:e.winner==="a"?"font-bold text-blue-600":"",children:t(e.scenario_a_value)})}),r.jsx("div",{className:"text-center",children:r.jsx("span",{className:e.winner==="b"?"font-bold text-green-600":"",children:t(e.scenario_b_value)})}),r.jsxs("div",{className:"text-center flex items-center justify-center gap-2",children:[a&&r.jsx(rf,{className:"text-green-500"}),s&&r.jsx(di,{className:"text-red-500"}),n===0&&r.jsx(ef,{className:"text-gray-400"}),r.jsx("span",{className:`text-sm ${a?"text-green-600":s?"text-red-600":"text-gray-500"}`,children:e.difference_percent?`${e.difference_percent>0?"+":""}${e.difference_percent}%`:"-"}),r.jsx(Ur,{winner:e.winner})]})]})}function Xs({label:e,valueA:t,valueB:n,maxValue:s,icon:a}){const i=s>0?t/s*100:0,l=s>0?n/s*100:0;return r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsxs("div",{className:"flex items-center text-sm font-medium text-gray-700",children:[a&&r.jsx(a,{className:"w-4 h-4 mr-2 text-gray-400"}),e]}),r.jsxs("div",{className:"flex gap-4 text-xs",children:[r.jsx("span",{className:"text-blue-600",children:Se(t)}),r.jsx("span",{className:"text-green-600",children:Se(n)})]})]}),r.jsxs("div",{className:"relative h-6 bg-gray-100 rounded overflow-hidden",children:[r.jsx("div",{className:"absolute top-0 left-0 h-3 bg-blue-400 rounded-t",style:{width:`${i}%`}}),r.jsx("div",{className:"absolute bottom-0 left-0 h-3 bg-green-400 rounded-b",style:{width:`${l}%`}})]})]})}function Zi({item:e,scenarioColor:t="blue"}){var s;const n=t==="blue"?"bg-blue-50 border-blue-100":"bg-green-50 border-green-100";return r.jsxs("div",{className:`grid grid-cols-5 gap-2 py-2 px-3 text-sm border-b ${n}`,children:[r.jsx("div",{className:"font-medium text-gray-800",children:e.description}),r.jsx("div",{className:"text-center text-gray-600",children:(s=e.quantity)==null?void 0:s.toFixed(2)}),r.jsx("div",{className:"text-center text-gray-600",children:e.unit}),r.jsx("div",{className:"text-right text-gray-600",children:Se(e.unit_rate)}),r.jsx("div",{className:"text-right font-medium text-gray-800",children:Se(e.total_amount)})]})}function m_({isOpen:e,onClose:t,scenarioA:n,scenarioB:s,boqA:a,boqB:i}){const[l,o]=y.useState("side-by-side");if(!e)return null;const c=["MATERIAL","LABOR","EQUIPMENT","OVERHEAD"],d=j=>{switch(j){case"MATERIAL":return oc;case"LABOR":return af;case"EQUIPMENT":return sf;case"OVERHEAD":return Vt;default:return sy}},u=j=>(j==null?void 0:j.reduce((x,b)=>{const N=b.category||"OTHER";return x[N]||(x[N]=[]),x[N].push(b),x},{}))||{},m=u(a),f=u(i);return r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4",children:[r.jsx("div",{className:"fixed inset-0 bg-black opacity-50",onClick:t}),r.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[r.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[r.jsx(ic,{className:"w-5 h-5 mr-2 text-primary-600"}),"Bill of Quantities Comparison"]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[r.jsx("button",{onClick:()=>o("side-by-side"),className:`px-3 py-1 text-sm rounded-md transition-colors ${l==="side-by-side"?"bg-white shadow text-primary-600":"text-gray-600"}`,children:"Side by Side"}),r.jsx("button",{onClick:()=>o("scenario-a"),className:`px-3 py-1 text-sm rounded-md transition-colors ${l==="scenario-a"?"bg-blue-100 text-blue-700":"text-gray-600"}`,children:"Scenario A"}),r.jsx("button",{onClick:()=>o("scenario-b"),className:`px-3 py-1 text-sm rounded-md transition-colors ${l==="scenario-b"?"bg-green-100 text-green-700":"text-gray-600"}`,children:"Scenario B"})]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:r.jsx(ot,{className:"w-6 h-6"})})]})]}),r.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-140px)]",children:l==="side-by-side"?r.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-blue-600 mb-4 flex items-center",children:[r.jsx("span",{className:"w-3 h-3 bg-blue-500 rounded-full mr-2"}),(n==null?void 0:n.scenario_name)||"Scenario A"]}),c.map(j=>{const x=m[j]||[];if(x.length===0)return null;const b=d(j),N=x.reduce((h,p)=>h+(p.total_amount||0),0);return r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between bg-blue-50 px-3 py-2 rounded-t-lg",children:[r.jsxs("span",{className:"font-medium text-blue-800 flex items-center",children:[r.jsx(b,{className:"w-4 h-4 mr-2"}),j]}),r.jsx("span",{className:"text-blue-600 font-medium",children:Se(N)})]}),r.jsx("div",{className:"border border-t-0 border-blue-100 rounded-b-lg",children:x.map((h,p)=>r.jsx(Zi,{item:h,scenarioColor:"blue"},p))})]},j)})]}),r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-green-600 mb-4 flex items-center",children:[r.jsx("span",{className:"w-3 h-3 bg-green-500 rounded-full mr-2"}),(s==null?void 0:s.scenario_name)||"Scenario B"]}),c.map(j=>{const x=f[j]||[];if(x.length===0)return null;const b=d(j),N=x.reduce((h,p)=>h+(p.total_amount||0),0);return r.jsxs("div",{className:"mb-4",children:[r.jsxs("div",{className:"flex items-center justify-between bg-green-50 px-3 py-2 rounded-t-lg",children:[r.jsxs("span",{className:"font-medium text-green-800 flex items-center",children:[r.jsx(b,{className:"w-4 h-4 mr-2"}),j]}),r.jsx("span",{className:"text-green-600 font-medium",children:Se(N)})]}),r.jsx("div",{className:"border border-t-0 border-green-100 rounded-b-lg",children:x.map((h,p)=>r.jsx(Zi,{item:h,scenarioColor:"green"},p))})]},j)})]})]}):r.jsxs("div",{children:[r.jsx("h3",{className:`font-semibold ${l==="scenario-a"?"text-blue-600":"text-green-600"} mb-4`,children:l==="scenario-a"?n==null?void 0:n.scenario_name:s==null?void 0:s.scenario_name}),r.jsxs("div",{className:"grid grid-cols-5 gap-2 py-2 px-3 bg-gray-100 rounded-t-lg text-xs font-medium text-gray-600",children:[r.jsx("div",{children:"Description"}),r.jsx("div",{className:"text-center",children:"Quantity"}),r.jsx("div",{className:"text-center",children:"Unit"}),r.jsx("div",{className:"text-right",children:"Rate"}),r.jsx("div",{className:"text-right",children:"Amount"})]}),c.map(j=>{const x=l==="scenario-a"?m[j]||[]:f[j]||[];if(x.length===0)return null;const b=d(j),N=l==="scenario-a"?"blue":"green";return r.jsxs("div",{className:"mb-2",children:[r.jsxs("div",{className:`flex items-center px-3 py-2 bg-${N}-50 font-medium text-${N}-800`,children:[r.jsx(b,{className:"w-4 h-4 mr-2"}),j]}),x.map((h,p)=>r.jsx(Zi,{item:h,scenarioColor:N},p))]},j)})]})}),r.jsxs("div",{className:"px-6 py-4 border-t bg-gray-50 flex justify-between items-center",children:[r.jsxs("div",{className:"flex gap-6",children:[r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Scenario A Total:"}),r.jsx("span",{className:"font-bold text-blue-600 ml-2",children:Se((n==null?void 0:n.total_cost)||0)})]}),r.jsxs("div",{className:"text-sm",children:[r.jsx("span",{className:"text-gray-500",children:"Scenario B Total:"}),r.jsx("span",{className:"font-bold text-green-600 ml-2",children:Se((s==null?void 0:s.total_cost)||0)})]})]}),r.jsx("button",{onClick:t,className:"btn btn-secondary",children:"Close"})]})]})]})})}function p_({isOpen:e,onClose:t,scenarioA:n,scenarioB:s}){const[a,i]=y.useState("a");if(!e)return null;const l=a==="a"?n:s,o=(l==null?void 0:l.design_outputs)||(l==null?void 0:l.design_output)||{};return r.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:r.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4",children:[r.jsx("div",{className:"fixed inset-0 bg-black opacity-50",onClick:t}),r.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[r.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[r.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[r.jsx(gr,{className:"w-5 h-5 mr-2 text-primary-600"}),"Design Output Details"]}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:r.jsx(ot,{className:"w-6 h-6"})})]}),r.jsx("div",{className:"px-6 py-3 bg-gray-50 border-b",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>i("a"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${a==="a"?"bg-blue-100 text-blue-700 border border-blue-200":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"}`,children:(n==null?void 0:n.scenario_name)||"Scenario A"}),r.jsx("button",{onClick:()=>i("b"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${a==="b"?"bg-green-100 text-green-700 border border-green-200":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"}`,children:(s==null?void 0:s.scenario_name)||"Scenario B"})]})}),r.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[r.jsx(Vt,{className:"w-4 h-4 mr-2"}),"Design Variables"]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Object.entries((l==null?void 0:l.design_variables)||{}).map(([c,d])=>r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[r.jsx("div",{className:"text-xs text-gray-500 capitalize",children:c.replace(/_/g," ")}),r.jsx("div",{className:"font-medium text-gray-900",children:String(d)})]},c))})]}),r.jsxs("div",{className:"mb-6",children:[r.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[r.jsx(oc,{className:"w-4 h-4 mr-2"}),"Material Quantities"]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Object.entries((l==null?void 0:l.material_quantities)||{}).map(([c,d])=>r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[r.jsx("div",{className:"text-xs text-gray-500 capitalize",children:c.replace(/_/g," ")}),r.jsx("div",{className:"font-medium text-gray-900",children:typeof d=="number"?d.toFixed(2):String(d)})]},c))})]}),Object.keys(o).length>0&&r.jsxs("div",{children:[r.jsxs("h3",{className:"font-semibold text-gray-800 mb-3 flex items-center",children:[r.jsx(gs,{className:"w-4 h-4 mr-2"}),"Structural Design Results"]}),r.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:r.jsx("pre",{className:"text-sm text-gray-700 whitespace-pre-wrap overflow-x-auto",children:JSON.stringify(o,null,2)})})]}),r.jsx("div",{className:"mt-6 pt-6 border-t",children:r.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[r.jsx(Ua,{className:"w-6 h-6 mx-auto mb-2 text-gray-400"}),r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Se((l==null?void 0:l.total_cost)||0)}),r.jsx("div",{className:"text-sm text-gray-500",children:"Total Cost"})]}),r.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[r.jsx(hn,{className:"w-6 h-6 mx-auto mb-2 text-gray-400"}),r.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[(l==null?void 0:l.estimated_duration_days)||0," days"]}),r.jsx("div",{className:"text-sm text-gray-500",children:"Duration"})]}),r.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[r.jsx(Tt,{className:"w-6 h-6 mx-auto mb-2 text-gray-400"}),r.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[(((l==null?void 0:l.complexity_score)||0)*100).toFixed(0),"%"]}),r.jsx("div",{className:"text-sm text-gray-500",children:"Complexity"})]})]})})]}),r.jsx("div",{className:"px-6 py-4 border-t bg-gray-50 flex justify-end",children:r.jsx("button",{onClick:t,className:"btn btn-secondary",children:"Close"})})]})]})})}function f_({comparison:e,onLoad:t,onDelete:n}){var s;return r.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"font-medium text-gray-800 text-sm",children:[e.scenario_a_name," vs ",e.scenario_b_name]}),r.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[new Date(e.created_at).toLocaleString(),"  Winner: ",((s=e.overall_winner)==null?void 0:s.toUpperCase())||"Tie"]})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>t(e),className:"p-2 text-gray-400 hover:text-primary-600 transition-colors",title:"Load comparison",children:r.jsx(uy,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>n(e.id),className:"p-2 text-gray-400 hover:text-red-600 transition-colors",title:"Delete",children:r.jsx(ys,{className:"w-4 h-4"})})]})]})}function h_(){var P,_,U,le,I,z,oe,Oe,_t,fc,hc,xc,gc,yc;const[e,t]=y.useState(!1),[n,s]=y.useState([]),[a,i]=y.useState(null),[l,o]=y.useState(null),[c,d]=y.useState(null),[u,m]=y.useState(null),[f,j]=y.useState("results"),[x,b]=y.useState(null),[N,h]=y.useState(!1),[p,g]=y.useState(!1),[k,v]=y.useState([]),[R,L]=y.useState([]),[A,O]=y.useState([]),[w,W]=y.useState(!1),[V,Y]=y.useState({span_length:6,dead_load_udl:15,live_load_udl:10,beam_width:.3,support_type:"simply_supported"}),K=y.useMemo(()=>{var wc,Nc,bc,kc,Sc,Cc,Ec,Rc;if(!c||!u)return null;const q=((wc=c.cost_breakdown)==null?void 0:wc.material)||c.total_cost*.6,Q=((Nc=c.cost_breakdown)==null?void 0:Nc.labor)||c.total_cost*.25,X=((bc=c.cost_breakdown)==null?void 0:bc.equipment)||c.total_cost*.1,nt=((kc=c.cost_breakdown)==null?void 0:kc.overhead)||c.total_cost*.05,Rs=((Sc=u.cost_breakdown)==null?void 0:Sc.material)||u.total_cost*.6,vc=((Cc=u.cost_breakdown)==null?void 0:Cc.labor)||u.total_cost*.25,jc=((Ec=u.cost_breakdown)==null?void 0:Ec.equipment)||u.total_cost*.1,_c=((Rc=u.cost_breakdown)==null?void 0:Rc.overhead)||u.total_cost*.05,$f=Math.max(q,Rs,Q,vc,X,jc,nt,_c);return{material:{a:q,b:Rs},labor:{a:Q,b:vc},equipment:{a:X,b:jc},overhead:{a:nt,b:_c},maxCost:$f}},[c,u]);y.useEffect(()=>{ve()},[]);const ve=async()=>{var q;try{const Q=await Ys.getTemplates("beam");s(Q.templates||[]),((q=Q.templates)==null?void 0:q.length)>0&&i(Q.templates[0])}catch(Q){console.error("Failed to fetch templates:",Q),s([{template_id:"beam-high-strength-vs-standard",template_name:"High-Strength vs Standard Concrete",template_type:"beam",description:"Compare M50 concrete with smaller sections vs M30 with standard sections"},{template_id:"beam-fast-track-vs-economical",template_name:"Fast-Track vs Economical",template_type:"beam",description:"Compare time-optimized vs cost-optimized design"}]),i({template_id:"beam-high-strength-vs-standard",template_name:"High-Strength vs Standard Concrete",template_type:"beam"})}},te=async()=>{var q,Q;if(!a){b("Please select a template");return}t(!0),b(null);try{const X=await Ys.createScenariosFromTemplate({template_id:a.template_id,base_input:V,created_by:"user"});if(d(X.scenario_a),m(X.scenario_b),o(X.comparison),(q=X.scenario_a)!=null&&q.scenario_id)try{const nt=await Ys.getScenarioBOQ(X.scenario_a.scenario_id);v(nt.items||[])}catch{v(ne("a"))}if((Q=X.scenario_b)!=null&&Q.scenario_id)try{const nt=await Ys.getScenarioBOQ(X.scenario_b.scenario_id);L(nt.items||[])}catch{L(ne("b"))}M(X.scenario_a,X.scenario_b,X.comparison)}catch(X){console.error("Comparison failed:",X),b(X.message),C()}finally{t(!1)}},ne=q=>{const Q=q==="a";return[{description:`Concrete ${Q?"M50":"M30"}`,quantity:Q?1.2:1.5,unit:"cum",unit_rate:Q?8500:6e3,total_amount:Q?10200:9e3,category:"MATERIAL"},{description:`Steel ${Q?"Fe550":"Fe500"}`,quantity:Q?180:210,unit:"kg",unit_rate:Q?85:75,total_amount:Q?15300:15750,category:"MATERIAL"},{description:"Formwork",quantity:Q?8.5:10.2,unit:"sqm",unit_rate:450,total_amount:Q?3825:4590,category:"MATERIAL"},{description:"Mason",quantity:Q?4:5,unit:"days",unit_rate:800,total_amount:Q?3200:4e3,category:"LABOR"},{description:"Helper",quantity:Q?8:10,unit:"days",unit_rate:500,total_amount:Q?4e3:5e3,category:"LABOR"},{description:"Concrete Mixer",quantity:1,unit:"day",unit_rate:2500,total_amount:2500,category:"EQUIPMENT"},{description:"Vibrator",quantity:1,unit:"day",unit_rate:1200,total_amount:1200,category:"EQUIPMENT"},{description:"Contingency (5%)",quantity:1,unit:"ls",unit_rate:Q?2e3:2050,total_amount:Q?2e3:2050,category:"OVERHEAD"}]},M=(q,Q,X)=>{const nt={id:Date.now().toString(),scenario_a_name:(q==null?void 0:q.scenario_name)||"Scenario A",scenario_b_name:(Q==null?void 0:Q.scenario_name)||"Scenario B",overall_winner:X==null?void 0:X.overall_winner,created_at:new Date().toISOString(),scenarioA:q,scenarioB:Q,comparison:X};O(Rs=>[nt,...Rs].slice(0,10))},S=q=>{d(q.scenarioA),m(q.scenarioB),o(q.comparison),v(ne("a")),L(ne("b")),W(!1)},E=q=>{O(Q=>Q.filter(X=>X.id!==q))},F=()=>{const q={exported_at:new Date().toISOString(),template:a==null?void 0:a.template_name,base_input:V,scenario_a:c,scenario_b:u,comparison:l,boq_a:k,boq_b:R},Q=new Blob([JSON.stringify(q,null,2)],{type:"application/json"}),X=URL.createObjectURL(Q),nt=document.createElement("a");nt.href=X,nt.download=`scenario-comparison-${Date.now()}.json`,nt.click(),URL.revokeObjectURL(X)},C=()=>{const q={scenario_id:"SCN-DEMO001",scenario_name:"High-Strength (M50)",scenario_type:"beam",total_cost:125e3,estimated_duration_days:18,complexity_score:.45,design_variables:{concrete_grade:"M50",steel_grade:"Fe550",optimization_level:"HIGH"},material_quantities:{concrete_volume:1.2,steel_weight:180,formwork_area:8.5},cost_breakdown:{material:75e3,labor:31250,equipment:12500,overhead:6250}},Q={scenario_id:"SCN-DEMO002",scenario_name:"Standard (M30)",scenario_type:"beam",total_cost:98e3,estimated_duration_days:22,complexity_score:.28,design_variables:{concrete_grade:"M30",steel_grade:"Fe500",optimization_level:"STANDARD"},material_quantities:{concrete_volume:1.5,steel_weight:210,formwork_area:10.2},cost_breakdown:{material:58800,labor:24500,equipment:9800,overhead:4900}},X={comparison_id:"CMP-DEMO001",cost_winner:"b",time_winner:"a",material_winner:"a",overall_winner:"tie",metrics:[{metric:"total_cost",scenario_a_value:125e3,scenario_b_value:98e3,difference:-27e3,difference_percent:-21.6,winner:"b",unit:"INR"},{metric:"duration_days",scenario_a_value:18,scenario_b_value:22,difference:4,difference_percent:22.2,winner:"a",unit:"days"},{metric:"concrete_volume",scenario_a_value:1.2,scenario_b_value:1.5,difference:.3,difference_percent:25,winner:"a",unit:"cum"},{metric:"steel_weight",scenario_a_value:180,scenario_b_value:210,difference:30,difference_percent:16.7,winner:"a",unit:"kg"}],trade_off:{cost_difference:-27e3,time_difference_days:4,cost_per_day_saved:6750,recommendation:"Scenario A is faster by 4 days at 6,750/day - good value for urgent projects",trade_off_score:.3,reasoning:["Scenario A saves 4 days of construction time","Extra cost of 27,000 may be justified for time-sensitive projects","Scenario A uses 20% less material overall"]}};d(q),m(Q),o(X),v(ne("a")),L(ne("b")),M(q,Q,X)},$=q=>{j(f===q?null:q)};return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"What-If Cost Engine"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Compare design scenarios to optimize cost vs. time trade-offs"})]}),r.jsxs("div",{className:"flex gap-2",children:[A.length>0&&r.jsxs("button",{onClick:()=>W(!w),className:`btn ${w?"btn-primary":"btn-secondary"} flex items-center`,children:[r.jsx(Zd,{className:"w-4 h-4 mr-2"}),"History (",A.length,")"]}),l&&r.jsxs("button",{onClick:F,className:"btn btn-secondary flex items-center",children:[r.jsx(oy,{className:"w-4 h-4 mr-2"}),"Export"]}),r.jsxs(Ue,{to:"/constructability",className:"btn btn-secondary flex items-center",children:[r.jsx(Tt,{className:"w-4 h-4 mr-2"}),"Constructability"]})]})]}),w&&A.length>0&&r.jsxs("div",{className:"card border-l-4 border-l-purple-500",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("h3",{className:"font-semibold flex items-center",children:[r.jsx(Zd,{className:"w-5 h-5 mr-2 text-purple-600"}),"Comparison History"]}),r.jsx("button",{onClick:()=>W(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(ot,{className:"w-5 h-5"})})]}),r.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:A.map(q=>r.jsx(f_,{comparison:q,onLoad:S,onDelete:E},q.id))})]}),r.jsxs("div",{className:"card",children:[r.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[r.jsx(xn,{className:"w-5 h-5 mr-2 text-primary-600"}),"Configure Comparison"]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comparison Template"}),r.jsx("div",{className:"space-y-2",children:n.map(q=>r.jsxs("div",{onClick:()=>i(q),className:`p-3 border rounded-lg cursor-pointer transition-all ${(a==null?void 0:a.template_id)===q.template_id?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:[r.jsx("div",{className:"font-medium text-gray-900",children:q.template_name}),r.jsx("div",{className:"text-sm text-gray-500 mt-1",children:q.description})]},q.template_id))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Base Design Parameters"}),r.jsxs("div",{className:"space-y-3 bg-gray-50 p-4 rounded-lg",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500",children:"Span Length (m)"}),r.jsx("input",{type:"number",value:V.span_length,onChange:q=>Y({...V,span_length:parseFloat(q.target.value)}),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm",step:"0.5",min:"1",max:"15"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500",children:"Beam Width (m)"}),r.jsx("input",{type:"number",value:V.beam_width,onChange:q=>Y({...V,beam_width:parseFloat(q.target.value)}),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm",step:"0.05",min:"0.15",max:"0.5"})]})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500",children:"Dead Load (kN/m)"}),r.jsx("input",{type:"number",value:V.dead_load_udl,onChange:q=>Y({...V,dead_load_udl:parseFloat(q.target.value)}),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm",step:"1",min:"0"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500",children:"Live Load (kN/m)"}),r.jsx("input",{type:"number",value:V.live_load_udl,onChange:q=>Y({...V,live_load_udl:parseFloat(q.target.value)}),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm",step:"1",min:"0"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-xs text-gray-500",children:"Support Type"}),r.jsxs("select",{value:V.support_type,onChange:q=>Y({...V,support_type:q.target.value}),className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md text-sm",children:[r.jsx("option",{value:"simply_supported",children:"Simply Supported"}),r.jsx("option",{value:"fixed_fixed",children:"Fixed Both Ends"}),r.jsx("option",{value:"continuous",children:"Continuous"}),r.jsx("option",{value:"cantilever",children:"Cantilever"})]})]})]})]})]}),x&&r.jsxs("div",{className:"mt-4 p-3 bg-red-50 text-red-700 rounded-lg text-sm flex items-center",children:[r.jsx(He,{className:"w-4 h-4 mr-2"}),x]}),r.jsx("div",{className:"mt-6 flex justify-end",children:r.jsxs("button",{onClick:te,disabled:e||!a,className:"btn btn-primary flex items-center",children:[e?r.jsx(yt,{className:"w-4 h-4 mr-2 animate-spin"}):r.jsx(zt,{className:"w-4 h-4 mr-2"}),e?"Running Comparison...":"Run Comparison"]})})]}),l&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:`card border-2 ${l.overall_winner==="a"?"border-blue-500":"border-gray-200"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"font-semibold text-blue-600",children:"Scenario A"}),l.overall_winner==="a"&&r.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:"Recommended"})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:c==null?void 0:c.scenario_name}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"Total Cost"}),r.jsx("span",{className:"font-bold",children:Se(c==null?void 0:c.total_cost)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"Duration"}),r.jsxs("span",{className:"font-medium",children:[c==null?void 0:c.estimated_duration_days," days"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"Concrete"}),r.jsxs("span",{className:"font-medium",children:[(_=(P=c==null?void 0:c.material_quantities)==null?void 0:P.concrete_volume)==null?void 0:_.toFixed(2)," m"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"Steel"}),r.jsxs("span",{className:"font-medium",children:[(le=(U=c==null?void 0:c.material_quantities)==null?void 0:U.steel_weight)==null?void 0:le.toFixed(0)," kg"]})]})]}),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:(I=c==null?void 0:c.design_variables)==null?void 0:I.concrete_grade}),r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:(z=c==null?void 0:c.design_variables)==null?void 0:z.steel_grade})]})})]}),r.jsxs("div",{className:"card flex flex-col items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100",children:[r.jsx("div",{className:"text-4xl font-bold text-gray-300 mb-4",children:"VS"}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Overall Winner"}),r.jsx(Ur,{winner:l.overall_winner,label:l.overall_winner==="a"?"Scenario A":l.overall_winner==="b"?"Scenario B":"Tie"})]}),r.jsxs("div",{className:"mt-4 text-center",children:[r.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:["Cost: ",r.jsx(Ur,{winner:l.cost_winner})]}),r.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:["Time: ",r.jsx(Ur,{winner:l.time_winner})]}),r.jsxs("div",{className:"text-xs text-gray-500",children:["Material: ",r.jsx(Ur,{winner:l.material_winner})]})]})]}),r.jsxs("div",{className:`card border-2 ${l.overall_winner==="b"?"border-green-500":"border-gray-200"}`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"font-semibold text-green-600",children:"Scenario B"}),l.overall_winner==="b"&&r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full",children:"Recommended"})]}),r.jsx("p",{className:"text-sm text-gray-600 mb-4",children:u==null?void 0:u.scenario_name}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"Total Cost"}),r.jsx("span",{className:"font-bold",children:Se(u==null?void 0:u.total_cost)})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"Duration"}),r.jsxs("span",{className:"font-medium",children:[u==null?void 0:u.estimated_duration_days," days"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"Concrete"}),r.jsxs("span",{className:"font-medium",children:[(Oe=(oe=u==null?void 0:u.material_quantities)==null?void 0:oe.concrete_volume)==null?void 0:Oe.toFixed(2)," m"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-500",children:"Steel"}),r.jsxs("span",{className:"font-medium",children:[(fc=(_t=u==null?void 0:u.material_quantities)==null?void 0:_t.steel_weight)==null?void 0:fc.toFixed(0)," kg"]})]})]}),r.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:(hc=u==null?void 0:u.design_variables)==null?void 0:hc.concrete_grade}),r.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded",children:(xc=u==null?void 0:u.design_variables)==null?void 0:xc.steel_grade})]})})]})]}),r.jsxs("div",{className:"flex flex-wrap gap-3 justify-center",children:[r.jsxs("button",{onClick:()=>h(!0),className:"btn btn-secondary flex items-center",children:[r.jsx(ic,{className:"w-4 h-4 mr-2"}),"View BOQ Details"]}),r.jsxs("button",{onClick:()=>g(!0),className:"btn btn-secondary flex items-center",children:[r.jsx(gr,{className:"w-4 h-4 mr-2"}),"View Design Output"]}),r.jsxs("button",{onClick:()=>$("costBreakdown"),className:`btn ${f==="costBreakdown"?"btn-primary":"btn-secondary"} flex items-center`,children:[r.jsx(Xd,{className:"w-4 h-4 mr-2"}),"Cost Breakdown"]})]}),f==="costBreakdown"&&K&&r.jsxs("div",{className:"card border-l-4 border-l-orange-500",children:[r.jsxs("h3",{className:"font-semibold flex items-center mb-4",children:[r.jsx(Xd,{className:"w-5 h-5 mr-2 text-orange-600"}),"Cost Breakdown Comparison"]}),r.jsxs("div",{className:"mb-4 flex items-center gap-6 text-sm",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"w-4 h-4 bg-blue-400 rounded mr-2"}),r.jsx("span",{children:(c==null?void 0:c.scenario_name)||"Scenario A"})]}),r.jsxs("div",{className:"flex items-center",children:[r.jsx("span",{className:"w-4 h-4 bg-green-400 rounded mr-2"}),r.jsx("span",{children:(u==null?void 0:u.scenario_name)||"Scenario B"})]})]}),r.jsx(Xs,{label:"Material Costs",valueA:K.material.a,valueB:K.material.b,maxValue:K.maxCost,icon:oc}),r.jsx(Xs,{label:"Labor Costs",valueA:K.labor.a,valueB:K.labor.b,maxValue:K.maxCost,icon:af}),r.jsx(Xs,{label:"Equipment Costs",valueA:K.equipment.a,valueB:K.equipment.b,maxValue:K.maxCost,icon:sf}),r.jsx(Xs,{label:"Overhead",valueA:K.overhead.a,valueB:K.overhead.b,maxValue:K.maxCost,icon:Vt}),r.jsxs("div",{className:"mt-4 pt-4 border-t flex justify-between text-sm",children:[r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Total A:"}),r.jsx("span",{className:"font-bold text-blue-600 ml-2",children:Se((c==null?void 0:c.total_cost)||0)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Total B:"}),r.jsx("span",{className:"font-bold text-green-600 ml-2",children:Se((u==null?void 0:u.total_cost)||0)})]}),r.jsxs("div",{children:[r.jsx("span",{className:"text-gray-500",children:"Difference:"}),r.jsx("span",{className:`font-bold ml-2 ${((c==null?void 0:c.total_cost)||0)>((u==null?void 0:u.total_cost)||0)?"text-red-600":"text-green-600"}`,children:Se(Math.abs(((c==null?void 0:c.total_cost)||0)-((u==null?void 0:u.total_cost)||0)))})]})]})]}),r.jsxs("div",{className:"card border-l-4 border-l-indigo-500",children:[r.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>$("tradeoff"),children:[r.jsxs("h3",{className:"font-semibold flex items-center",children:[r.jsx(nf,{className:"w-5 h-5 mr-2 text-indigo-600"}),"Trade-off Analysis"]}),f==="tradeoff"?r.jsx(xr,{}):r.jsx(zn,{})]}),f==="tradeoff"&&l.trade_off&&r.jsxs("div",{className:"mt-4 pt-4 border-t",children:[r.jsx("div",{className:"bg-indigo-50 p-4 rounded-lg mb-4",children:r.jsx("p",{className:"text-indigo-900 font-medium",children:l.trade_off.recommendation})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:Se(Math.abs(l.trade_off.cost_difference))}),r.jsx("div",{className:"text-sm text-gray-500",children:"Cost Difference"})]}),r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[Math.abs(l.trade_off.time_difference_days)," days"]}),r.jsx("div",{className:"text-sm text-gray-500",children:"Time Difference"})]}),l.trade_off.cost_per_day_saved&&r.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:[Se(l.trade_off.cost_per_day_saved),"/day"]}),r.jsx("div",{className:"text-sm text-gray-500",children:"Cost per Day Saved"})]})]}),((gc=l.trade_off.reasoning)==null?void 0:gc.length)>0&&r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Key Considerations:"}),r.jsx("ul",{className:"space-y-1",children:l.trade_off.reasoning.map((q,Q)=>r.jsxs("li",{className:"flex items-start text-sm text-gray-600",children:[r.jsx(Be,{className:"w-4 h-4 mr-2 mt-0.5 text-indigo-500 flex-shrink-0"}),q]},Q))})]})]})]}),r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center justify-between cursor-pointer",onClick:()=>$("metrics"),children:[r.jsxs("h3",{className:"font-semibold flex items-center",children:[r.jsx(gs,{className:"w-5 h-5 mr-2 text-primary-600"}),"Detailed Comparison"]}),f==="metrics"?r.jsx(xr,{}):r.jsx(zn,{})]}),f==="metrics"&&r.jsxs("div",{className:"mt-4",children:[r.jsxs("div",{className:"grid grid-cols-4 gap-4 py-2 px-3 bg-gray-50 rounded-t-lg text-sm font-medium text-gray-600",children:[r.jsx("div",{children:"Metric"}),r.jsx("div",{className:"text-center text-blue-600",children:"Scenario A"}),r.jsx("div",{className:"text-center text-green-600",children:"Scenario B"}),r.jsx("div",{className:"text-center",children:"Difference"})]}),r.jsx("div",{className:"px-3",children:(yc=l.metrics)==null?void 0:yc.map((q,Q)=>r.jsx(u_,{metric:q,formatValue:X=>q.metric==="total_cost"?Se(X):typeof X=="number"?X.toFixed(2):X},Q))})]})]})]}),r.jsxs("div",{className:"card bg-gradient-to-r from-indigo-50 to-purple-50 border-indigo-200",children:[r.jsxs("h3",{className:"font-semibold text-indigo-900 flex items-center",children:[r.jsx(ac,{className:"w-4 h-4 mr-2"}),"How What-If Comparison Works"]}),r.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-indigo-800",children:[r.jsxs("li",{className:"flex items-start",children:[r.jsx(Be,{className:"w-4 h-4 mr-2 mt-0.5 text-indigo-600"}),"Select a comparison template (e.g., High-Strength vs Standard concrete)"]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(Be,{className:"w-4 h-4 mr-2 mt-0.5 text-indigo-600"}),"Enter your base design parameters (span, loads, etc.)"]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(Be,{className:"w-4 h-4 mr-2 mt-0.5 text-indigo-600"}),"The engine runs structural design for both scenarios"]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(Be,{className:"w-4 h-4 mr-2 mt-0.5 text-indigo-600"}),"BOQ and costs are generated with complexity factors from constructability analysis"]}),r.jsxs("li",{className:"flex items-start",children:[r.jsx(Be,{className:"w-4 h-4 mr-2 mt-0.5 text-indigo-600"}),"Trade-off analysis helps you choose between cost savings and faster execution"]})]})]}),r.jsx(m_,{isOpen:N,onClose:()=>h(!1),scenarioA:c,scenarioB:u,boqA:k,boqB:R}),r.jsx(p_,{isOpen:p,onClose:()=>g(!1),scenarioA:c,scenarioB:u})]})}function x_(){return r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),r.jsx("p",{className:"mt-2 text-gray-600",children:"Configure application settings and preferences"})]}),r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(gy,{className:"w-5 h-5 text-primary-600 mr-2"}),r.jsx("h2",{className:"text-xl font-semibold",children:"API Configuration"})]}),r.jsx("div",{className:"space-y-4",children:r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Backend API URL"}),r.jsx("input",{type:"text",defaultValue:"http://localhost:8000",className:"input-field mt-1",disabled:!0}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Configure in vite.config.js or .env file"})]})})]}),r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(sc,{className:"w-5 h-5 text-primary-600 mr-2"}),r.jsx("h2",{className:"text-xl font-semibold",children:"Database Information"})]}),r.jsxs("dl",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Database Type"}),r.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:"Supabase PostgreSQL"})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Vector Extension"}),r.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:"pgvector"})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Embedding Model"}),r.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:"text-embedding-3-large"})]}),r.jsxs("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"LLM Provider"}),r.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:"OpenRouter"})]})]})]}),r.jsxs("div",{className:"card",children:[r.jsxs("div",{className:"flex items-center mb-4",children:[r.jsx(tf,{className:"w-5 h-5 text-primary-600 mr-2"}),r.jsx("h2",{className:"text-xl font-semibold",children:"System Information"})]}),r.jsxs("dl",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Frontend Version"}),r.jsx("dd",{className:"text-sm text-gray-900",children:"1.0.0"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Implementation Phase"}),r.jsx("dd",{className:"text-sm text-gray-900",children:"Phase 2 Sprint 2 Complete"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Framework"}),r.jsx("dd",{className:"text-sm text-gray-900",children:"React 18 + Vite"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"UI Library"}),r.jsx("dd",{className:"text-sm text-gray-900",children:"Tailwind CSS"})]})]})]}),r.jsxs("div",{className:"card bg-primary-50 border border-primary-200",children:[r.jsx("h3",{className:"font-semibold text-primary-900 mb-3",children:" Documentation"}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsx("div",{children:r.jsx("a",{href:"/frontend/README.md",className:"text-primary-600 hover:text-primary-800 font-medium",children:"Frontend Documentation "})}),r.jsx("div",{children:r.jsx("a",{href:"/CLAUDE.md",className:"text-primary-600 hover:text-primary-800 font-medium",children:"Developer Guide "})}),r.jsx("div",{children:r.jsx("a",{href:"/PHASE2_SPRINT2_IMPLEMENTATION_SUMMARY.md",className:"text-primary-600 hover:text-primary-800 font-medium",children:"Phase 2 Sprint 2 Summary "})})]})]})]})}function g_(){return r.jsxs(dg,{children:[r.jsx(ty,{position:"top-right"}),r.jsx(rg,{children:r.jsxs(fe,{path:"/",element:r.jsx(yy,{}),children:[r.jsx(fe,{index:!0,element:r.jsx(eg,{to:"/dashboard",replace:!0})}),r.jsx(fe,{path:"dashboard",element:r.jsx(vy,{})}),r.jsx(fe,{path:"chat",element:r.jsx(nu,{})}),r.jsx(fe,{path:"chat/:sessionId",element:r.jsx(nu,{})}),r.jsx(fe,{path:"foundation-design",element:r.jsx(jy,{})}),r.jsx(fe,{path:"workflows",element:r.jsx(Qi,{})}),r.jsx(fe,{path:"workflows/create",element:r.jsx(Qi,{create:!0})}),r.jsx(fe,{path:"workflows/:schemaId",element:r.jsx(Qi,{})}),r.jsx(fe,{path:"workflows/:deliverableType/execute",element:r.jsx(by,{})}),r.jsx(fe,{path:"executions",element:r.jsx(su,{})}),r.jsx(fe,{path:"executions/:executionId",element:r.jsx(su,{})}),r.jsx(fe,{path:"approvals",element:r.jsx(ej,{})}),r.jsx(fe,{path:"risk-rules",element:r.jsx(aj,{})}),r.jsx(fe,{path:"performance",element:r.jsx(ij,{})}),r.jsx(fe,{path:"experiments",element:r.jsx(lj,{})}),r.jsx(fe,{path:"knowledge-graph",element:r.jsx($j,{})}),r.jsx(fe,{path:"constructability",element:r.jsx(Yj,{})}),r.jsx(fe,{path:"scenarios",element:r.jsx(h_,{})}),r.jsx(fe,{path:"settings",element:r.jsx(x_,{})})]})})]})}el.createRoot(document.getElementById("root")).render(r.jsx(Ct.StrictMode,{children:r.jsx(g_,{})}));
